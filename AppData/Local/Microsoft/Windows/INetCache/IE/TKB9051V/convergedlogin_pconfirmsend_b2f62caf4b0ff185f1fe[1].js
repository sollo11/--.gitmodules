/*!
 * ------------------------------------------- START OF THIRD PARTY NOTICE -----------------------------------------
 * 
 * This file is based on or incorporates material from the projects listed below (Third Party IP). The original copyright notice and the license under which Microsoft received such Third Party IP, are set forth below. Such licenses and notices are provided for informational purposes only. Microsoft licenses the Third Party IP to you under the licensing terms for the Microsoft product. Microsoft reserves all other rights not expressly granted under this agreement, whether by implication, estoppel or otherwise.
 * 
 *   json2.js (2016-05-01)
 *   https://github.com/douglascrockford/JSON-js
 *   License: Public Domain
 * 
 * Provided for Informational Purposes Only
 * 
 * ----------------------------------------------- END OF THIRD PARTY NOTICE ------------------------------------------
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{423:function(e,n,i){var t=i(2),r=i(13),o=i(1),c=i(3),a=i(4),s=i(0),d=i(14),l=i(19),u=i(29),C=i(7);var p=window,f=c.String,m=s.PaginatedState,S=s.CredentialType,T=s.LoginMode,_=s.EstsError,w=o.Helper;function v(e){var n=this,i=e.serverData,o=e.isInitialView,c=e.preferredCredential,u=e.sessions,p=e.flowToken,v=e.availableCreds||[],h=e.evictedCreds||[],k=e.useEvictedCredentials,g=e.currentCred||{},b=e.idpRedirectUrl,R=e.displayName,x=e.username,y=i.str,P=i.html,O=i.e,E=i.fPOST_ForceSignin,F=i.N,B=i.r,L=i.f,D=i.urlSwitch,V=i.Y,U=i.urlGetOneTimeCode,A=i.C,N=i.AL,I=i.F,q=!!i.d,M=i.sErrorCode,W=i.J,G=i.g,H=i.h,J=i.I,z=!!U,Y=!1,j=!1,K=null,Q=null,X=t.observable(p).extend({flowTokenUpdate:i}),Z=t.pureComputed((function(){var e=n.currentCred();return e.credType===S.OneTimeCode?e.proof.isNopa:!t.utils.arrayFirst(v,(function(e){return e.credType===S.Password}))})),$=t.pureComputed((function(){var e=n.currentCred();return e.credType===S.OneTimeCode?e.proof.type:f.isEmailAddress(x)?PROOF.Type.Email:PROOF.Type.SMS})),ee=t.pureComputed((function(){var e=n.currentCred();return e.credType===S.OneTimeCode?e.proof.data:Q})),ne=t.pureComputed((function(){var e=n.currentCred();return e.credType===S.OneTimeCode&&e.proof.isEncrypted}));function ie(e){if(!(c!==S.PublicIdentifierCode||e.SasParams&&e.SasParams.Success))return te(e);oe(e),re(!1),n.onSwitchView(m.OneTimeCode)}function te(e){oe(e),re(!1),n.hasSendCodeError(!0),n.primaryButtonText(y.CT_PWD_STR_SignIn_Button_Next)}function re(e){n.onSetPendingRequest(e),n.isRequestPending(e)}function oe(e){e&&ce(e.getFlowToken?e.getFlowToken():e.FlowToken)}function ce(e){e&&(X(e),n.onUpdateFlowToken(e),n.credSwitchLinkMethods()&&n.credSwitchLinkMethods().view_onUpdateFlowToken(e))}function ae(e){var n=null;switch(c){case S.RemoteNGC:n=M===_.SsoArtifactExpiredDueToConditionalAccess?y.CT_STR_ConfirmSend_RemoteNgc_ASLP:Y?y.CT_STR_ConfirmSend_RemoteNgc_ForceSignin:y.CT_STR_ConfirmSend_RemoteNgc;break;case S.OneTimeCode:case S.PublicIdentifierCode:n=M===_.SsoArtifactExpiredDueToConditionalAccess?y.CT_STR_ConfirmSend_Otc_ASLP:Y?y.CT_STR_ConfirmSend_Otc_ForceSignin:e?y.CT_STR_ConfirmSend_Otc_Email:P.CT_STR_ConfirmSend_Otc}return n}n.onSwitchView=a.create(),n.onRedirect=a.create(),n.onSetBackButtonState=a.create(),n.onSetPendingRequest=a.create(),n.onUpdateFlowToken=a.create(),n.hasRemoteNgc=!1,n.availableCreds=v,n.evictedCreds=h,n.showChangeUserLink=!1,n.isInitialView=o,n.isFederatedUser=!!b,n.unsafe_pageTitle=null,n.preferredCredential=c,n.flowToken=p,n.username=x,n.credSwitchLinkMethods=t.observable(),n.currentCred=t.observable(),n.primaryButtonText=t.observable(null),n.isRequestPending=t.observable(!1),n.hasSendCodeError=t.observable(!1),n.useEvictedCredentials=t.observable(k),n.description=t.pureComputed((function(){var e=n.currentCred(),i=n.hasSendCodeError(),t=$()===PROOF.Type.Email;return e.credType===S.OneTimeCode?i?t?y.CT_STR_ConfirmSend_Otc_SendError_Email:y.CT_STR_ConfirmSend_Otc_SendError:f.format(ae(t),e.proof.display):f.format(ae(t),w.htmlEscape(R))})),n.saveSharedData=function(e){e.flowToken=X(),e.useEvictedCredentials=j||n.useEvictedCredentials(),K&&(e.otcCredential=K)},n.getState=function(){return{savedCred:n.currentCred(),useEvictedCredentials:n.useEvictedCredentials()}},n.restoreState=function(e){e&&(n.currentCred(e.savedCred),n.useEvictedCredentials(e.useEvictedCredentials))},n.primaryButton_onClick=function(){switch(c){case S.RemoteNGC:n.onSwitchView(m.RemoteNGC);break;case S.OneTimeCode:case S.PublicIdentifierCode:!function(){if(!n.isRequestPending())if(re(!0),z){var e={Channel:$()===PROOF.Type.Email?d.Channel.EmailAddress:d.Channel.MobileSms,OriginalRequest:A,FlowToken:X()};new r({checkApiCanary:!0}).Json({url:U,eventId:C.EventIds.Api_GetOneTimeCode},e,ie,te,s.DefaultRequestTimeout)}else{var i={username:Q,proofData:ee(),proofType:$(),purpose:Z()?d.Purpose.NoPassword:d.Purpose.OtcLogin,flowToken:X(),isEncrypted:ne(),unauthSessionId:F,lcid:B,siteId:W,clientId:G,forwardedClientId:H,noPaBubbleVersion:J,successCallback:ie,failureCallback:te};if(i.isEncrypted)switch($()){case PROOF.Type.Email:i.proofConfirmation=n.currentCred().proof.display;break;case PROOF.Type.SMS:case PROOF.Type.Voice:i.proofConfirmation=f.cleanseUsername(n.currentCred().proof.display).slice(-4)}new l(i).sendRequest()}}()}},n.secondaryButton_onClick=function(){n.onSwitchView(m.Previous)},n.privacy_onClick=function(){n.onSwitchView(m.ViewAgreement)},n.tou_onClick=function(){n.onSwitchView(m.TermsOfUse)},n.phoneDisambiguation_onClick=function(){n.onSwitchView(m.PhoneDisambiguation)},n.switchToPassword_onClick=function(){n.onSwitchView(m.Password)},n.switchToOtherIdp_onClick=function(){n.onSwitchView(m.IdpRedirect)},n.selectAccount_onClick=function(){L&&D?n.onRedirect(D):n.onSwitchView(u.length?m.Tiles:m.Username)},n.switchToEvictedCredPicker_onClick=function(){j=!0,n.onSwitchView(m.CredentialPicker)},n.credSwitchLink_onSwitchView=function(e,i,t){t&&(K=t),n.onSwitchView(e,i)},n.credSwitchLink_onSetPendingRequest=function(e){re(e)},n.credSwitchLink_onUpdateFlowToken=function(e){ce(e)},function(){var e=null;switch(Q=f.cleanseUsername(R),Y=O===T.ForceSignin||O===T.ForceSigninMobile||O===T.ForceSigninHost||E,n.showChangeUserLink=V&&(L&&D||o),n.unsafe_pageTitle=N?f.format(y.CT_Win10_STR_Username_Title_WithOrgDomain,w.htmlUnescape(N)):y.WF_STR_HeaderDefault_Title_With_Brand,c){case S.RemoteNGC:n.hasRemoteNgc=!0,e=y.CT_STR_ConfirmSend_RemoteNgc_SendNotification,n.currentCred({credType:S.RemoteNGC});break;case S.OneTimeCode:case S.PublicIdentifierCode:e=y.CT_STR_ConfirmSend_Otc_SendCode,n.currentCred(g)}n.primaryButtonText(e),n.onSetBackButtonState(I&&(!o||q))}()}u.applyExtenders(t),t.components.register("login-confirm-send-view",{viewModel:v,template:i(505),synchronous:!p.ServerData.A||o.Helper.isStackSizeGreaterThan(p.ServerData.A),enableExtensions:!0}),e.exports=v},505:function(e,n,i){e.exports="\x3c!-- "+(i(18),i(17),i(30),i(33),' --\x3e\n\n<div data-bind="component: { name: \'header-control\',\n    params: {\n        serverData: svr,\n        title: str[\'WF_STR_HeaderDefault_Title\'] } }">\n</div>\n\n\x3c!-- ko if: isRequestPending --\x3e\n<div class="row progress-container">\n    <div class="progress" role="progressbar" tabindex="-1"\n        data-bind="component: \'marching-ants-control\', hasFocus: true, ariaLabel: str[\'WF_STR_ProgressText\']"></div>\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: isRequestPending --\x3e\n<div class="form-group">\n    <div class="row text-body text-block-body" data-bind="\n        htmlWithBindings: description,\n        childBindings: { \'phoneDisambigLink\': { click: phoneDisambiguation_onClick } }">\n    </div>\n</div>\n\x3c!-- /ko --\x3e\n\n<div class="position-buttons">\n    <div>\n        <div class="row">\n            <div class="col-md-24">\n                <div class="text-13">\n                    \x3c!-- ko ifnot: useEvictedCredentials --\x3e\n                        \x3c!-- ko component: { name: "cred-switch-link-control",\n                            publicMethods: credSwitchLinkMethods,\n                            params: {\n                                serverData: svr,\n                                username: username,\n                                availableCreds: availableCreds,\n                                flowToken: flowToken,\n                                currentCred: currentCred() },\n                            event: {\n                                switchView: credSwitchLink_onSwitchView,\n                                redirect: onRedirect,\n                                setPendingRequest: credSwitchLink_onSetPendingRequest,\n                                updateFlowToken: credSwitchLink_onUpdateFlowToken } } --\x3e\n                        \x3c!-- /ko --\x3e\n\n                        \x3c!-- ko if: evictedCreds.length > 0 --\x3e\n                        <div class="form-group">\n                            <a id="evictedAccount" href="#" data-bind="text: str[\'CT_PWD_STR_SwitchToCredPicker_Link_EvictedAcct\'], click: switchToEvictedCredPicker_onClick"></a>\n                        </div>\n                        \x3c!-- /ko --\x3e\n                    \x3c!-- /ko --\x3e\n                    \x3c!-- ko if: showChangeUserLink --\x3e\n                    <div class="form-group">\n                        <a id="i1668" href="#" data-bind="text: str[\'CT_FED_STR_ChangeUserLink_Text\'], click: selectAccount_onClick"></a>\n                    </div>\n                    \x3c!-- /ko --\x3e\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="win-button-pin-bottom">\n    <div class="row">\n        <div data-bind="component: { name: \'footer-buttons-field\',\n        params: {\n            serverData: svr,\n            removeBottomMargin: !hasRemoteNgc && !showChangeUserLink,\n            isPrimaryButtonVisible: svr.F && !isRequestPending(),\n            focusOnPrimaryButton: true,\n            primaryButtonText: primaryButtonText,\n            primaryButtonDescribedBy: \'loginHeader\',\n            isSecondaryButtonVisible: false },\n        event: {\n            primaryButtonClick: primaryButton_onClick,\n            secondaryButtonClick: secondaryButton_onClick } }">\n        </div>\n    </div>\n</div>')}}]),window.__convergedlogin_pconfirmsend_b2f62caf4b0ff185f1fe=!0;
//# sourceMappingURL=../b2f62caf4b0ff185f1fe.map