!function(e){function t(t){for(var r,o,i=t[0],s=t[1],a=0,u=[];a<i.length;a++)o=i[a],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(c&&c(t);u.length;)u.shift()()}var r={},n={1:0};function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,o){r=n[e]=[t,o]}));t.push(r[2]=i);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.src=function(e){return o.p+""+({13:"vendors~chartjs"}[e]||e)+"."+{13:"2be51dcf111929258a40"}[e]+".min.js"}(e);var c=new Error;s=function(t){a.onerror=a.onload=null,clearTimeout(u);var r=n[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,r[1](c)}n[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/static/dist/",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var a=0;a<i.length;a++)t(i[a]);var c=s;o(o.s=144)}([function(e,t,r){"use strict";r.d(t,"c",(function(){return p.f})),r.d(t,"d",(function(){return p.i})),r.d(t,"b",(function(){return R})),r.d(t,"a",(function(){return A}));var n=r(20),o=r(8);function i(e,t){const{element:{content:r},parts:n}=e,o=document.createTreeWalker(r,133,null,!1);let i=a(n),s=n[i],c=-1,u=0;const l=[];let p=null;for(;o.nextNode();){c++;const e=o.currentNode;for(e.previousSibling===p&&(p=null),t.has(e)&&(l.push(e),null===p&&(p=e)),null!==p&&u++;void 0!==s&&s.index===c;)s.index=null!==p?-1:s.index-u,i=a(n,i),s=n[i]}l.forEach(e=>e.parentNode.removeChild(e))}const s=e=>{let t=11===e.nodeType?0:1;const r=document.createTreeWalker(e,133,null,!1);for(;r.nextNode();)t++;return t},a=(e,t=-1)=>{for(let r=t+1;r<e.length;r++){const t=e[r];if(Object(o.d)(t))return r}return-1};var c=r(27),u=r(26),l=r(32),p=r(19);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const d=(e,t)=>`${e}--${t}`;let h=!0;void 0===window.ShadyCSS?h=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),h=!1);const f=e=>t=>{const r=d(t.type,e);let n=u.a.get(r);void 0===n&&(n={stringsArray:new WeakMap,keyString:new Map},u.a.set(r,n));let i=n.stringsArray.get(t.strings);if(void 0!==i)return i;const s=t.strings.join(o.f);if(i=n.keyString.get(s),void 0===i){const r=t.getTemplateElement();h&&window.ShadyCSS.prepareTemplateDom(r,e),i=new o.a(t,r),n.keyString.set(s,i)}return n.stringsArray.set(t.strings,i),i},y=["html","svg"],m=new Set,g=(e,t,r)=>{m.add(e);const n=r?r.element:document.createElement("template"),o=t.querySelectorAll("style"),{length:c}=o;if(0===c)return void window.ShadyCSS.prepareTemplateStyles(n,e);const l=document.createElement("style");for(let e=0;e<c;e++){const t=o[e];t.parentNode.removeChild(t),l.textContent+=t.textContent}(e=>{y.forEach(t=>{const r=u.a.get(d(t,e));void 0!==r&&r.keyString.forEach(e=>{const{element:{content:t}}=e,r=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{r.add(e)}),i(e,r)})})})(e);const p=n.content;r?function(e,t,r=null){const{element:{content:n},parts:o}=e;if(null==r)return void n.appendChild(t);const i=document.createTreeWalker(n,133,null,!1);let c=a(o),u=0,l=-1;for(;i.nextNode();){l++;for(i.currentNode===r&&(u=s(t),r.parentNode.insertBefore(t,r));-1!==c&&o[c].index===l;){if(u>0){for(;-1!==c;)o[c].index+=u,c=a(o,c);return}c=a(o,c)}}}(r,l,p.firstChild):p.insertBefore(l,p.firstChild),window.ShadyCSS.prepareTemplateStyles(n,e);const h=p.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==h)t.insertBefore(h.cloneNode(!0),t.firstChild);else if(r){p.insertBefore(l,p.firstChild);const e=new Set;e.add(l),i(r,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const b={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},S=(e,t)=>t!==e&&(t==t||e==e),_={attribute:!0,type:String,converter:b,reflect:!1,hasChanged:S};class E extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,r)=>{const n=this._attributeNameForProperty(r,t);void 0!==n&&(this._attributeToPropertyMap.set(n,r),e.push(n))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e,t=_){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const r="symbol"==typeof e?Symbol():"__"+e,n=this.getPropertyDescriptor(e,r,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(n){const o=this[e];this[t]=n,this.requestUpdateInternal(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||_}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const r of t)this.createProperty(r,e[r])}}static _attributeNameForProperty(e,t){const r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,r=S){return r(e,t)}static _propertyValueFromAttribute(e,t){const r=t.type,n=t.converter||b,o="function"==typeof n?n:n.fromAttribute;return o?o(e,r):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const r=t.type,n=t.converter;return(n&&n.toAttribute||b.toAttribute)(e,r)}initialize(){this._updateState=0,this._updatePromise=new Promise(e=>this._enableUpdatingResolver=e),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,r){t!==r&&this._attributeToProperty(e,r)}_propertyToAttribute(e,t,r=_){const n=this.constructor,o=n._attributeNameForProperty(e,r);if(void 0!==o){const e=n._propertyValueToAttribute(t,r);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(o):this.setAttribute(o,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const r=this.constructor,n=r._attributeToPropertyMap.get(e);if(void 0!==n){const e=r.getPropertyOptions(n);this._updateState=16|this._updateState,this[n]=r._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}requestUpdateInternal(e,t,r){let n=!0;if(void 0!==e){const o=this.constructor;r=r||o.getPropertyOptions(e),o._valueHasChanged(this[e],t,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==r.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):n=!1}!this._hasRequestedUpdate&&n&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(e){}const e=this.performUpdate();return null!=e&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}E.finalized=!0;const v=Element.prototype;v.msMatchesSelector||v.webkitMatchesSelector;
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const w=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,T=Symbol();class C{constructor(e,t){if(t!==T)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(w?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const R=(e,...t)=>{const r=t.reduce((t,r,n)=>t+(e=>{if(e instanceof C)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(r)+e[n+1],e[0]);return new C(r,T)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");const O={};class A extends E{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(Array.isArray(e)){const t=(e,r)=>e.reduceRight((e,r)=>Array.isArray(r)?t(r,e):(e.add(r),e),r),r=t(e,new Set),n=[];r.forEach(e=>n.unshift(e)),this._styles=n}else this._styles=void 0===e?[]:[e];this._styles=this._styles.map(e=>{if(e instanceof CSSStyleSheet&&!w){const t=Array.prototype.slice.call(e.cssRules).reduce((e,t)=>e+t.cssText,"");return new C(String(t),T)}return e})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?w?this.renderRoot.adoptedStyleSheets=e.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){const t=this.render();super.update(e),t!==O&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){return O}}A.finalized=!0,A.render=(e,t,r)=>{if(!r||"object"!=typeof r||!r.scopeName)throw new Error("The `scopeName` option is required.");const o=r.scopeName,i=c.a.has(t),s=h&&11===t.nodeType&&!!t.host,a=s&&!m.has(o),u=a?document.createDocumentFragment():t;if(Object(c.b)(e,u,Object.assign({templateFactory:f(o)},r)),a){const e=c.a.get(u);c.a.delete(u);const r=e.value instanceof l.a?e.value.template:void 0;g(o,u,r),Object(n.b)(t,t.firstChild),t.appendChild(u),c.a.set(t,e)}!i&&s&&window.ShadyCSS.styleElement(t.host)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return i}));const n=(e,t)=>function(r=e,n){return t.hasOwnProperty(n.type)?t[n.type](r,n):r},o=(e,t,r)=>n({},{[e]:(e,{requestKey:t="*"})=>({...e,[t]:{requesting:!0,error:null}}),[t]:(e,{requestKey:t="*"})=>({...e,[t]:{requesting:!1,error:null}}),[r]:(e,{requestKey:t="*",error:r})=>({...e,[t]:{requesting:!1,error:r}})}),i=(e,t,r)=>n({requesting:!1,error:null},{[e]:(e,t)=>({requesting:!0,error:null}),[t]:(e,t)=>({requesting:!1,error:null}),[r]:(e,{error:t})=>({requesting:!1,error:t})})},function(e,t,r){"use strict";function n(e,t){return e===t}function o(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,o=0;o<n;o++)if(!e(t[o],r[o]))return!1;return!0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=null,i=null;return function(){return o(t,r,arguments)||(i=e.apply(null,arguments)),r=arguments,i}}function s(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a}));var a=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=0,a=n.pop(),c=s(n),u=e.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(r)),l=e((function(){for(var e=[],t=c.length,r=0;r<t;r++)e.push(c[r].apply(null,arguments));return u.apply(null,e)}));return l.resultFunc=a,l.dependencies=c,l.recomputations=function(){return i},l.resetRecomputations=function(){return i=0},l}}(i)},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=new(r(38).a)(window.CS_env?window.CS_env.token:"",window.CS_env?window.CS_env.tokenExpiresSec:0)},function(e,t,r){"use strict";r.d(t,"d",(function(){return d})),r.d(t,"y",(function(){return h})),r.d(t,"C",(function(){return f})),r.d(t,"z",(function(){return y})),r.d(t,"D",(function(){return m})),r.d(t,"A",(function(){return g})),r.d(t,"B",(function(){return S})),r.d(t,"g",(function(){return _})),r.d(t,"v",(function(){return E})),r.d(t,"u",(function(){return w})),r.d(t,"t",(function(){return T})),r.d(t,"w",(function(){return R})),r.d(t,"f",(function(){return O})),r.d(t,"r",(function(){return A})),r.d(t,"s",(function(){return I})),r.d(t,"e",(function(){return j})),r.d(t,"x",(function(){return P})),r.d(t,"c",(function(){return N})),r.d(t,"b",(function(){return k})),r.d(t,"n",(function(){return F})),r.d(t,"m",(function(){return L})),r.d(t,"j",(function(){return M})),r.d(t,"o",(function(){return D})),r.d(t,"p",(function(){return $})),r.d(t,"k",(function(){return V})),r.d(t,"l",(function(){return H})),r.d(t,"h",(function(){return B})),r.d(t,"i",(function(){return q})),r.d(t,"q",(function(){return z})),r.d(t,"a",(function(){return G})),r.d(t,"E",(function(){return W}));var n=r(18),o=r.n(n),i=r(7),s=r(40),a=r(35);r(25);const c=Object.freeze([{label:"Restrict-View-EditIssue",docstring:"Only users who can edit the issue may access it"},{label:"Restrict-AddIssueComment-EditIssue",docstring:"Only users who can edit the issue may add comments"}]),u=["View","EditIssue","AddIssueComment","DeleteIssue","FlagSpam"],l=/(?:([a-z0-9-]+):)?(\d+)/i,p=/^[-a-zA-Z0-9!#$%&'*+\/=?^_`{|}~]+(?:[.][-a-zA-Z0-9!#$%&'*+\/=?^_`{|}~]+)*@(?:(?:[0-9a-zA-Z](?:[-]*[0-9a-zA-Z]+)*)(?:\.[0-9a-zA-Z](?:[-]*[0-9a-zA-Z]+)*)*)\.(?:[a-zA-Z]{2,9})$/;function d(e){if(e&&!p.test(e))throw new a.a("Invalid email address: "+e);return{displayName:e}}function h(e){if(p.test(e))return{displayName:e};const t=Number.parseInt(e);if(Number.isNaN(t))throw new a.a("Invalid email address or user ID: "+e);return{userId:t}}function f(e){if(!e)return{};const{userId:t,displayName:r}=e;return{userId:t,displayName:r}}function y(e){return Number.parseInt(e.split("/")[1])}function m(e){return{userId:y(e.name),displayName:e.displayName}}function g(e){return e&&e.userId}function b(e){return e&&e.displayName}function S(e){return e?e.map(b):[]}function _(e){return e?S(function(e){return e?e.filter(e=>e.userId):[]}(e)):[]}function E(e){return{label:e}}function v(e){if(e)return e.label}function w(e){return e?e.map(v):[]}function T(e){return e?e.filter(({label:e})=>C(e)):[]}function C(e=""){return 1===e.split("-").length}function R(e=[],t=u,r=c){const n=[];return t.forEach(t=>{e.forEach(e=>{n.push(function(e,t){const r=Object(i.c)(t);return{label:`Restrict-${e}-${r}`,docstring:`Permission ${r} needed to use ${e}`}}(t,e))})}),[...n,...r]}function O(e){return e.toLowerCase()+"-"}function A(e){if(!e)return;const t=[];for(let r=0;r<e.length;r++)"-"===e[r]&&t.push(e.substring(0,r));return t}function I(e,t){if(!e||!t||C(e))return null;const r=t.toLowerCase()+"-";return e.toLowerCase().startsWith(r)?e.substring(r.length):null}function j(e,t){return`projects/${e}/fieldDefs/${t.fieldRef.fieldId}`}function x(e){return e.status}function P(e){return e.map(x)}function N(e){return{path:e}}function U(e){return e&&e.path}function k(e){return e?e.map(U):[]}function F(e,t){if(!e)return{};if(e.includes("/"))return{extIdentifier:e};const r=e.match(l);if(!r)throw new a.a(`Invalid issue ref: ${e}. Expected [projectName:]issueId.`);const n=r[1]?r[1]:t;if(!n)throw new a.a("Issue ref must include a project name or specify a default project.");return{localId:Number.parseInt(r[2]),projectName:n}}function L(e,t){const r=F(t,e.projectName);if(r.projectName===e.projectName&&r.localId===e.localId)throw new a.a(`Invalid issue ref: ${t}. Cannot merge or block an issue on itself.`);return r}function M(e,t){return e?e.hasOwnProperty("extIdentifier")?e.extIdentifier:t&&t.length&&Object(i.e)(e.projectName,t)?""+e.localId:`${e.projectName}:${e.localId}`:""}function D(e){return e?{localId:e.localId,projectName:e.projectName}:{}}function $(e,t){if(!e)return"";return M(D(e),t)}function V(e,t={}){const r={...t};if(!e)return"";if(e.extIdentifier){const t=Object(s.b)(e.extIdentifier);return t?t.toURL():(console.error("No tracker found for reference: "+e.extIdentifier),"")}let n="";return Object.keys(r).length&&(delete r.id,n="&"+o.a.stringify(r)),`/p/${e.projectName}/issues/detail?id=${e.localId}${n}`}function H(e,t){return e&&e.length?e.map(e=>M(e,t)):[]}function B(e){const t=e.split("/");return{projectName:t[1],localId:parseInt(t[3])}}function q(e){const t=e.split("/");return`${t[1]}:${t[3]}`}function z(e){return`projects/${e.projectName}/issues/${e.localId}`}function G(e){return e?e.filter((e,t)=>!t||e.descriptionNum):[]}function W(e,t){return{fieldRef:e,value:t}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return a}));var n=r(51),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function s(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function a(e,t,r){var o;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,u=t,l=[],p=l,d=!1;function h(){p===l&&(p=l.slice())}function f(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function y(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return h(),p.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,h();var r=p.indexOf(e);p.splice(r,1),l=null}}}function m(e){if(!s(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,u=c(u,e)}finally{d=!1}for(var t=l=p,r=0;r<t.length;r++){(0,t[r])()}return e}function g(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,m({type:i.REPLACE})}function b(){var e,t=y;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(f())}return r(),{unsubscribe:t(r)}}})[n.a]=function(){return this},e}return m({type:i.INIT}),(o={dispatch:m,subscribe:y,getState:f,replaceReducer:g})[n.a]=b,o}function c(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];0,"function"==typeof e[o]&&(r[o]=e[o])}var s,a=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:i.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var n=!1,o={},i=0;i<a.length;i++){var u=a[i],l=r[u],p=e[u],d=l(p,t);if(void 0===d){var h=c(u,t);throw new Error(h)}o[u]=d,n=n||d!==p}return(n=n||a.length!==Object.keys(e).length)?o:e}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function f(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return d({},r,{dispatch:n=h.apply(void 0,i)(r.dispatch)})}}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return S})),r.d(t,"a",(function(){return _}));var n=r(5);function o(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}var i=o();i.withExtraArgument=o;var s=i,a=r(46),c=r(10),u=r(33),l=r(59),p=r(11),d=r(13),h=r(58),f=r(22),y=r(15),m=r(24);const g=Object(n.b)({hotlists:a.a.reducer,issue:c.C,permissions:u.d,projects:l.c,projectV0:p.o,users:f.e,userV0:y.m,sitewide:d.j,stars:h.a.reducer,ui:m.g});const b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.c,S=Object(n.d)((function(e,t){return"RESET_STATE"===t.type&&(e=void 0),g(e,t)}),b(Object(n.a)(s))),_=(e=>t=>class extends t{connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._storeUnsubscribe=e.subscribe(()=>this.stateChanged(e.getState())),this.stateChanged(e.getState())}disconnectedCallback(){this._storeUnsubscribe(),super.disconnectedCallback&&super.disconnectedCallback()}stateChanged(e){}})(S);new Promise(e=>{S.subscribe(e)})},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"m",(function(){return s})),r.d(t,"c",(function(){return a})),r.d(t,"f",(function(){return c})),r.d(t,"l",(function(){return u})),r.d(t,"b",(function(){return l})),r.d(t,"k",(function(){return p})),r.d(t,"i",(function(){return d})),r.d(t,"j",(function(){return h})),r.d(t,"h",(function(){return f})),r.d(t,"e",(function(){return y})),r.d(t,"g",(function(){return m})),r.d(t,"o",(function(){return g})),r.d(t,"p",(function(){return b})),r.d(t,"d",(function(){return S})),r.d(t,"n",(function(){return _}));var n=r(18),o=r.n(n);function i(e,t,r){return r||(r=(e,t)=>e===t),t=t||[],(e=e||[]).filter(e=>!t.find(t=>r(e,t)))}function s(e,t){for(const r of t)if(e.has(r))return!0;return!1}function a(e){return`${e.charAt(0).toUpperCase()}${e.substring(1)}`}function c(e,t){return e.toLowerCase().startsWith(t.toLowerCase())}function u(e,t){return e.substr(t.length)}function l(e){return e?e.join(" and "):""}function p(e,t,r){return 1===e?t:r||t+"s"}function d(e={}){const t=new Map;return Object.keys(e).forEach(r=>{t.set(r,e[r])}),t}function h(e,t=[]){return t.map(t=>t in e?e[t]:void 0)}function f(e){return 0===Object.keys(e).length}function y(e,t){return e==t||!(!e||!t)&&e.toLowerCase()===t.toLowerCase()}function m(e,t,r,...n){return e?[...e.slice(0,t),...n,...e.slice(t+r)]:""}function g(e="",t={},r={},n=[]){const i={...t,...r};n.forEach(e=>{delete i[e]});const s=o.a.stringify(i);return`${e}${s?"?":""}${s}`}function b(e,t,r=new Map){if(!e||!e.userId||!t)return!1;const n=r.get(e.userId);if(!n)return!1;const{ownerOf:o=[],memberOf:i=[],contributorTo:s=[]}=n;return o.includes(t)||i.includes(t)||s.includes(t)}function S(e){return function(t,r){return(void 0!==r||void 0!==t)&&(void 0===r||void 0===t||(null!==r||null!==t)&&(null===r||null===t||Array.from(e).some(e=>t[e]!==r[e])))}}const _=e=>!e.hasOwnProperty("q")},function(e,t,r){"use strict";r.d(t,"f",(function(){return n})),r.d(t,"g",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return p}));
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const n=`{{lit-${String(Math.random()).slice(2)}}}`,o=`\x3c!--${n}--\x3e`,i=new RegExp(`${n}|${o}`),s="$lit$";class a{constructor(e,t){this.parts=[],this.element=t;const r=[],o=[],a=document.createTreeWalker(t.content,133,null,!1);let u=0,d=-1,h=0;const{strings:f,values:{length:y}}=e;for(;h<y;){const e=a.nextNode();if(null!==e){if(d++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:r}=t;let n=0;for(let e=0;e<r;e++)c(t[e].name,s)&&n++;for(;n-- >0;){const t=f[h],r=p.exec(t)[2],n=r.toLowerCase()+s,o=e.getAttribute(n);e.removeAttribute(n);const a=o.split(i);this.parts.push({type:"attribute",index:d,name:r,strings:a}),h+=a.length-1}}"TEMPLATE"===e.tagName&&(o.push(e),a.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(n)>=0){const n=e.parentNode,o=t.split(i),a=o.length-1;for(let t=0;t<a;t++){let r,i=o[t];if(""===i)r=l();else{const e=p.exec(i);null!==e&&c(e[2],s)&&(i=i.slice(0,e.index)+e[1]+e[2].slice(0,-s.length)+e[3]),r=document.createTextNode(i)}n.insertBefore(r,e),this.parts.push({type:"node",index:++d})}""===o[a]?(n.insertBefore(l(),e),r.push(e)):e.data=o[a],h+=a}}else if(8===e.nodeType)if(e.data===n){const t=e.parentNode;null!==e.previousSibling&&d!==u||(d++,t.insertBefore(l(),e)),u=d,this.parts.push({type:"node",index:d}),null===e.nextSibling?e.data="":(r.push(e),d--),h++}else{let t=-1;for(;-1!==(t=e.data.indexOf(n,t+1));)this.parts.push({type:"node",index:-1}),h++}}else a.currentNode=o.pop()}for(const e of r)e.parentNode.removeChild(e)}}const c=(e,t)=>{const r=e.length-t.length;return r>=0&&e.slice(r)===t},u=e=>-1!==e.index,l=()=>document.createComment(""),p=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/},function(e,t,r){"use strict";r.d(t,"g",(function(){return c})),r.d(t,"d",(function(){return p})),r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"j",(function(){return m})),r.d(t,"f",(function(){return g})),r.d(t,"h",(function(){return b})),r.d(t,"e",(function(){return E})),r.d(t,"a",(function(){return v})),r.d(t,"k",(function(){return w})),r.d(t,"i",(function(){return C}));var n=r(34),o=r(4),i=r(7),s=r(50),a=r(30);const c=Object.freeze({APPROVAL_TYPE:"APPROVAL_TYPE",DATE_TYPE:"DATE_TYPE",ENUM_TYPE:"ENUM_TYPE",INT_TYPE:"INT_TYPE",STR_TYPE:"STR_TYPE",USER_TYPE:"USER_TYPE",URL_TYPE:"URL_TYPE",ISSUE_TYPE:"ISSUE_TYPE",TIME_TYPE:"TIME_TYPE",COMPONENT_TYPE:"COMPONENT_TYPE",STATUS_TYPE:"STATUS_TYPE",LABEL_TYPE:"LABEL_TYPE",PROJECT_TYPE:"PROJECT_TYPE"}),u=new Set([c.DATE_TYPE,c.ENUM_TYPE,c.USER_TYPE,c.INT_TYPE]),l=/[\s\+]+/,p=["ID","Type","Status","Priority","Milestone","Owner","Summary"],d="2",h=/\./,f="----",y=/\-approver$/i;function m(e=""){return e.split(l).filter(Boolean)}function g(e,t){if(e){const t=e.find(e=>e.fieldRef&&"type"===e.fieldRef.fieldName.toLowerCase());if(t)return t.value}if(t){const e=t.find(e=>e.label.toLowerCase().startsWith("type-"));if(e)return e.label.substr(5)}}function b(e){if(!e)return new Map;const t=new Map;for(const r of e){if(!(r&&r.fieldRef&&r.fieldRef.fieldName&&r.value))continue;const e=Object(a.d)(r.fieldRef.fieldName,r.phaseRef&&r.phaseRef.phaseName);t.has(e)?t.get(e).push(r.value):t.set(e,[r.value])}return t}const S=e=>e?[e]:[],_=Object.freeze([{fieldName:"ID",type:c.ISSUE_TYPE,extractor:({localId:e,projectName:t})=>[{localId:e,projectName:t}]},{fieldName:"Project",type:c.PROJECT_TYPE,extractor:e=>[e.projectName]},{fieldName:"Attachments",type:c.INT_TYPE,extractor:e=>[e.attachmentCount||0]},{fieldName:"AllLabels",type:c.LABEL_TYPE,extractor:e=>e.labelRefs||[]},{fieldName:"Blocked",type:c.STR_TYPE,extractor:e=>e.blockedOnIssueRefs&&e.blockedOnIssueRefs.length?["Yes"]:["No"]},{fieldName:"BlockedOn",type:c.ISSUE_TYPE,extractor:e=>e.blockedOnIssueRefs||[]},{fieldName:"Blocking",type:c.ISSUE_TYPE,extractor:e=>e.blockingIssueRefs||[]},{fieldName:"CC",type:c.USER_TYPE,extractor:e=>e.ccRefs||[]},{fieldName:"Closed",type:c.TIME_TYPE,extractor:e=>S(e.closedTimestamp)},{fieldName:"Component",type:c.COMPONENT_TYPE,extractor:e=>e.componentRefs||[]},{fieldName:"ComponentModified",type:c.TIME_TYPE,extractor:e=>[e.componentModifiedTimestamp]},{fieldName:"MergedInto",type:c.ISSUE_TYPE,extractor:e=>S(e.mergedIntoIssueRef)},{fieldName:"Modified",type:c.TIME_TYPE,extractor:e=>S(e.modifiedTimestamp)},{fieldName:"Reporter",type:c.USER_TYPE,extractor:e=>[e.reporterRef]},{fieldName:"Stars",type:c.INT_TYPE,extractor:e=>[e.starCount||0]},{fieldName:"Status",type:c.STATUS_TYPE,extractor:e=>S(e.statusRef)},{fieldName:"StatusModified",type:c.TIME_TYPE,extractor:e=>[e.statusModifiedTimestamp]},{fieldName:"Summary",type:c.STR_TYPE,extractor:e=>[e.summary]},{fieldName:"Type",type:c.ENUM_TYPE,extractor:e=>S(g(e.fieldValues,e.labelRefs))},{fieldName:"Owner",type:c.USER_TYPE,extractor:e=>S(e.ownerRef)},{fieldName:"OwnerModified",type:c.TIME_TYPE,extractor:e=>[e.ownerModifiedTimestamp]},{fieldName:"Opened",type:c.TIME_TYPE,extractor:e=>[e.openedTimestamp]}]),E=Object.freeze(_.reduce((e,t)=>(e[t.fieldName.toLowerCase()]=t,e),{})),v=_.map(e=>e.fieldName),w=(e,t,r)=>t.split("/").flatMap(t=>T(e,t,r)),T=(e,t,r)=>{const u=t.toLowerCase();if(E.hasOwnProperty(u)){const t=E[u],i=t.extractor(e);switch(t.type){case c.ISSUE_TYPE:return Object(o.l)(i,r);case c.COMPONENT_TYPE:return Object(o.b)(i);case c.LABEL_TYPE:return Object(o.u)(i);case c.USER_TYPE:return Object(o.B)(i);case c.STATUS_TYPE:return Object(o.x)(i);case c.TIME_TYPE:return i.map(e=>Object(n.a)(new Date(1e3*e)))}return i.map(e=>""+e)}const l=u.match(y);if(l){const t=u.slice(0,-l[0].length),r=Object(a.d)(t),n=function(e){if(!e)return new Map;const t=new Map;for(const r of e){if(!(r&&r.fieldRef&&r.fieldRef.fieldName&&r.approverRefs))continue;const e=Object(a.d)(r.fieldRef.fieldName),n=r.approverRefs.map(e=>e.displayName);t.set(e,n)}return t}(e.approvalValues);if(n.has(r))return n.get(r)}const p=function(e){if(!e)return new Map;const t=new Map;for(const r of e){if(!r||!r.fieldRef||!r.fieldRef.fieldName)continue;const e=Object(a.d)(r.fieldRef.fieldName);t.set(e,[s.e[r.status||""]])}return t}(e.approvalValues);if(p.has(u))return p.get(u);let d=u,f=u;if(u.match(h)){let e;[e,f]=u.split(h),d=Object(a.d)(f,e)}const m=b(e.fieldValues);if(m.has(d))return m.get(d);const g=(e.labelRefs||[]).filter(e=>Object(o.r)(e.label).map(e=>e.toLowerCase()).includes(u)),S=u+"-";return g.map(e=>Object(i.l)(e.label,S))};function C(e,t=!1){const r=e.approvalValues||[];let n=e.fieldValues||[];const i=e.labelRefs||[],s=[];return i.forEach(e=>{s.push(...Object(o.r)(e.label))}),t&&(n=n.filter(({fieldRef:e})=>u.has(e.type))),[...r.map(e=>e.fieldRef.fieldName),...r.map(e=>e.fieldRef.fieldName+"-Approver"),...n.map(e=>e.phaseRef?e.phaseRef.phaseName+"."+e.fieldRef.fieldName:e.fieldRef.fieldName),...s]}},function(e,t,r){"use strict";r.d(t,"C",(function(){return I})),r.d(t,"s",(function(){return x})),r.d(t,"t",(function(){return P})),r.d(t,"R",(function(){return U})),r.d(t,"Q",(function(){return k})),r.d(t,"c",(function(){return F})),r.d(t,"b",(function(){return L})),r.d(t,"q",(function(){return M})),r.d(t,"u",(function(){return $})),r.d(t,"L",(function(){return V})),r.d(t,"x",(function(){return H})),r.d(t,"w",(function(){return B})),r.d(t,"v",(function(){return q})),r.d(t,"z",(function(){return z})),r.d(t,"B",(function(){return G})),r.d(t,"E",(function(){return W})),r.d(t,"D",(function(){return Y})),r.d(t,"F",(function(){return K})),r.d(t,"K",(function(){return J})),r.d(t,"J",(function(){return Q})),r.d(t,"d",(function(){return X})),r.d(t,"M",(function(){return te})),r.d(t,"G",(function(){return re})),r.d(t,"r",(function(){return ne})),r.d(t,"a",(function(){return ie})),r.d(t,"y",(function(){return ae})),r.d(t,"H",(function(){return ce})),r.d(t,"p",(function(){return ue})),r.d(t,"e",(function(){return le})),r.d(t,"o",(function(){return pe})),r.d(t,"P",(function(){return de})),r.d(t,"m",(function(){return fe})),r.d(t,"k",(function(){return ye})),r.d(t,"g",(function(){return me})),r.d(t,"l",(function(){return ge})),r.d(t,"i",(function(){return be})),r.d(t,"j",(function(){return Se})),r.d(t,"h",(function(){return Ee})),r.d(t,"n",(function(){return we})),r.d(t,"I",(function(){return Te})),r.d(t,"A",(function(){return Ce})),r.d(t,"O",(function(){return Re})),r.d(t,"N",(function(){return Oe})),r.d(t,"f",(function(){return Ae}));var n=r(5),o=r(2),i=r(52),s=r(9),a=r(7),c=r(4),u=r(40),l=r(1),p=r(11),d=r(15),h=r(30),f=r(3),y=r(23);r(25);const m=(e,t)=>({...e,[Object(c.p)(t)]:t}),g=Object(l.b)({},{FETCH_ISSUE_LIST_UPDATE:(e,{issues:t})=>{const r={...e};return t.forEach(e=>{const t=Object(c.p)(e);r[t]={...r[t],...e}}),r},"issueV0/FETCH_SUCCESS":(e,{issue:t})=>m(e,t),"issueV0/FETCH_ISSUES_SUCCESS":(e,{issues:t})=>{const r={...e};return t.forEach(e=>{const t=Object(c.p)(e);r[t]={...r[t],...e}}),r},CONVERT_SUCCESS:(e,{issue:t})=>m(e,t),UPDATE_SUCCESS:(e,{issue:t})=>m(e,t),UPDATE_APPROVAL_SUCCESS:(e,{issueRef:t,approval:r})=>{const n=Object(c.p)(t),o=((e,t)=>{if(!e.approvalValues)return e;const r=e.approvalValues.map(e=>e.fieldRef.fieldName===t.fieldRef.fieldName?{...t,phaseRef:e.phaseRef}:e);return{...e,approvalValues:r}})(e[n]||{},r);return{...e,[n]:{...o}}},STAR_SUCCESS:(e,{issueRef:t,starCount:r})=>{const n=Object(c.p)(t),o=e[n]||{};return{...e,[n]:{...o,starCount:r}}}}),b=Object(l.b)("",{VIEW_ISSUE:(e,{issueRef:t})=>Object(c.j)(t)||e}),S=Object(l.b)([],{FETCH_HOTLISTS_SUCCESS:(e,{hotlists:t})=>t}),_=Object(l.b)({},{FETCH_ISSUE_LIST_UPDATE:(e,{issues:t,progress:r,totalResults:n})=>({issueRefs:t.map(c.p),progress:r,totalResults:n})}),E=Object(l.b)([],{FETCH_COMMENTS_SUCCESS:(e,{comments:t})=>t}),v=Object(l.b)({},{FETCH_COMMENTS_START:(e,t)=>({}),FETCH_COMMENT_REFERENCES_SUCCESS:(e,{commentReferences:t})=>t}),w=Object(l.b)({},{FETCH_RELATED_ISSUES_SUCCESS:(e,{relatedIssues:t})=>t,FETCH_FEDERATED_REFERENCES_SUCCESS:(e,{fedRefIssueRefs:t})=>{if(!t)return e;const r={};return t.forEach(e=>{r[e.extIdentifier]=e}),Object.assign(r,e)}}),T=Object(l.b)({},{FETCH_REFERENCED_USERS_SUCCESS:(e,{referencedUsers:t})=>t}),C=Object(l.b)({},{STAR_SUCCESS:(e,{issueRef:t,starred:r})=>({...e,[Object(c.j)(t)]:r}),FETCH_ISSUES_STARRED_SUCCESS:(e,{starredIssueRefs:t})=>{const r={};return t.forEach(e=>{r[Object(c.j)(e)]=!0}),r},FETCH_IS_STARRED_SUCCESS:(e,{issueRef:t,starred:r})=>({...e,[Object(c.j)(t)]:r})}),R=Object(l.b)({},{PRESUBMIT_SUCCESS:(e,{presubmitResponse:t})=>t}),O=Object(l.b)([],{FETCH_PERMISSIONS_SUCCESS:(e,{permissions:t})=>t}),A=Object(n.b)({fetch:Object(l.c)("issueV0/FETCH_START","issueV0/FETCH_SUCCESS","issueV0/FETCH_FAILURE"),fetchIssues:Object(l.c)("issueV0/FETCH_ISSUES_START","issueV0/FETCH_ISSUES_SUCCESS","issueV0/FETCH_ISSUES_FAILURE"),fetchHotlists:Object(l.c)("FETCH_HOTLISTS_START","FETCH_HOTLISTS_SUCCESS","FETCH_HOTLISTS_FAILURE"),fetchIssueList:Object(l.c)("FETCH_ISSUE_LIST_START","FETCH_ISSUE_LIST_SUCCESS","FETCH_ISSUE_LIST_FAILURE"),fetchPermissions:Object(l.c)("FETCH_PERMISSIONS_START","FETCH_PERMISSIONS_SUCCESS","FETCH_PERMISSIONS_FAILURE"),starringIssues:Object(l.a)("STAR_START","STAR_SUCCESS","STAR_FAILURE"),presubmit:Object(l.c)("PRESUBMIT_START","PRESUBMIT_SUCCESS","PRESUBMIT_FAILURE"),fetchComments:Object(l.c)("FETCH_COMMENTS_START","FETCH_COMMENTS_SUCCESS","FETCH_COMMENTS_FAILURE"),fetchCommentReferences:Object(l.c)("FETCH_COMMENT_REFERENCES_START","FETCH_COMMENT_REFERENCES_SUCCESS","FETCH_COMMENT_REFERENCES_FAILURE"),fetchFederatedReferences:Object(l.c)("FETCH_FEDERATED_REFERENCES_START","FETCH_FEDERATED_REFERENCES_SUCCESS","FETCH_FEDERATED_REFERENCES_FAILURE"),fetchRelatedIssues:Object(l.c)("FETCH_RELATED_ISSUES_START","FETCH_RELATED_ISSUES_SUCCESS","FETCH_RELATED_ISSUES_FAILURE"),fetchReferencedUsers:Object(l.c)("FETCH_REFERENCED_USERS_START","FETCH_REFERENCED_USERS_SUCCESS","FETCH_REFERENCED_USERS_FAILURE"),fetchIsStarred:Object(l.c)("FETCH_IS_STARRED_START","FETCH_IS_STARRED_SUCCESS","FETCH_IS_STARRED_FAILURE"),fetchStarredIssues:Object(l.c)("FETCH_ISSUES_STARRED_START","FETCH_ISSUES_STARRED_SUCCESS","FETCH_ISSUES_STARRED_FAILURE"),convert:Object(l.c)("CONVERT_START","CONVERT_SUCCESS","CONVERT_FAILURE"),update:Object(l.c)("UPDATE_START","UPDATE_SUCCESS","UPDATE_FAILURE"),updateApproval:Object(l.c)("UPDATE_APPROVAL_START","UPDATE_APPROVAL_SUCCESS","UPDATE_APPROVAL_FAILURE")}),I=Object(n.b)({viewedIssueRef:b,issuesByRefString:g,hotlists:S,issueList:_,comments:E,commentReferences:v,relatedIssues:w,referencedUsers:T,starredIssues:C,permissions:O,presubmitResponse:R,requests:A}),j=e=>e.issue.issuesByRefString,x=Object(o.a)(j,e=>t=>e[Object(c.i)(t)]),P=Object(o.a)(j,e=>(t,r)=>{const n=Object(c.n)(t,r),o=Object(c.j)(n);return e.hasOwnProperty(o)?e[o]:Object(c.n)(o,r)}),N=e=>e.issue.viewedIssueRef,U=Object(o.a)(N,e=>Object(c.n)(e)),k=Object(o.a)(j,N,(e,t)=>e[t]||{}),F=e=>e.issue.comments,L=Object(o.a)(e=>e.issue.commentReferences,e=>Object(a.i)(e)),M=e=>e.issue.hotlists,D=e=>e.issue.issueList,$=Object(o.a)(j,D,(e,t)=>(t.issueRefs||[]).map(t=>e[t])),V=e=>e.issue.issueList.totalResults,H=e=>e.issue.issueList.progress,B=Object(o.a)($,e=>{const t=new Set;return e&&e.forEach(({phases:e})=>{e&&e.forEach(({phaseRef:{phaseName:e}})=>{t.add(e.toLowerCase())})}),Array.from(t)}),q=Object(o.a)(D,e=>void 0!==e.issueRefs),z=e=>e.issue.permissions,G=e=>e.issue.presubmitResponse,W=Object(o.a)(e=>e.issue.relatedIssues||{},e=>Object(a.i)(e)),Y=Object(o.a)(e=>e.issue.referencedUsers||{},e=>Object(a.i)(e)),K=e=>e.issue.requests,J=Object(o.a)(K,e=>Object(a.i)(e.starringIssues)),Q=Object(o.a)(e=>e.issue.starredIssues,e=>{const t=new Set;for(const[r,n]of Object.entries(e))n&&t.add(r);return t}),X=Object(o.a)(F,e=>{const t=new Map;return e.forEach(e=>{const r=e.approvalRef&&e.approvalRef.fieldName||"";t.has(r)?t.get(r).push(e):t.set(r,[e])}),t}),Z=Object(o.a)(k,e=>e&&e.fieldValues),ee=Object(o.a)(k,e=>e&&e.labelRefs),te=Object(o.a)(Z,ee,(e,t)=>Object(s.f)(e,t)),re=Object(o.a)(ee,e=>{if(!e)return{};const t={};return e.forEach(e=>{const r=e.label,n=r.toLowerCase();if(n.startsWith("restrict-view-")){const e=Object(a.l)(r,"restrict-view-");"view"in t?t.view.push(e):t.view=[e]}else if(n.startsWith("restrict-editissue-")){const e=Object(a.l)(r,"restrict-editissue-");"edit"in t?t.edit.push(e):t.edit=[e]}else if(n.startsWith("restrict-addissuecomment-")){const e=Object(a.l)(r,"restrict-addissuecomment-");"comment"in t?t.comment.push(e):t.comment=[e]}}),t}),ne=Object(o.a)(k,e=>e&&e.statusRef&&e.statusRef.meansOpen||!1),oe=e=>(t,r)=>{let n=[];return e?(t.blockingIssueRefs&&(n=n.concat(t.blockingIssueRefs)),t.danglingBlockingRefs&&(n=n.concat(t.danglingBlockingRefs))):(t.blockedOnIssueRefs&&(n=n.concat(t.blockedOnIssueRefs)),t.danglingBlockedOnRefs&&(n=n.concat(t.danglingBlockedOnRefs))),t.relatedIssues&&(n=n.concat(t.relatedIssues)),n.map(e=>{const t=Object(c.j)(e);return r.has(t)?r.get(t):e})},ie=Object(o.a)(k,W,oe(!0)),se=Object(o.a)(k,W,oe(!1)),ae=Object(o.a)(k,W,(e,t)=>{if(!e||!e.mergedIntoIssueRef)return{};const r=Object(c.j)(e.mergedIntoIssueRef);return t&&t.has(r)?t.get(r):e.mergedIntoIssueRef}),ce=Object(o.a)(se,e=>e.sort((e,t)=>{const r=e.statusRef&&e.statusRef.meansOpen?1:0;return(t.statusRef&&t.statusRef.meansOpen?1:0)-r})),ue=Object(o.a)(Z,e=>Object(s.h)(e)),le=Object(o.a)(k,p.a,(e,t)=>e&&e.componentRefs?e.componentRefs.map(e=>t.get(e.path)||e):[]),pe=Object(o.a)(p.h,te,ue,(e,t,r)=>e?(t=t||"",e.filter(e=>{const n=Object(h.d)(e.fieldRef.fieldName,e.phaseRef&&e.phaseRef.phaseName);return!(!r||!r.has(n))||!e.fieldRef.approvalName&&e.fieldRef.type!==s.g.APPROVAL_TYPE&&!e.isPhaseField&&(!e.applicableType||t.toLowerCase()===e.applicableType.toLowerCase())})):[]),de=e=>({type:"VIEW_ISSUE",issueRef:e}),he=e=>async t=>{if(!e)return;t({type:"FETCH_REFERENCED_USERS_START"});const r=[...e.ccRefs||[]];e.ownerRef&&r.push(e.ownerRef),(e.approvalValues||[]).forEach(e=>{r.push(...e.approverRefs||[]),e.setterRef&&r.push(e.setterRef)});try{const e=await f.a.call("monorail.Users","ListReferencedUsers",{userRefs:r}),n={};(e.users||[]).forEach(e=>{n[e.displayName]=e}),t({type:"FETCH_REFERENCED_USERS_SUCCESS",referencedUsers:n})}catch(e){t({type:"FETCH_REFERENCED_USERS_FAILURE",error:e})}},fe=e=>async t=>{if(!e)return;t({type:"FETCH_RELATED_ISSUES_START"});const r=(e.blockedOnIssueRefs||[]).concat(e.blockingIssueRefs||[]);e.mergedIntoIssueRef&&!e.mergedIntoIssueRef.extIdentifier&&r.push(e.mergedIntoIssueRef);const n={issueRefs:r};try{t((e=>async t=>{t({type:"FETCH_FEDERATED_REFERENCES_START"});const r=[].concat(e.danglingBlockingRefs||[]).concat(e.danglingBlockedOnRefs||[]).concat(e.mergedIntoIssueRef?[e.mergedIntoIssueRef]:[]).filter(e=>e&&e.extIdentifier).map(e=>Object(u.b)(e.extIdentifier)).filter(e=>e);if(0!==r.length)try{await Object(y.a)();const e=await Object(y.b)();t({type:d.a,email:e}),await Promise.all(r.map(e=>e.getFederatedDetails()));t({type:"FETCH_FEDERATED_REFERENCES_SUCCESS",fedRefIssueRefs:r.map(e=>e.toIssueRef())})}catch(e){t({type:"FETCH_FEDERATED_REFERENCES_FAILURE",error:e})}})(e));const r=await f.a.call("monorail.Issues","ListReferencedIssues",n),o={},i=r.openRefs||[],s=r.closedRefs||[];i.forEach(e=>{e.statusRef.meansOpen=!0,o[Object(c.j)(e)]=e}),s.forEach(e=>{e.statusRef.meansOpen=!1,o[Object(c.j)(e)]=e}),t({type:"FETCH_RELATED_ISSUES_SUCCESS",relatedIssues:o})}catch(e){t({type:"FETCH_RELATED_ISSUES_FAILURE",error:e})}},ye=e=>async t=>{t(Ee(e)),t(me(e)),t(_e(e)),t(ve(e))},me=e=>async t=>{t({type:"issueV0/FETCH_START"});try{const r=await f.a.call("monorail.Issues","GetIssue",{issueRef:e}),n=r.movedToRef,o={...e,...r.issue};n&&(o.movedToRef=n),t({type:"issueV0/FETCH_SUCCESS",issue:o}),o.isDeleted||n||(t(fe(o)),t(be(e)),t(he(o)),t(d.f([o.reporterRef])))}catch(e){t({type:"issueV0/FETCH_FAILURE",error:e})}},ge=e=>async t=>{t({type:"issueV0/FETCH_ISSUES_START"});try{const{openRefs:r,closedRefs:n}=await f.a.call("monorail.Issues","ListReferencedIssues",{issueRefs:e});t({type:"issueV0/FETCH_ISSUES_SUCCESS",issues:[...r||[],...n||[]]})}catch(e){t({type:"issueV0/FETCH_ISSUES_FAILURE",error:e})}},be=e=>async t=>{t({type:"FETCH_HOTLISTS_START"});try{const r=(await f.a.call("monorail.Features","ListHotlistsByIssue",{issue:e})).hotlists||[];r.sort((e,t)=>e.name.localeCompare(t.name)),t({type:"FETCH_HOTLISTS_SUCCESS",hotlists:r})}catch(e){t({type:"FETCH_HOTLISTS_FAILURE",error:e})}},Se=(e,{q:t,can:r,groupby:n,sort:o,start:i,maxItems:s,maxCalls:a=1})=>async c=>{let u={};const l=[],p=[];let d,h,y;const m=s||1e3,g=Number.parseInt(r)||void 0,b={...i&&{start:i},...s&&{maxItems:s}},S={projectNames:[e],query:t,cannedQuery:g,groupBySpec:n,sortSpec:o,pagination:b};c({type:"FETCH_ISSUE_LIST_START"});try{const e=await f.a.call("monorail.Issues","ListIssues",S),t={totalResults:0,issues:[]};u=0===Object.entries(e).length?t:e,p[0]=u.issues,d=u.totalResults,d>m*a?(h=m*a,y=a-1):(h=d,y=Math.ceil(d/m)-1),u.progress=h?u.issues.length/h:1,c({type:"FETCH_ISSUE_LIST_UPDATE",...u});for(let e=1;e<=y;e++)l[e-1]=(async()=>{const t=await f.a.call("monorail.Issues","ListIssues",{...S,pagination:{start:e*m,maxItems:m}});p[e]=t.issues||[],u.issues=[],p.forEach(e=>{u.issues=u.issues.concat(e)}),u.progress=u.issues.length/h,c({type:"FETCH_ISSUE_LIST_UPDATE",...u})})();await Promise.all(l),c({type:"FETCH_ISSUE_LIST_SUCCESS"})}catch(e){c({type:"FETCH_ISSUE_LIST_FAILURE",error:e})}},_e=e=>async t=>{t({type:"FETCH_PERMISSIONS_START"});try{t({type:"FETCH_PERMISSIONS_SUCCESS",permissions:(await f.a.call("monorail.Issues","ListIssuePermissions",{issueRef:e})).permissions})}catch(e){t({type:"FETCH_PERMISSIONS_FAILURE",error:e})}},Ee=e=>async t=>{t({type:"FETCH_COMMENTS_START"});try{const r=await f.a.call("monorail.Issues","ListComments",{issueRef:e});t({type:"FETCH_COMMENTS_SUCCESS",comments:r.comments}),t(((e,t)=>async r=>{r({type:"FETCH_COMMENT_REFERENCES_START"});try{const n=await i.a.getReferencedArtifacts(e,t),o={};n.forEach(({componentName:e,existingRefs:t})=>{o[e]=t}),r({type:"FETCH_COMMENT_REFERENCES_SUCCESS",commentReferences:o})}catch(e){r({type:"FETCH_COMMENT_REFERENCES_FAILURE",error:e})}})(r.comments,e.projectName));const n=(r.comments||[]).map(e=>e.commenter);t(d.f(n))}catch(e){t({type:"FETCH_COMMENTS_FAILURE",error:e})}},ve=e=>async t=>{t({type:"FETCH_IS_STARRED_START"});try{t({type:"FETCH_IS_STARRED_SUCCESS",starred:(await f.a.call("monorail.Issues","IsIssueStarred",{issueRef:e})).isStarred,issueRef:e})}catch(e){t({type:"FETCH_IS_STARRED_FAILURE",error:e})}},we=()=>async e=>{e({type:"FETCH_ISSUES_STARRED_START"});try{e({type:"FETCH_ISSUES_STARRED_SUCCESS",starredIssueRefs:(await f.a.call("monorail.Issues","ListStarredIssues",{})).starredIssueRefs})}catch(t){e({type:"FETCH_ISSUES_STARRED_FAILURE",error:t})}},Te=(e,t)=>async r=>{const n=Object(c.j)(e);r({type:"STAR_START",requestKey:n});const o={issueRef:e,starred:t};try{r({type:"STAR_SUCCESS",starCount:(await f.a.call("monorail.Issues","StarIssue",o)).starCount,issueRef:e,starred:t,requestKey:n})}catch(e){r({type:"STAR_FAILURE",error:e,requestKey:n})}},Ce=(e,t)=>async r=>{r({type:"PRESUBMIT_START"});try{r({type:"PRESUBMIT_SUCCESS",presubmitResponse:await f.a.call("monorail.Issues","PresubmitIssue",{issueRef:e,issueDelta:t})})}catch(e){r({type:"PRESUBMIT_FAILURE",error:e})}},Re=({issueRef:e,fieldRef:t,approvalDelta:r,commentContent:n,sendEmail:o,isDescription:i,uploads:s})=>async a=>{a({type:"UPDATE_APPROVAL_START"});try{const{approval:c}=await f.a.call("monorail.Issues","UpdateApproval",{...e&&{issueRef:e},...t&&{fieldRef:t},...r&&{approvalDelta:r},...n&&{commentContent:n},...o&&{sendEmail:o},...i&&{isDescription:i},...s&&{uploads:s}});a({type:"UPDATE_APPROVAL_SUCCESS",approval:c,issueRef:e}),a(me(e)),a(Ee(e))}catch(e){a({type:"UPDATE_APPROVAL_FAILURE",error:e})}},Oe=({issueRef:e,delta:t,commentContent:r,sendEmail:n,isDescription:o,uploads:i,keptAttachments:s})=>async a=>{a({type:"UPDATE_START"});try{const{issue:c}=await f.a.call("monorail.Issues","UpdateIssue",{issueRef:e,delta:t,commentContent:r,sendEmail:n,isDescription:o,uploads:i,keptAttachments:s});a({type:"UPDATE_SUCCESS",issue:c}),a(Ee(e)),a(fe(c)),a(he(c))}catch(e){a({type:"UPDATE_FAILURE",error:e})}},Ae=(e,{templateName:t="",commentContent:r="",sendEmail:n=!0})=>async o=>{o({type:"CONVERT_START"});try{o({type:"CONVERT_SUCCESS",issue:(await f.a.call("monorail.Issues","ConvertIssueApprovalsTemplate",{issueRef:e,templateName:t,commentContent:r,sendEmail:n})).issue});o(Ee({issueRef:e}))}catch(e){o({type:"CONVERT_FAILURE",error:e})}}},function(e,t,r){"use strict";r.d(t,"o",(function(){return b})),r.d(t,"t",(function(){return _})),r.d(t,"q",(function(){return C})),r.d(t,"r",(function(){return R})),r.d(t,"s",(function(){return O})),r.d(t,"v",(function(){return A})),r.d(t,"u",(function(){return I})),r.d(t,"b",(function(){return j})),r.d(t,"c",(function(){return x})),r.d(t,"a",(function(){return P})),r.d(t,"h",(function(){return N})),r.d(t,"k",(function(){return F})),r.d(t,"m",(function(){return L})),r.d(t,"l",(function(){return M})),r.d(t,"d",(function(){return $})),r.d(t,"e",(function(){return V})),r.d(t,"n",(function(){return H})),r.d(t,"j",(function(){return B})),r.d(t,"i",(function(){return q})),r.d(t,"g",(function(){return z})),r.d(t,"p",(function(){return G})),r.d(t,"f",(function(){return W}));var n=r(5),o=r(2),i=r(1),s=r(33),a=r(9),c=r(7),u=r(4),l=r(3);r(25);const p=Object(i.b)(null,{"projectV0/SELECT":(e,{projectName:t})=>t}),d=Object(i.b)({},{"projectV0/FETCH_CONFIG_SUCCESS":(e,{projectName:t,config:r})=>({...e,[t]:r})}),h=Object(i.b)({},{"projectV0/FETCH_PRESENTATION_CONFIG_SUCCESS":(e,{projectName:t,presentationConfig:r})=>({...e,[t]:r})}),f=Object(i.b)({},{"projectV0/FETCH_CUSTOM_PERMISSIONS_SUCCESS":(e,{projectName:t,permissions:r})=>({...e,[t]:r})}),y=Object(i.b)({},{"projectV0/FETCH_VISIBLE_MEMBERS_SUCCESS":(e,{projectName:t,visibleMembers:r})=>({...e,[t]:r})}),m=Object(i.b)({},{"projectV0/FETCH_TEMPLATES_SUCCESS":(e,{projectName:t,templates:r})=>({...e,[t]:r})}),g=Object(n.b)({fetchConfig:Object(i.c)("projectV0/FETCH_CONFIG_START","projectV0/FETCH_CONFIG_SUCCESS","projectV0/FETCH_CONFIG_FAILURE"),fetchMembers:Object(i.c)("projectV0/FETCH_VISIBLE_MEMBERS_START","projectV0/FETCH_VISIBLE_MEMBERS_SUCCESS","projectV0/FETCH_VISIBLE_MEMBERS_FAILURE"),fetchCustomPermissions:Object(i.c)("projectV0/FETCH_CUSTOM_PERMISSIONS_START","projectV0/FETCH_CUSTOM_PERMISSIONS_SUCCESS","projectV0/FETCH_CUSTOM_PERMISSIONS_FAILURE"),fetchPresentationConfig:Object(i.c)("projectV0/FETCH_PRESENTATION_CONFIG_START","projectV0/FETCH_PRESENTATION_CONFIG_SUCCESS","projectV0/FETCH_PRESENTATION_CONFIG_FAILURE"),fetchTemplates:Object(i.c)("projectV0/FETCH_TEMPLATES_START","projectV0/FETCH_TEMPLATES_SUCCESS","projectV0/FETCH_TEMPLATES_FAILURE")}),b=Object(n.b)({name:p,configs:d,customPermissions:f,presentationConfigs:h,visibleMembers:y,templates:m,requests:g}),S=e=>e.projectV0||{},_=Object(o.a)(S,e=>e.name||null),E=Object(o.a)(S,e=>e.configs||{}),v=Object(o.a)(S,e=>e.presentationConfigs||{}),w=Object(o.a)(S,e=>e.visibleMembers||{}),T=Object(o.a)(S,e=>e.templates||{}),C=Object(o.a)([_,E],(e,t)=>t[e]||{}),R=Object(o.a)([_,v],(e,t)=>t[e]||{}),O=Object(o.a)([_,v],(e,t)=>!!t[e]),A=Object(o.a)([_,w],(e,t)=>t[e]||{}),I=Object(o.a)([_,T],(e,t)=>t[e]||[]),j=Object(o.a)(R,({defaultColSpec:e})=>e?Object(a.j)(e):a.d),x=Object(o.a)(R,e=>e.defaultQuery||""),P=Object(o.a)(C,e=>{if(!e||!e.componentDefs)return new Map;const t=new Map;for(const r of e.componentDefs)t.set(r.path,r);return t}),N=Object(o.a)(C,e=>e&&e.fieldDefs||[]),U=Object(o.a)(N,e=>{const t=new Map;return e.forEach(e=>{t.set(e.fieldRef.fieldName.toLowerCase(),e)}),t}),k=Object(o.a)(C,e=>e&&e.labelDefs||[]),F=Object(o.a)(k,e=>{const t=new Map;return e.forEach(e=>{t.set(e.label.toLowerCase(),e)}),t}),L=Object(o.a)(k,e=>{const t=new Map;return e.forEach(e=>{Object(u.r)(e.label).forEach(r=>{t.has(r)?t.get(r).add(Object(u.s)(e.label,r)):t.set(r,new Set([Object(u.s)(e.label,r)]))})}),t}),M=Object(o.a)(L,e=>{const t=[];return e.forEach((e,r)=>{e.size>1&&t.push(r)}),t}),D=(Object(o.a)(M,e=>new Set(e.map(e=>e.toLowerCase()))),Object(o.a)(N,e=>e.filter(e=>e.fieldRef.type===a.g.ENUM_TYPE))),$=Object(o.a)(_,e=>(t,r)=>Object(a.k)(t,r,e)),V=Object(o.a)(U,e=>t=>{const r=t.toLowerCase();return a.e.hasOwnProperty(r)?a.e[r].type:e.has(r)?e.get(r).fieldRef.type:a.g.STR_TYPE}),H=Object(o.a)(D,k,(e,t)=>{const r=new Map(e.map(e=>[e.fieldRef.fieldName.toLowerCase(),[]]));return t.forEach(t=>{const n=t.label,o=e.find(e=>Object(c.f)(n,Object(u.f)(e.fieldRef.fieldName)));if(o){const e=o.fieldRef.fieldName.toLowerCase();r.get(e).push({...t,optionName:Object(c.l)(n,Object(u.f)(o.fieldRef.fieldName))})}}),r}),B=Object(o.a)(N,e=>e?e.filter(e=>e.isPhaseField):[]),q=Object(o.a)(N,e=>{if(!e)return new Map;const t=new Map;for(const r of e)r.fieldRef&&r.fieldRef.approvalName&&(t.has(r.fieldRef.approvalName)?t.get(r.fieldRef.approvalName).push(r):t.set(r.fieldRef.approvalName,[r]));return t}),z=e=>e.projectV0.requests.fetchConfig.requesting,G=e=>t=>t({type:"projectV0/SELECT",projectName:e}),W=e=>async t=>{const r=t(Y(e)),n=t(Q(e));t(K(e)),t(X(e));const o=t(J(e)),[i,s,a]=await Promise.all([r,n,o]);i.labelDefs=[...i.labelDefs,...Object(u.w)(a)],t(Z(i.projectName,i.fieldDefs)),window.TKR_populateAutocomplete(i,s,a)},Y=e=>async t=>{t({type:"projectV0/FETCH_CONFIG_START"});const r=l.a.call("monorail.Projects","GetConfig",{projectName:e});try{const n=await r;return t({type:"projectV0/FETCH_CONFIG_SUCCESS",projectName:e,config:n}),n}catch(e){t({type:"projectV0/FETCH_CONFIG_FAILURE",error:e})}},K=e=>async t=>{t({type:"projectV0/FETCH_PRESENTATION_CONFIG_START"});try{const r=await l.a.call("monorail.Projects","GetPresentationConfig",{projectName:e});t({type:"projectV0/FETCH_PRESENTATION_CONFIG_SUCCESS",projectName:e,presentationConfig:r})}catch(e){t({type:"projectV0/FETCH_PRESENTATION_CONFIG_FAILURE",error:e})}},J=e=>async t=>{t({type:"projectV0/FETCH_CUSTOM_PERMISSIONS_START"});try{const{permissions:r}=await l.a.call("monorail.Projects","GetCustomPermissions",{projectName:e});return t({type:"projectV0/FETCH_CUSTOM_PERMISSIONS_SUCCESS",projectName:e,permissions:r}),r}catch(e){t({type:"projectV0/FETCH_CUSTOM_PERMISSIONS_FAILURE",error:e})}},Q=e=>async t=>{t({type:"projectV0/FETCH_VISIBLE_MEMBERS_START"});try{const r=await l.a.call("monorail.Projects","GetVisibleMembers",{projectName:e});return t({type:"projectV0/FETCH_VISIBLE_MEMBERS_SUCCESS",projectName:e,visibleMembers:r}),r}catch(e){t({type:"projectV0/FETCH_VISIBLE_MEMBERS_FAILURE",error:e})}},X=e=>async t=>{t({type:"projectV0/FETCH_TEMPLATES_START"});const r=l.a.call("monorail.Projects","ListProjectTemplates",{projectName:e});if(r)try{const n=await r;t({type:"projectV0/FETCH_TEMPLATES_SUCCESS",projectName:e,templates:n.templates})}catch(e){t({type:"projectV0/FETCH_TEMPLATES_FAILURE",error:e})}},Z=(e,t)=>async r=>{const n=[];t&&t.forEach(t=>{const r=Object(u.e)(e,t);n.push(r)}),await r(s.b(n))}},function(e,t,r){var n;!function(o,i,s){if(o){for(var a,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},p={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)c[111+d]="f"+d;for(d=0;d<=9;++d)c[d+96]=d.toString();b.prototype.bind=function(e,t,r){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,r),this},b.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},b.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},b.prototype.reset=function(){return this._callbacks={},this._directMap={},this},b.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,r){return null!==t&&t!==i&&(t===r||e(t.parentNode,r))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var r=e.composedPath()[0];r!==e.target&&(t=r)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},b.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},b.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t]);a=null},b.init=function(){var e=b(i);for(var t in e)"_"!==t.charAt(0)&&(b[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},b.init(),o.Mousetrap=b,e.exports&&(e.exports=b),void 0===(n=function(){return b}.call(t,r,t,e))||(e.exports=n)}function h(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function f(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return c[e.which]?c[e.which]:u[e.which]?u[e.which]:String.fromCharCode(e.which).toLowerCase()}function y(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function m(e,t,r){return r||(r=function(){if(!a)for(var e in a={},c)e>95&&e<112||c.hasOwnProperty(e)&&(a[c[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==r&&t.length&&(r="keydown"),r}function g(e,t){var r,n,o,i=[];for(r=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<r.length;++o)n=r[o],p[n]&&(n=p[n]),t&&"keypress"!=t&&l[n]&&(n=l[n],i.push("shift")),y(n)&&i.push(n);return{key:n,modifiers:i,action:t=m(n,i,t)}}function b(e){var t=this;if(e=e||i,!(t instanceof b))return new b(e);t.target=e,t._callbacks={},t._directMap={};var r,n={},o=!1,s=!1,a=!1;function c(e){e=e||{};var t,r=!1;for(t in n)e[t]?r=!0:n[t]=0;r||(a=!1)}function u(e,r,o,i,s,a){var c,u,l,p,d=[],h=o.type;if(!t._callbacks[e])return[];for("keyup"==h&&y(e)&&(r=[e]),c=0;c<t._callbacks[e].length;++c)if(u=t._callbacks[e][c],(i||!u.seq||n[u.seq]==u.level)&&h==u.action&&("keypress"==h&&!o.metaKey&&!o.ctrlKey||(l=r,p=u.modifiers,l.sort().join(",")===p.sort().join(",")))){var f=!i&&u.combo==s,m=i&&u.seq==i&&u.level==a;(f||m)&&t._callbacks[e].splice(c,1),d.push(u)}return d}function l(e,r,n,o){t.stopCallback(r,r.target||r.srcElement,n,o)||!1===e(r,n)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(r),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(r))}function p(e){"number"!=typeof e.which&&(e.which=e.keyCode);var r=f(e);r&&("keyup"!=e.type||o!==r?t.handleKey(r,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function d(e,t,i,s){function u(t){return function(){a=t,++n[e],clearTimeout(r),r=setTimeout(c,1e3)}}function p(t){l(i,t,e),"keyup"!==s&&(o=f(t)),setTimeout(c,10)}n[e]=0;for(var d=0;d<t.length;++d){var h=d+1===t.length?p:u(s||g(t[d+1]).action);m(t[d],h,s,e,d)}}function m(e,r,n,o,i){t._directMap[e+":"+n]=r;var s,a=(e=e.replace(/\s+/g," ")).split(" ");a.length>1?d(e,a,r,n):(s=g(e,n),t._callbacks[s.key]=t._callbacks[s.key]||[],u(s.key,s.modifiers,{type:s.action},o,e,i),t._callbacks[s.key][o?"unshift":"push"]({callback:r,modifiers:s.modifiers,action:s.action,seq:o,level:i,combo:e}))}t._handleKey=function(e,t,r){var n,o=u(e,t,r),i={},p=0,d=!1;for(n=0;n<o.length;++n)o[n].seq&&(p=Math.max(p,o[n].level));for(n=0;n<o.length;++n)if(o[n].seq){if(o[n].level!=p)continue;d=!0,i[o[n].seq]=1,l(o[n].callback,r,o[n].combo,o[n].seq)}else d||l(o[n].callback,r,o[n].combo);var h="keypress"==r.type&&s;r.type!=a||y(e)||h||c(i),s=d&&"keydown"==r.type},t._bindMultiple=function(e,t,r){for(var n=0;n<e.length;++n)m(e[n],t,r)},h(e,"keypress",p),h(e,"keydown",p),h(e,"keyup",p)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,r){"use strict";r.d(t,"j",(function(){return m})),r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return S})),r.d(t,"i",(function(){return _})),r.d(t,"h",(function(){return E})),r.d(t,"g",(function(){return v})),r.d(t,"d",(function(){return w})),r.d(t,"c",(function(){return T})),r.d(t,"e",(function(){return C})),r.d(t,"m",(function(){return R})),r.d(t,"l",(function(){return O})),r.d(t,"k",(function(){return A})),r.d(t,"f",(function(){return I}));var n=r(11),o=r(5),i=r(1),s=r(2),a=r(3),c=r(9);const u=Object(i.b)("",{GET_SERVER_STATUS_SUCCESS:(e,t)=>t.serverStatus.bannerMessage||""}),l=Object(i.b)(0,{GET_SERVER_STATUS_SUCCESS:(e,t)=>t.serverStatus.bannerTime||0}),p=Object(i.b)("",{SET_PAGE_TITLE:(e,{title:t})=>t}),d=Object(i.b)("",{SET_HEADER_TITLE:(e,{title:t})=>t}),h=Object(i.b)({},{SET_QUERY_PARAMS:(e,{queryParams:t})=>t||{}}),f=Object(i.b)(!1,{GET_SERVER_STATUS_SUCCESS:(e,t)=>t.serverStatus.readOnly||!1}),y=Object(o.b)({serverStatus:Object(i.c)("GET_SERVER_STATUS_START","GET_SERVER_STATUS_SUCCESS","GET_SERVER_STATUS_FAILURE")}),m=Object(o.b)({bannerMessage:u,bannerTime:l,readOnly:f,queryParams:h,pageTitle:p,headerTitle:d,requests:y}),g=e=>e.sitewide||{},b=Object(s.a)(g,e=>e.bannerMessage),S=Object(s.a)(g,e=>e.bannerTime),_=Object(s.a)(g,e=>e.queryParams||{}),E=Object(s.a)(g,n.q,(e,t)=>{const r=[];return e.pageTitle&&r.push(e.pageTitle),t&&t.projectName&&r.push(t.projectName),r.join(" - ")||"Monorail"}),v=Object(s.a)(g,e=>e.headerTitle),w=(Object(s.a)(g,e=>e.readOnly),Object(s.a)(_,(e={})=>e.colspec?Object(c.j)(e.colspec):null)),T=Object(s.a)(_,e=>e.can||c.c),C=Object(s.a)(n.c,_,(e,t={})=>""===t.q?t.q:t.q||e),R=(Object(s.a)(g,e=>e.requests||{}),e=>({type:"SET_QUERY_PARAMS",queryParams:e})),O=e=>({type:"SET_PAGE_TITLE",title:e}),A=e=>({type:"SET_HEADER_TITLE",title:e}),I=()=>async e=>{e({type:"GET_SERVER_STATUS_START"});try{e({type:"GET_SERVER_STATUS_SUCCESS",serverStatus:await a.a.call("monorail.Sitewide","GetServerStatus",{})})}catch(t){e({type:"GET_SERVER_STATUS_FAILURE",error:t})}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return d})),r.d(t,"e",(function(){return h})),r.d(t,"c",(function(){return f})),r.d(t,"f",(function(){return y})),r.d(t,"d",(function(){return b}));var n=r(28),o=r(20),i=r(17),s=r(32),a=r(29),c=r(8);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const u=e=>null===e||!("object"==typeof e||"function"==typeof e),l=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class p{constructor(e,t,r){this.dirty=!0,this.element=e,this.name=t,this.strings=r,this.parts=[];for(let e=0;e<r.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new d(this)}_getValue(){const e=this.strings,t=e.length-1,r=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=r[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!l(e))return e}let n="";for(let o=0;o<t;o++){n+=e[o];const t=r[o];if(void 0!==t){const e=t.value;if(u(e)||!l(e))n+="string"==typeof e?e:String(e);else for(const t of e)n+="string"==typeof t?t:String(t)}}return n+=e[t],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class d{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===i.a||u(e)&&e===this.value||(this.value=e,Object(n.b)(e)||(this.committer.dirty=!0))}commit(){for(;Object(n.b)(this.value);){const e=this.value;this.value=i.a,e(this)}this.value!==i.a&&this.committer.commit()}}class h{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(Object(c.c)()),this.endNode=e.appendChild(Object(c.c)())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=Object(c.c)()),e.__insert(this.endNode=Object(c.c)())}insertAfterPart(e){e.__insert(this.startNode=Object(c.c)()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;Object(n.b)(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=i.a,e(this)}const e=this.__pendingValue;e!==i.a&&(u(e)?e!==this.value&&this.__commitText(e):e instanceof a.b?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):l(e)?this.__commitIterable(e):e===i.b?(this.value=i.b,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,r="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=r:this.__commitNode(document.createTextNode(r)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof s.a&&this.value.template===t)this.value.update(e.values);else{const r=new s.a(t,e.processor,this.options),n=r._clone();r.update(e.values),this.__commitNode(n),this.value=r}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let r,n=0;for(const o of e)r=t[n],void 0===r&&(r=new h(this.options),t.push(r),0===n?r.appendIntoPart(this):r.insertAfterPart(t[n-1])),r.setValue(o),r.commit(),n++;n<t.length&&(t.length=n,this.clear(r&&r.endNode))}clear(e=this.startNode){Object(o.b)(this.startNode.parentNode,e.nextSibling,this.endNode)}}class f{constructor(e,t,r){if(this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=r}setValue(e){this.__pendingValue=e}commit(){for(;Object(n.b)(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=i.a,e(this)}if(this.__pendingValue===i.a)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=i.a}}class y extends p{constructor(e,t,r){super(e,t,r),this.single=2===r.length&&""===r[0]&&""===r[1]}_createPart(){return new m(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class m extends d{}let g=!1;(()=>{try{const e={get capture(){return g=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class b{constructor(e,t,r){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=r,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;Object(n.b)(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=i.a,e(this)}if(this.__pendingValue===i.a)return;const e=this.__pendingValue,t=this.value,r=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),o=null!=e&&(null==t||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=S(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=i.a}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const S=e=>e&&(g?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)},function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"m",(function(){return m})),r.d(t,"n",(function(){return g})),r.d(t,"b",(function(){return b})),r.d(t,"i",(function(){return S})),r.d(t,"j",(function(){return E})),r.d(t,"l",(function(){return w})),r.d(t,"k",(function(){return T})),r.d(t,"c",(function(){return C})),r.d(t,"f",(function(){return R})),r.d(t,"d",(function(){return O})),r.d(t,"e",(function(){return A})),r.d(t,"o",(function(){return I})),r.d(t,"g",(function(){return j})),r.d(t,"h",(function(){return x}));var n=r(5),o=r(2),i=r(1),s=r(3),a=r(7),c=r(4),u=r(23);const l="GAPI_LOGIN_SUCCESS",p={groups:[],hotlists:[],projects:{},prefs:{},prefsLoaded:!1},d=(e,t)=>({...e,gapiEmail:t.email||""}),h=Object(i.b)(p,{"userV0/FETCH_SUCCESS":(e,t)=>({...p,...t.user,groups:t.groups}),"userV0/FETCH_HOTLISTS_SUCCESS":(e,t)=>({...e,hotlists:t.hotlists}),"userV0/FETCH_PREFS_SUCCESS":(e,t)=>({...e,prefs:t.prefs,prefsLoaded:!0}),"userV0/SET_PREFS_SUCCESS":(e,t)=>{const r=t.newPrefs,n=Object.assign({},e.prefs);return r.forEach(({name:e,value:t})=>{n[e]=t}),{...e,prefs:n}},[l]:d,GAPI_LOGOUT_SUCCESS:d}),f=Object(i.b)({},{"userV0/FETCH_PROJECTS_SUCCESS":(e,t)=>{const r={...e};return t.usersProjects.forEach(e=>{const{userRef:t,ownerOf:n=[],memberOf:o=[],contributorTo:i=[],starredProjects:s=[]}=e,a=Object(c.A)(t);r[a]={...r[a],projects:{ownerOf:n,memberOf:o,contributorTo:i,starredProjects:s}}}),r}}),y=Object(n.b)({fetch:Object(i.c)("userV0/FETCH_START","userV0/FETCH_SUCCESS","userV0/FETCH_FAILURE"),fetchProjects:Object(i.c)("userV0/FETCH_PROJECTS_START","userV0/FETCH_PROJECTS_SUCCESS","userV0/FETCH_PROJECTS_FAILURE"),fetchHotlists:Object(i.c)("userV0/FETCH_HOTLISTS_START","userV0/FETCH_HOTLISTS_SUCCESS","userV0/FETCH_HOTLISTS_FAILURE"),fetchPrefs:Object(i.c)("userV0/FETCH_PREFS_START","userV0/FETCH_PREFS_SUCCESS","userV0/FETCH_PREFS_FAILURE"),setPrefs:Object(i.c)("userV0/SET_PREFS_START","userV0/SET_PREFS_SUCCESS","userV0/SET_PREFS_FAILURE")}),m=Object(n.b)({currentUser:h,usersById:f,requests:y}),g=e=>e.userV0.requests,b=e=>e.userV0.currentUser||{},S=Object(o.a)(b,e=>e&&e.userId),_=Object(o.a)(b,e=>Object(c.C)(e)),E=Object(o.a)(b,e=>Object(a.i)(e.prefs)),v=Object(o.a)(e=>e.userV0.usersById||{},e=>Object(a.i)(e)),w=Object(o.a)(v,e=>{const t=new Map;for(const[r,n]of e.entries())n.projects&&t.set(r,n.projects);return t}),T=Object(o.a)(w,_,(e,t)=>e.get(Object(c.A)(t))||{}),C=e=>async t=>{t({type:"userV0/FETCH_START"});const r={userRef:{displayName:e}};try{const e=await Promise.all([s.a.call("monorail.Users","GetUser",r),s.a.call("monorail.Users","GetMemberships",r)]),n=e[0];t({type:"userV0/FETCH_SUCCESS",user:n,groups:e[1].groupRefs||[]});const o=Object(c.C)(n);t(R([o]));const i=t(O(o));t(A()),i.then(e=>{window.TKR_populateHotlistAutocomplete(e)})}catch(e){t({type:"userV0/FETCH_FAILURE",error:e})}},R=e=>async t=>{t({type:"userV0/FETCH_PROJECTS_START"});try{t({type:"userV0/FETCH_PROJECTS_SUCCESS",usersProjects:(await s.a.call("monorail.Users","GetUsersProjects",{userRefs:e})).usersProjects})}catch(e){t({type:"userV0/FETCH_PROJECTS_FAILURE",error:e})}},O=e=>async t=>{t({type:"userV0/FETCH_HOTLISTS_START"});try{const r=(await s.a.call("monorail.Features","ListHotlistsByUser",{user:e})).hotlists||[];return r.sort((e,t)=>e.name.localeCompare(t.name)),t({type:"userV0/FETCH_HOTLISTS_SUCCESS",hotlists:r}),r}catch(e){t({type:"userV0/FETCH_HOTLISTS_FAILURE",error:e})}},A=()=>async e=>{e({type:"userV0/FETCH_PREFS_START"});try{const t=await s.a.call("monorail.Users","GetUserPrefs",{}),r={};(t.prefs||[]).forEach(({name:e,value:t})=>{r[e]=t}),e({type:"userV0/FETCH_PREFS_SUCCESS",prefs:r})}catch(t){e({type:"userV0/FETCH_PREFS_FAILURE",error:t})}},I=(e,t=!0)=>async r=>{if(t){r({type:"userV0/SET_PREFS_START"});try{const t={prefs:e};await s.a.call("monorail.Users","SetUserPrefs",t),r({type:"userV0/SET_PREFS_SUCCESS",newPrefs:e}),r(A())}catch(e){r({type:"userV0/SET_PREFS_FAILURE",error:e})}}else r({type:"userV0/SET_PREFS_SUCCESS",newPrefs:e})},j=()=>e=>(e({type:"GAPI_LOGIN_START"}),new Promise(async t=>{try{await Object(u.a)(),gapi.auth2.getAuthInstance().signIn().then(async()=>{const r=await Object(u.b)();e({type:l,email:r}),t()})}catch(t){e({type:"GAPI_LOGIN_FAILURE",error:t})}})),x=()=>async e=>{e({type:"GAPI_LOGOUT_START"});try{await Object(u.a)(),gapi.auth2.getAuthInstance().signOut().then(()=>{e({type:"GAPI_LOGOUT_SUCCESS",email:""})})}catch(t){e({type:"GAPI_LOGOUT_FAILURE",error:t})}}},function(e,t,r){(function(t){e.exports=function(){"use strict";var e=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},r=y,n=c,o=function(e){return u(c(e))},i=u,s=f,a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function c(e){for(var t,r=[],n=0,o=0,i="";null!=(t=a.exec(e));){var s=t[0],c=t[1],u=t.index;if(i+=e.slice(o,u),o=u+s.length,c)i+=c[1];else{i&&(r.push(i),i="");var l=t[2],d=t[3],h=t[4],f=t[5],y=t[6],m=t[7],g="+"===y||"*"===y,b="?"===y||"*"===y,S=l||"/",_=h||f||(m?".*":"[^"+S+"]+?");r.push({name:d||n++,prefix:l||"",delimiter:S,optional:b,repeat:g,pattern:p(_)})}}return o<e.length&&(i+=e.substr(o)),i&&r.push(i),r}function u(t){for(var r=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(r[n]=new RegExp("^"+t[n].pattern+"$"));return function(n){for(var o="",i=n||{},s=0;s<t.length;s++){var a=t[s];if("string"!=typeof a){var c,u=i[a.name];if(null==u){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(e(u)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+u+'"');if(0===u.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var l=0;l<u.length;l++){if(c=encodeURIComponent(u[l]),!r[s].test(c))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+c+'"');o+=(0===l?a.prefix:a.delimiter)+c}}else{if(c=encodeURIComponent(u),!r[s].test(c))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+c+'"');o+=a.prefix+c}}else o+=a}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function p(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function h(e){return e.sensitive?"":"i"}function f(e,t){for(var r=(t=t||{}).strict,n=!1!==t.end,o="",i=e[e.length-1],s="string"==typeof i&&/\/$/.test(i),a=0;a<e.length;a++){var c=e[a];if("string"==typeof c)o+=l(c);else{var u=l(c.prefix),p=c.pattern;c.repeat&&(p+="(?:"+u+p+")*"),o+=p=c.optional?u?"(?:"+u+"("+p+"))?":"("+p+")?":u+"("+p+")"}}return r||(o=(s?o.slice(0,-2):o)+"(?:\\/(?=$))?"),o+=n?"$":r&&s?"":"(?=\\/|$)",new RegExp("^"+o,h(t))}function y(t,r,n){return e(r=r||[])?n||(n={}):(n=r,r=[]),t instanceof RegExp?function(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return d(e,t)}(t,r):e(t)?function(e,t,r){for(var n=[],o=0;o<e.length;o++)n.push(y(e[o],t,r).source);return d(new RegExp("(?:"+n.join("|")+")",h(r)),t)}(t,r,n):function(e,t,r){for(var n=c(e),o=f(n,r),i=0;i<n.length;i++)"string"!=typeof n[i]&&t.push(n[i]);return d(o,t)}(t,r,n)}r.parse=n,r.compile=o,r.tokensToFunction=i,r.tokensToRegExp=s;var m,g="undefined"!=typeof document,b="undefined"!=typeof window,S="undefined"!=typeof history,_=void 0!==t,E=g&&document.ontouchstart?"touchstart":"click",v=b&&!(!window.history.location&&!window.location);function w(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function T(e,t){if("function"==typeof e)return T.call(this,"*",e);if("function"==typeof t)for(var r=new O(e,null,this),n=1;n<arguments.length;++n)this.callbacks.push(r.middleware(arguments[n]));else"string"==typeof e?this["string"==typeof t?"redirect":"show"](e,t):this.start(e)}function C(e){if(!e.handled){var t=this._window;(this._hashbang?v&&this._getBase()+t.location.hash.replace("#!",""):v&&t.location.pathname+t.location.search)!==e.canonicalPath&&(this.stop(),e.handled=!1,v&&(t.location.href=e.canonicalPath))}}function R(e,t,r){var n=this.page=r||T,o=n._window,i=n._hashbang,s=n._getBase();"/"===e[0]&&0!==e.indexOf(s)&&(e=s+(i?"#!":"")+e);var a=e.indexOf("?");this.canonicalPath=e;var c=new RegExp("^"+s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"));if(this.path=e.replace(c,"")||"/",i&&(this.path=this.path.replace("#!","")||"/"),this.title=g&&o.document.title,this.state=t||{},this.state.path=e,this.querystring=~a?n._decodeURLEncodedURIComponent(e.slice(a+1)):"",this.pathname=n._decodeURLEncodedURIComponent(~a?e.slice(0,a):e),this.params={},this.hash="",!i){if(!~this.path.indexOf("#"))return;var u=this.path.split("#");this.path=this.pathname=u[0],this.hash=n._decodeURLEncodedURIComponent(u[1])||"",this.querystring=this.querystring.split("#")[0]}}function O(e,t,n){var o=this.page=n||A,i=t||{};i.strict=i.strict||o._strict,this.path="*"===e?"(.*)":e,this.method="GET",this.regexp=r(this.path,this.keys=[],i)}w.prototype.configure=function(e){var t=e||{};this._window=t.window||b&&window,this._decodeURLComponents=!1!==t.decodeURLComponents,this._popstate=!1!==t.popstate&&b,this._click=!1!==t.click&&g,this._hashbang=!!t.hashbang;var r=this._window;this._popstate?r.addEventListener("popstate",this._onpopstate,!1):b&&r.removeEventListener("popstate",this._onpopstate,!1),this._click?r.document.addEventListener(E,this.clickHandler,!1):g&&r.document.removeEventListener(E,this.clickHandler,!1),this._hashbang&&b&&!S?r.addEventListener("hashchange",this._onpopstate,!1):b&&r.removeEventListener("hashchange",this._onpopstate,!1)},w.prototype.base=function(e){if(0===arguments.length)return this._base;this._base=e},w.prototype._getBase=function(){var e=this._base;if(e)return e;var t=b&&this._window&&this._window.location;return b&&this._hashbang&&t&&"file:"===t.protocol&&(e=t.pathname),e},w.prototype.strict=function(e){if(0===arguments.length)return this._strict;this._strict=e},w.prototype.start=function(e){var t=e||{};if(this.configure(t),!1!==t.dispatch){var r;if(this._running=!0,v){var n=this._window.location;r=this._hashbang&&~n.hash.indexOf("#!")?n.hash.substr(2)+n.search:this._hashbang?n.search+n.hash:n.pathname+n.search+n.hash}this.replace(r,null,!0,t.dispatch)}},w.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var e=this._window;this._click&&e.document.removeEventListener(E,this.clickHandler,!1),b&&e.removeEventListener("popstate",this._onpopstate,!1),b&&e.removeEventListener("hashchange",this._onpopstate,!1)}},w.prototype.show=function(e,t,r,n){var o=new R(e,t,this),i=this.prevContext;return this.prevContext=o,this.current=o.path,!1!==r&&this.dispatch(o,i),!1!==o.handled&&!1!==n&&o.pushState(),o},w.prototype.back=function(e,t){var r=this;if(this.len>0){var n=this._window;S&&n.history.back(),this.len--}else e?setTimeout((function(){r.show(e,t)})):setTimeout((function(){r.show(r._getBase(),t)}))},w.prototype.redirect=function(e,t){var r=this;"string"==typeof e&&"string"==typeof t&&T.call(this,e,(function(e){setTimeout((function(){r.replace(t)}),0)})),"string"==typeof e&&void 0===t&&setTimeout((function(){r.replace(e)}),0)},w.prototype.replace=function(e,t,r,n){var o=new R(e,t,this),i=this.prevContext;return this.prevContext=o,this.current=o.path,o.init=r,o.save(),!1!==n&&this.dispatch(o,i),o},w.prototype.dispatch=function(e,t){var r=0,n=0,o=this;function i(){var t=o.callbacks[r++];if(e.path===o.current)return t?void t(e,i):C.call(o,e);e.handled=!1}t?function e(){var r=o.exits[n++];if(!r)return i();r(t,e)}():i()},w.prototype.exit=function(e,t){if("function"==typeof e)return this.exit("*",e);for(var r=new O(e,null,this),n=1;n<arguments.length;++n)this.exits.push(r.middleware(arguments[n]))},w.prototype.clickHandler=function(e){if(1===this._which(e)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){var t=e.target,r=e.path||(e.composedPath?e.composedPath():null);if(r)for(var n=0;n<r.length;n++)if(r[n].nodeName&&"A"===r[n].nodeName.toUpperCase()&&r[n].href){t=r[n];break}for(;t&&"A"!==t.nodeName.toUpperCase();)t=t.parentNode;if(t&&"A"===t.nodeName.toUpperCase()){var o="object"==typeof t.href&&"SVGAnimatedString"===t.href.constructor.name;if(!t.hasAttribute("download")&&"external"!==t.getAttribute("rel")){var i=t.getAttribute("href");if((this._hashbang||!this._samePath(t)||!t.hash&&"#"!==i)&&!(i&&i.indexOf("mailto:")>-1)&&!(o?t.target.baseVal:t.target)&&(o||this.sameOrigin(t.href))){var s=o?t.href.baseVal:t.pathname+t.search+(t.hash||"");s="/"!==s[0]?"/"+s:s,_&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));var a=s,c=this._getBase();0===s.indexOf(c)&&(s=s.substr(c.length)),this._hashbang&&(s=s.replace("#!","")),(!c||a!==s||v&&"file:"===this._window.location.protocol)&&(e.preventDefault(),this.show(a))}}}}},w.prototype._onpopstate=(m=!1,b?(g&&"complete"===document.readyState?m=!0:window.addEventListener("load",(function(){setTimeout((function(){m=!0}),0)})),function(e){if(m)if(e.state){var t=e.state.path;this.replace(t,e.state)}else if(v){var r=this._window.location;this.show(r.pathname+r.search+r.hash,void 0,void 0,!1)}}):function(){}),w.prototype._which=function(e){return null==(e=e||b&&this._window.event).which?e.button:e.which},w.prototype._toURL=function(e){var t=this._window;if("function"==typeof URL&&v)return new URL(e,t.location.toString());if(g){var r=t.document.createElement("a");return r.href=e,r}},w.prototype.sameOrigin=function(e){if(!e||!v)return!1;var t=this._toURL(e),r=this._window.location;return r.protocol===t.protocol&&r.hostname===t.hostname&&(r.port===t.port||""===r.port&&(80==t.port||443==t.port))},w.prototype._samePath=function(e){if(!v)return!1;var t=this._window.location;return e.pathname===t.pathname&&e.search===t.search},w.prototype._decodeURLEncodedURIComponent=function(e){return"string"!=typeof e?e:this._decodeURLComponents?decodeURIComponent(e.replace(/\+/g," ")):e},R.prototype.pushState=function(){var e=this.page,t=e._window,r=e._hashbang;e.len++,S&&t.history.pushState(this.state,this.title,r&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},R.prototype.save=function(){var e=this.page;S&&e._window.history.replaceState(this.state,this.title,e._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},O.prototype.middleware=function(e){var t=this;return function(r,n){if(t.match(r.path,r.params))return r.routePath=t.path,e(r,n);n()}},O.prototype.match=function(e,t){var r=this.keys,n=e.indexOf("?"),o=~n?e.slice(0,n):e,i=this.regexp.exec(decodeURIComponent(o));if(!i)return!1;delete t[0];for(var s=1,a=i.length;s<a;++s){var c=r[s-1],u=this.page._decodeURLEncodedURIComponent(i[s]);void 0===u&&hasOwnProperty.call(t,c.name)||(t[c.name]=u)}return!0};var A=function e(){var t=new w;function r(){return T.apply(t,arguments)}return r.callbacks=t.callbacks,r.exits=t.exits,r.base=t.base.bind(t),r.strict=t.strict.bind(t),r.start=t.start.bind(t),r.stop=t.stop.bind(t),r.show=t.show.bind(t),r.back=t.back.bind(t),r.redirect=t.redirect.bind(t),r.replace=t.replace.bind(t),r.dispatch=t.dispatch.bind(t),r.exit=t.exit.bind(t),r.configure=t.configure.bind(t),r.sameOrigin=t.sameOrigin.bind(t),r.clickHandler=t.clickHandler.bind(t),r.create=e,Object.defineProperty(r,"len",{get:function(){return t.len},set:function(e){t.len=e}}),Object.defineProperty(r,"current",{get:function(){return t.current},set:function(e){t.current=e}}),r.Context=R,r.Route=O,r}(),I=A,j=A;return I.default=j,I}()}).call(this,r(62))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const n={},o={}},function(e,t,r){"use strict";var n=r(70),o=r(74),i=r(49);e.exports={formats:i,parse:o,stringify:n}},function(e,t,r){"use strict";r.d(t,"e",(function(){return s.a})),r.d(t,"g",(function(){return a.b})),r.d(t,"h",(function(){return a.c})),r.d(t,"a",(function(){return n.b})),r.d(t,"b",(function(){return n.e})),r.d(t,"c",(function(){return i.b})),r.d(t,"d",(function(){return c.c})),r.d(t,"f",(function(){return u})),r.d(t,"i",(function(){return l}));var n=r(14);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const o=new class{handleAttributeExpressions(e,t,r,o){const i=t[0];if("."===i){return new n.f(e,t.slice(1),r).parts}if("@"===i)return[new n.d(e,t.slice(1),o.eventContext)];if("?"===i)return[new n.c(e,t.slice(1),r)];return new n.a(e,t,r).parts}handleTextExpression(e){return new n.e(e)}};var i=r(29),s=r(28),a=r(20),c=(r(17),r(27),r(26),r(32),r(8));
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const u=(e,...t)=>new i.b(e,t,"html",o),l=(e,...t)=>new i.a(e,t,"svg",o)},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return i}));
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const n="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,o=(e,t,r=null,n=null)=>{for(;t!==r;){const r=t.nextSibling;e.insertBefore(t,n),t=r}},i=(e,t,r=null)=>{for(;t!==r;){const r=t.nextSibling;e.removeChild(t),t=r}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0);const o=n.b`
  :host {
    --mr-edit-field-padding: 0.125em 4px;
    --mr-edit-field-width: 90%;
    --mr-input-grid-gap: 6px;
    font-family: var(--chops-font-family);
    color: var(--chops-primary-font-color);
    font-size: var(--chops-main-font-size);
  }
  /** Converts a <button> to look like an <a> tag. */
  .linkify {
    display: inline;
    padding: 0;
    margin: 0;
    border: 0;
    background: 0;
    cursor: pointer;
  }
  h1, h2, h3, h4 {
    background: none;
  }
  a, chops-button, a.button, .button, .linkify {
    color: var(--chops-link-color);
    text-decoration: none;
    font-weight: var(--chops-link-font-weight);
    font-family: var(--chops-font-family);
  }
  a:hover, .linkify:hover {
    text-decoration: underline;
  }
  a.button, .button {
    /* Links that look like buttons. */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    transition: filter 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
  }
  a.button:hover, .button:hover {
    filter: brightness(95%);
  }
  chops-button, a.button, .button {
    box-sizing: border-box;
    font-size: var(--chops-main-font-size);
    background: var(--chops-white);
    border-radius: 6px;
    --chops-button-padding: 0.25em 8px;
    margin: 0;
    margin-left: auto;
  }
  a.button, .button {
    padding: var(--chops-button-padding);
  }
  chops-button i.material-icons, a.button i.material-icons, .button i.material-icons {
    display: block;
    margin-right: 4px;
  }
  chops-button.emphasized, a.button.emphasized, .button.emphasized {
    background: var(--chops-primary-button-bg);
    color: var(--chops-primary-button-color);
    text-shadow: 1px 1px 3px hsla(0, 0%, 0%, 0.25);
  }
  textarea, select, input {
    box-sizing: border-box;
    font-size: var(--chops-main-font-size);
  }
  /* Note: decoupling heading levels from styles is useful for
  * accessibility because styles will not always line up with semantically
  * appropriate heading levels.
  */
  .medium-heading {
    font-size: var(--chops-large-font-size);
    font-weight: normal;
    line-height: 1;
    padding: 0.25em 0;
    color: var(--chops-link-color);
    margin: 0;
    margin-top: 0.25em;
    border-bottom: var(--chops-normal-border);
  }
  .medium-heading chops-button {
    line-height: 1.6;
  }
  .input-grid {
    padding: 0.5em 0;
    display: grid;
    max-width: 100%;
    grid-gap: var(--mr-input-grid-gap);
    grid-template-columns: minmax(120px, max-content) 1fr;
    align-items: flex-start;
  }
  .input-grid label {
    font-weight: bold;
    text-align: right;
    word-wrap: break-word;
  }
  @media (max-width: 600px) {
    .input-grid label {
      margin-top: var(--mr-input-grid-gap);
      text-align: left;
    }
    .input-grid {
      grid-gap: var(--mr-input-grid-gap);
      grid-template-columns: 100%;
    }
  }
`;n.b`
  .annotated-link {
    position: relative;
  }
  .annotated-link:hover .tooltip {
    display: block
  }
  .tooltip {
    display: none;
    position: absolute;
    width: auto;
    white-space: nowrap;
    box-shadow: rgb(170 170 170) 1px 1px 5px;
    box-shadow: 0 4px 8px 3px rgb(0 0 0 / 10%);
    border-radius: 8px;
    background-color: rgb(255, 255, 255);
    top: -32px;
    left: 0px;
    border: 1px solid #dadce0;
    padding: 6px 10px;
  }
  .material-icons {
    font-size: 18px;
    vertical-align: middle;
  }
  .material-icons.link {
    color: var(--chops-link-color);
  }
  .material-icons.link_off {
    color: var(--chops-field-error-color);
  }
`},function(e,t,r){"use strict";r.d(t,"e",(function(){return l})),r.d(t,"c",(function(){return p})),r.d(t,"b",(function(){return d})),r.d(t,"a",(function(){return h})),r.d(t,"d",(function(){return f})),r.d(t,"f",(function(){return y}));var n=r(5),o=r(1),i=r(3);r(25);const s=Object(o.b)(null,{"user/LOG_IN":(e,{user:t})=>t.name}),a=Object(o.b)({},{"user/BATCH_GET_SUCCESS":(e,{users:t})=>{const r={...e};for(const e of t)r[e.name]=e;return r},"user/FETCH_SUCCESS":(e,{user:t})=>({...e,[t.name]:t})}),c=Object(o.b)({},{"user/GATHER_PROJECT_MEMBERSHIPS_SUCCESS":(e,{userName:t,projectMemberships:r})=>{const n={...e};return n[t]=r||[],n}}),u=Object(n.b)({batchGet:Object(o.a)("user/BATCH_GET_START","user/BATCH_GET_SUCCESS","user/BATCH_GET_FAILURE"),fetch:Object(o.a)("user/FETCH_START","user/FETCH_SUCCESS","user/FETCH_FAILURE"),gatherProjectMemberships:Object(o.a)("user/GATHER_PROJECT_MEMBERSHIPS_START","user/GATHER_PROJECT_MEMBERSHIPS_SUCCESS","user/GATHER_PROJECT_MEMBERSHIPS_FAILURE")}),l=Object(n.b)({currentUserName:s,byName:a,projectMemberships:c,requests:u}),p=e=>e.users.currentUserName,d=e=>e.users.byName,h=e=>async t=>{t({type:"user/BATCH_GET_START"});try{const{users:r}=await i.a.call("monorail.v3.Users","BatchGetUsers",{names:e});t({type:"user/BATCH_GET_SUCCESS",users:r})}catch(e){t({type:"user/BATCH_GET_FAILURE",error:e})}},f=e=>async t=>{t({type:"user/FETCH_START"});try{const r=await i.a.call("monorail.v3.Users","GetUser",{name:e});t({type:"user/FETCH_SUCCESS",user:r}),t({type:"user/LOG_IN",user:r})}catch(e){t({type:"user/FETCH_FAILURE",error:e})}},y={currentUserName:p,byName:d,projectMemberships:e=>e.users.projectMemberships,batchGet:h,fetch:f,gatherProjectMemberships:e=>async t=>{t({type:"user/GATHER_PROJECT_MEMBERSHIPS_START"});try{const{projectMemberships:r}=await i.a.call("monorail.v3.Frontend","GatherProjectMembershipsForUser",{user:e});t({type:"user/GATHER_PROJECT_MEMBERSHIPS_SUCCESS",userName:e,projectMemberships:r})}catch(e){t({type:"user/GATHER_PROJECT_MEMBERSHIPS_FAILURE",error:e})}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return S}));var n={};r.r(n),r.d(n,"ChopsSignin",(function(){return i})),r.d(n,"getAuthInstanceAsync",(function(){return s})),r.d(n,"getAuthInstanceSync",(function(){return a})),r.d(n,"getAuthorizationHeadersSync",(function(){return c})),r.d(n,"getUserProfileSync",(function(){return u})),r.d(n,"getUserProfileAsync",(function(){return l})),r.d(n,"getAuthorizationHeaders",(function(){return h})),r.d(n,"reloadAuthorizationHeaders",(function(){return f})),r.d(n,"authInitializedPromise",(function(){return y})),r.d(n,"init",(function(){return g}));var o=r(0);class i extends o.a{constructor(){super(),this.clientId="",this._onUserUpdate=this._onUserUpdate.bind(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this._onClick.bind(this)),window.addEventListener("user-update",this._onUserUpdate),this.clientIdChanged()}disconnectedCallback(){window.removeEventListener("user-update",this._onUserUpdate)}static get styles(){return o.b`
      :host {
        --chops-signin-size: 32px;
        fill: var(--chops-signin-fill-color, red);
        cursor: pointer;
        stroke-width: 0;
        width: var(--chops-signin-size);
        height: var(--chops-signin-size);
      }
      img {
        height: var(--chops-signin-size);
        border-radius: 50%;
        overflow: hidden;
      }
      svg {
        width: var(--chops-signin-size);
        height: var(--chops-signin-size);
      }
    `}render(){const e=u();return o.c`
      ${this.errorMsg?o.c`
            <div class="error">Error: ${this.errorMsg}</div>
          `:o.c`
            ${e&&e.getImageUrl()?o.c`
                  <img
                    title="Sign out of ${e.getEmail()}"
                    src="${e.getImageUrl()}"
                  />
                `:this._icon}
          `}
    `}static get properties(){return{profile:{type:Object},clientId:{attribute:"client-id",type:String}}}clientIdChanged(){this.clientId?(delete this.errorMsg,g(this.clientId)):this.errorMsg="No client-id attribute set"}attributeChangedCallback(e,t,r){super.attributeChangedCallback(e,t,r),"client-id"===e&&this.clientIdChanged()}get _icon(){return o.d`<svg viewBox="0 0 24 24">
      <path
        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0
        3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5
        0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29
        1.94-3.5 3.22-6 3.22z"></path>
    </svg>`}_onUserUpdate(){this.profile=u(),this.profile?this.setAttribute("title","Sign out of Google"):this.setAttribute("title","Sign in with Google")}_onClick(){return y.then(()=>{const e=m.auth2.getAuthInstance();return e.currentUser.get().isSignedIn()?e.signOut():e.signIn()}).catch(e=>{window.console.error(e)})}}function s(){return y.then(()=>m.auth2.getAuthInstance())}function a(){if(m&&m.auth2)return m.auth2.getAuthInstance()}function c(){const e=a();if(!e)return;const t=e.currentUser.get();if(!t)return{};const r=t.getAuthResponse();return r&&r.access_token?{Authorization:r.token_type+" "+r.access_token}:{}}function u(){const e=a();if(!e)return;const t=e.currentUser.get();return t.isSignedIn()?t.getBasicProfile():void 0}function l(){return y.then(u)}customElements.get("chops-signin")||customElements.define("chops-signin",i);let p,d;function h(){return s().then(e=>{if(!e)return;const t=e.currentUser.get(),r=t.getAuthResponse();return void 0!==r.expires_at?r.expires_at-6e4<(new Date).valueOf()?t.reloadAuthResponse():r:void 0}).then(e=>{if(!e)return{};if(!p){const t=e.expires_at-6e4+1-(new Date).valueOf();p=window.setTimeout(f,t)}return{Authorization:e.token_type+" "+e.access_token}})}function f(){p=void 0,h().then(e=>{window.dispatchEvent(new CustomEvent("authorization-headers-reloaded",{detail:{headers:e}}))})}const y=new Promise(e=>{d=e});let m;function g(e,t,r){const n="gapi"+e,o=document.createElement("script");function i(){document.head.removeChild(o)}function s(){if(!window.gapi||!m.auth2)return;if(!document.body)return void window.addEventListener("load",s);let t="email";r&&r.length>0&&(t+=" "+r.join(" "));const n=window.gapi.auth2.init({client_id:e,scope:t});n.currentUser.listen(e=>{window.dispatchEvent(new CustomEvent("user-update",{detail:{user:e}})),h()}),n.then((function(){d()}),(function(e){window.console.error(e)}))}o.src="https://apis.google.com/js/api.js?onload="+n,window[n]=()=>{m=window.gapi;let e="auth2";t&&t.length>0&&(e+=":"+t.join(":")),window.gapi.load(e,s),delete window[n],i()},o.onerror=i,document.head.appendChild(o)}function b(){const e=E();if(!CS_env.gapi_client_id)throw new Error("Cannot find gapi.js client id");return window.__gapiLoadPromise||(window.__gapiLoadPromise=new Promise(async t=>{e.init(CS_env.gapi_client_id,["client"],["https://www.googleapis.com/auth/buganizer"]),t(await S())})),window.__gapiLoadPromise}function S(){const e=E();return new Promise(t=>{e.getUserProfileAsync().then(e=>{t(e&&e.getEmail instanceof Function&&e.getEmail().endsWith("@google.com")&&e.getEmail()||null)})})}let _;function E(e=n,t=!1){return!t&&_||(_=e),_}},function(e,t,r){"use strict";r.d(t,"k",(function(){return i})),r.d(t,"g",(function(){return l})),r.d(t,"f",(function(){return p})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return h})),r.d(t,"l",(function(){return f})),r.d(t,"e",(function(){return y})),r.d(t,"h",(function(){return m})),r.d(t,"a",(function(){return g})),r.d(t,"i",(function(){return b})),r.d(t,"j",(function(){return S})),r.d(t,"d",(function(){return _}));var n=r(5),o=r(1);const i=Object.freeze({FETCH_ISSUE_LIST_ERROR:"FETCH_ISSUE_LIST_ERROR",FETCH_ISSUE_LIST:"FETCH_ISSUE_LIST",UPDATE_HOTLISTS_SUCCESS:"UPDATE_HOTLISTS_SUCCESS",ISSUE_COMMENT_ADDED:"ISSUE_COMMENT_ADDED"}),s=Object(o.b)(0,{INCREMENT_NAVIGATION_COUNT:e=>e+1}),a=Object(o.b)([],{REPORT_DIRTY_FORM:(e,{name:t,isDirty:r})=>{const n=[...e],o=e.indexOf(t);return r&&-1===o?n.push(t):r||-1===o||n.splice(o,1),n},CLEAR_DIRTY_FORMS:()=>[]}),c=Object(o.b)(null,{SET_FOCUS_ID:(e,t)=>t.focusId}),u=Object(o.b)([],{SHOW_SNACKBAR:(e,{text:t,id:r})=>[...e,{text:t,id:r}],HIDE_SNACKBAR:(e,{id:t})=>e.filter(e=>e.id!==t)}),l=Object(n.b)({navigationCount:s,dirtyForms:a,focusId:c,snackbars:u}),p=e=>e.ui.navigationCount,d=e=>e.ui.dirtyForms,h=e=>e.ui.focusId,f=e=>e.ui.snackbars,y=()=>({type:"INCREMENT_NAVIGATION_COUNT"}),m=(e,t)=>({type:"REPORT_DIRTY_FORM",name:e,isDirty:t}),g=()=>({type:"CLEAR_DIRTY_FORMS"}),b=e=>({type:"SET_FOCUS_ID",focusId:e}),S=(e,t,r=1e4)=>n=>{n({type:"SHOW_SNACKBAR",text:t,id:e}),r&&window.setTimeout(()=>n(_(e)),r)},_=e=>({type:"HIDE_SNACKBAR",id:e})},function(e,t){},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));var n=r(8);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function o(e){let t=i.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},i.set(e.type,t));let r=t.stringsArray.get(e.strings);if(void 0!==r)return r;const o=e.strings.join(n.f);return r=t.keyString.get(o),void 0===r&&(r=new n.a(e,e.getTemplateElement()),t.keyString.set(o,r)),t.stringsArray.set(e.strings,r),r}const i=new Map},function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return a}));var n=r(20),o=r(14),i=r(26);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const s=new WeakMap,a=(e,t,r)=>{let a=s.get(t);void 0===a&&(Object(n.b)(t,t.firstChild),s.set(t,a=new o.e(Object.assign({templateFactory:i.b},r))),a.appendInto(t)),a.setValue(e),a.commit()}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const n=new WeakMap,o=e=>(...t)=>{const r=e(...t);return n.set(r,!0),r},i=e=>"function"==typeof e&&n.has(e)},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return c}));var n=r(20),o=r(8);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const i=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),s=` ${o.f} `;class a{constructor(e,t,r,n){this.strings=e,this.values=t,this.type=r,this.processor=n}getHTML(){const e=this.strings.length-1;let t="",r=!1;for(let n=0;n<e;n++){const e=this.strings[n],i=e.lastIndexOf("\x3c!--");r=(i>-1||r)&&-1===e.indexOf("--\x3e",i+1);const a=o.e.exec(e);t+=null===a?e+(r?s:o.g):e.substr(0,a.index)+a[1]+a[2]+o.b+a[3]+o.f}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==i&&(t=i.createHTML(t)),e.innerHTML=t,e}}class c extends a{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,r=t.firstChild;return t.removeChild(r),Object(n.c)(t,r.firstChild),e}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"f",(function(){return o})),r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u}));const n=[{groupName:"Feature Team",fieldNames:["PM","Tech Lead","Tech-Lead","TechLead","TL","Team","UX","TE"],applicableType:"FLT-Launch"},{groupName:"Docs",fieldNames:["PRD","DD","Design Doc","Design-Doc","DesignDoc","Mocks","Test Plan","Test-Plan","TestPlan","Metrics"],applicableType:"FLT-Launch"}],o=(e,t,r)=>e&&e.get(s(t,r))||[];function i(e,t,r){const n=o(e,t,r);return n.length?n[0]:void 0}const s=(e,t)=>{const r=[e];return t&&r.push(t),r.join(" ").toLowerCase()},a=(e,t)=>e.filter(e=>!e.applicableType||t&&e.applicableType.toLowerCase()===t.toLowerCase()),c=(e,t,r)=>{const n=a(t,r);if(!e)return[];const o=[];return n.forEach(t=>{const r=[];t.fieldNames.forEach(t=>{const n=e.find(e=>e.fieldRef.fieldName==t);n&&r.push(n)}),r.length>0&&o.push({groupName:t.groupName,fieldDefs:r})}),o},u=(e,t,r)=>{if(!e)return[];const n=((e,t)=>a(e,t).reduce((e,t)=>t.fieldNames.reduce((e,r)=>(e[r]=t.groupName,e),e),{}))(t,r);return e.filter(e=>!(e.fieldRef.fieldName in n))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(0),o=r(47),i=r(21);r(25);class s extends n.a{static get styles(){return[i.a,n.b`
        :host {
          position: relative;
          display: inline-block;
          height: 100%;
          font-size: inherit;
          font-family: var(--chops-font-family);
          --mr-dropdown-icon-color: var(--chops-primary-icon-color);
          --mr-dropdown-icon-font-size: var(--chops-icon-font-size);
          --mr-dropdown-anchor-font-weight: var(--chops-link-font-weight);
          --mr-dropdown-anchor-padding: 4px 0.25em;
          --mr-dropdown-anchor-justify-content: center;
          --mr-dropdown-menu-max-height: initial;
          --mr-dropdown-menu-overflow: initial;
          --mr-dropdown-menu-min-width: 120%;
          --mr-dropdown-menu-font-size: var(--chops-large-font-size);
          --mr-dropdown-menu-icon-size: var(--chops-icon-font-size);
        }
        :host([hidden]) {
          display: none;
          visibility: hidden;
        }
        :host(:not([opened])) .menu {
          display: none;
          visibility: hidden;
        }
        strong {
          font-size: var(--chops-large-font-size);
        }
        i.material-icons {
          font-size: var(--mr-dropdown-icon-font-size);
          display: inline-block;
          color: var(--mr-dropdown-icon-color);
          padding: 0 2px;
          box-sizing: border-box;
        }
        i.material-icons[hidden],
        .menu-item > i.material-icons[hidden] {
          display: none;
        }
        .menu-item > i.material-icons {
          display: block;
          font-size: var(--mr-dropdown-menu-icon-size);
          width: var(--mr-dropdown-menu-icon-size);
          height: var(--mr-dropdown-menu-icon-size);
          margin-right: 8px;
        }
        .anchor:disabled {
          color: var(--chops-button-disabled-color);
        }
        button.anchor {
          box-sizing: border-box;
          background: none;
          border: none;
          font-size: inherit;
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: var(--mr-dropdown-anchor-justify-content);
          cursor: pointer;
          padding: var(--mr-dropdown-anchor-padding);
          color: var(--chops-link-color);
          font-weight: var(--mr-dropdown-anchor-font-weight);
          font-family: inherit;
        }
        /* menuAlignment options: right, left, side. */
        .menu.right {
          right: 0px;
        }
        .menu.left {
          left: 0px;
        }
        .menu.side {
          left: 100%;
          top: 0;
        }
        .menu {
          font-size: var(--mr-dropdown-menu-font-size);
          position: absolute;
          min-width: var(--mr-dropdown-menu-min-width);
          max-height: var(--mr-dropdown-menu-max-height);
          overflow: var(--mr-dropdown-menu-overflow);
          top: 90%;
          display: block;
          background: var(--chops-white);
          border: var(--chops-accessible-border);
          z-index: 990;
          box-shadow: 2px 3px 8px 0px hsla(0, 0%, 0%, 0.3);
          font-family: inherit;
        }
        .menu-item {
          background: none;
          margin: 0;
          border: 0;
          box-sizing: border-box;
          text-decoration: none;
          white-space: nowrap;
          display: flex;
          align-items: center;
          justify-content: left;
          width: 100%;
          padding: 0.25em 8px;
          transition: 0.2s background ease-in-out;

        }
        .menu-item[hidden] {
          display: none;
        }
        mr-dropdown.menu-item {
          width: 100%;
          padding: 0;
          --mr-dropdown-anchor-padding: 0.25em 8px;
          --mr-dropdown-anchor-justify-content: space-between;
        }
        .menu hr {
          width: 96%;
          margin: 0 2%;
          border: 0;
          height: 1px;
          background: hsl(0, 0%, 80%);
        }
        .menu a {
          cursor: pointer;
          color: var(--chops-link-color);
        }
        .menu a:hover, .menu a:focus {
          background: var(--chops-active-choice-bg);
        }
      `]}render(){return n.c`
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <button class="anchor"
        @click=${this.toggle}
        @keydown=${this._exitMenuOnEsc}
        ?disabled=${this.disabled}
        title=${this.title||this.label}
        aria-label=${this.label}
        aria-expanded=${this.opened}
      >
        ${this.text}
        <i class="material-icons" aria-hidden="true">${this.icon}</i>
      </button>
      <div class="menu ${this.menuAlignment}">
        ${this.items.map((e,t)=>this._renderItem(e,t))}
        <slot></slot>
      </div>
    `}_renderItem(e,t){return e.separator?n.c`
        <strong ?hidden=${!e.text} class="menu-item">
          ${e.text}
        </strong>
        <hr />
      `:e.items&&e.items.length?n.c`
        <mr-dropdown
          .text=${e.text}
          .items=${e.items}
          menuAlignment="side"
          icon="arrow_right"
          data-idx=${t}
          class="menu-item"
        ></mr-dropdown>
      `:n.c`
      <a
        href=${Object(o.a)(e.url)}
        @click=${this._runItemHandler}
        @keydown=${this._onItemKeydown}
        data-idx=${t}
        tabindex="0"
        class="menu-item"
      >
        <i
          class="material-icons"
          ?hidden=${void 0===e.icon}
        >${e.icon}</i>
        ${e.text}
      </a>
    `}constructor(){super(),this.label="",this.text="",this.items=[],this.icon="arrow_drop_down",this.menuAlignment="right",this.opened=!1,this.disabled=!1,this._boundCloseOnOutsideClick=this._closeOnOutsideClick.bind(this)}static get properties(){return{title:{type:String},label:{type:String},text:{type:String},items:{type:Array},icon:{type:String},menuAlignment:{type:String},opened:{type:Boolean,reflect:!0},disabled:{type:Boolean}}}_runItemHandler(e){if(e instanceof MouseEvent||"Enter"===e.code){const t=e.target.dataset.idx;void 0!==t&&this.items[t].handler&&this.items[t].handler(),this.close()}}_onItemKeydown(e){this._runItemHandler(e),this._exitMenuOnEsc(e)}_exitMenuOnEsc(e){if("Escape"===e.key){this.close();this.shadowRoot.querySelector(".anchor").focus()}}connectedCallback(){super.connectedCallback(),window.addEventListener("click",this._boundCloseOnOutsideClick,!0)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("click",this._boundCloseOnOutsideClick,!0)}updated(e){(e.has("label")||e.has("text"))&&(this.label||this.text||console.error("For screenreader support,\n  mr-dropdown must always have either a label or a text property defined."))}toggle(){this.opened=!this.opened}open(){this.opened=!0}close(){this.opened=!1}clickItem(e){this.shadowRoot.querySelectorAll(".menu-item")[e].click()}_closeOnOutsideClick(e){if(!this.opened)return;e.composedPath().find(e=>e===this)||this.close()}}customElements.define("mr-dropdown",s)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(20),o=r(8);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class i{constructor(e,t,r){this.__parts=[],this.template=e,this.processor=t,this.options=r}update(e){let t=0;for(const r of this.__parts)void 0!==r&&r.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=n.a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],r=this.template.parts,i=document.createTreeWalker(e,133,null,!1);let s,a=0,c=0,u=i.nextNode();for(;a<r.length;)if(s=r[a],Object(o.d)(s)){for(;c<s.index;)c++,"TEMPLATE"===u.nodeName&&(t.push(u),i.currentNode=u.content),null===(u=i.nextNode())&&(i.currentNode=t.pop(),u=i.nextNode());if("node"===s.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(u.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(u,s.name,s.strings,this.options));a++}else this.__parts.push(void 0),a++;return n.a&&(document.adoptNode(e),customElements.upgrade(e)),e}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return p}));var n=r(5),o=r(1),i=r(3);r(25);const s="FIELD_DEF_VALUE_EDIT",a=Object(o.b)({},{"permissions/BATCH_GET_SUCCESS":(e,{permissionSets:t})=>{const r={...e};for(const e of t)r[e.resource]=e;return r}}),c=Object(n.b)({batchGet:Object(o.c)("permissions/BATCH_GET_START","permissions/BATCH_GET_SUCCESS","permissions/BATCH_GET_FAILURE")}),u=Object(n.b)({byName:a,requests:c}),l=e=>e.permissions.byName,p=e=>async t=>{t({type:"permissions/BATCH_GET_START"});try{const{permissionSets:r}=await i.a.call("monorail.v3.Permissions","BatchGetPermissionSets",{names:e});for(const e of r)e.permissions||(e.permissions=[]);return t({type:"permissions/BATCH_GET_SUCCESS",permissionSets:r}),r}catch(e){t({type:"permissions/BATCH_GET_FAILURE",error:e})}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return s}));const n=new Intl.DateTimeFormat("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}),o=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"});function i(e){if(!e)return;const t=n.format(e);let r="";return function(e){const t=new Date;return Math.abs(Math.floor(t.getTime()-e.getTime()))<2592e6}(e)&&(r=` (${s(e)})`),`${t}${r}`}function s(e){if(!e)return;let t=(new Date).getTime()-e.getTime();const r=t<0?"from now":"ago";if(t=Math.abs(t),t<6e4)return"just now";if(t<36e5){const e=Math.floor(t/6e4);return 1===e?"a minute "+r:`${e} minutes ${r}`}if(t<864e5){const e=Math.floor(t/36e5);return 1===e?"an hour "+r:`${e} hours ${r}`}if(t<2592e6){const e=Math.floor(t/864e5);return 1===e?"a day "+r:`${e} days ${r}`}return o.format(e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));class n extends Error{get name(){return"UserInputError"}}},function(e,t,r){"use strict";(function(t){var n=t.Symbol,o=r(54);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}}).call(this,r(45))},function(e,t,r){"use strict";var n=r(42),o=r(48),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(64);class n{constructor(e,t){this.token=e,this.tokenExpiresSec=t,this.prpcClient=new window.chops.rpc.PrpcClient({insecure:Boolean("localhost"===location.hostname),fetchImpl:(e,t)=>(t.credentials="same-origin",fetch(e,t))})}async ensureTokenIsValid(){if(n.isTokenExpired(this.tokenExpiresSec)){const e={"X-Xsrf-Token":this.token},t={token:this.token,tokenPath:"xhr"},r=await this.prpcClient.call("monorail.Sitewide","RefreshToken",t,e);this.token=r.token,this.tokenExpiresSec=r.tokenExpiresSec}}call(e,t,r){return this.ensureTokenIsValid().then(()=>{const n={"X-Xsrf-Token":this.token};return this.prpcClient.call(e,t,r,n)})}static isTokenExpired(e){return new Date(1e3*e)<new Date}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u}));const n=new RegExp("projects/([a-z0-9][-a-z0-9]*[a-z0-9])/members/(\\d+)"),o=new RegExp("users/(\\d+)"),i=new RegExp("projects/([a-z0-9][-a-z0-9]*[a-z0-9])");class s extends Error{constructor(e){super(e||"Invalid resource name format")}}function a(e){return e.join(",")}function c(e,t){if(!e||!t)return;return`users/${function(e){const t=e.match(o);if(!t)throw new s;return t[1]}(t)}/projectStars/${function(e){const t=e.match(i);if(!t)throw new s;return t[1]}(e)}`}function u(e){return"projects/"+function(e){const t=e.match(n);if(!t)throw new s;return t[1]}(e)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return s}));var n=r(23);const o=/^b\/\d+$/;function i(e){for(const t in c)if(c.hasOwnProperty(t)){const r=c[t];try{return new r(e)}catch(e){if(e instanceof a)continue;throw e}}return null}class s extends class{constructor(e){if(!this.isShortlinkValid(e))throw new a("Invalid tracker shortlink: "+e);this.shortlink=e}isShortlinkValid(e){if("string"!=typeof e)throw new a("shortlink argument must be a string.");return Boolean(e.match(this.shortlinkRe()))}shortlinkRe(){throw new Error("Not implemented.")}toURL(){throw new Error("Not implemented.")}toIssueRef(){return{extIdentifier:this.shortlink}}get trackerName(){throw new Error("Not implemented.")}async isOpen(){throw new Error("Not implemented.")}}{constructor(e){super(e),this.issueID=Number(e.substr(2)),this._federatedDetails=null}shortlinkRe(){return o}toURL(){return"https://issuetracker.google.com/issues/"+this.issueID}get trackerName(){return"Buganizer"}async getFederatedDetails(){if(this._federatedDetails)return this._federatedDetails;await Object(n.a)();if(!await Object(n.b)())return!0;const e=await this._loadGoogleIssueTrackerIssue(this.issueID);return e&&e.result?(this._federatedDetails=e.result,this._federatedDetails):null}get isOpen(){return!this._federatedDetails||!Boolean(this._federatedDetails.resolvedTime)}get summary(){return this._federatedDetails&&this._federatedDetails.issueState&&this._federatedDetails.issueState.title?this._federatedDetails.issueState.title:null}toIssueRef(){return{extIdentifier:this.shortlink,summary:this.summary,statusRef:{meansOpen:this.isOpen}}}get _APIURL(){return"https://issuetracker.corp.googleapis.com/$discovery/rest"}_loadGoogleIssueTrackerIssue(e){return new Promise((t,r)=>{gapi.client.load(this._APIURL,"v3",()=>{gapi.client.corp_issuetracker.issues.get({issueId:e}).execute(e=>{t(e)})})})}}class a extends Error{}const c=[s]},function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return g}));const n=Object.freeze({NON_CUMULATIVE_INT:0,CUMULATIVE_INT:1,NON_CUMULATIVE_FLOAT:2,CUMULATIVE_FLOAT:3,STRING:4,BOOL:5,NON_CUMULATIVE_DISTRIBUTION:6,CUMULATIVE_DISTRIBUTION:7}),o=Object.freeze({STRING:1,INT:2,BOOL:3});class i{constructor(e="/_/jstsmon",t=null){this._reportPath=e,this._xsrfToken=t,this._metrics=new Map,this._metricValues=new Map,this._flushIntervalMs=6e4,this._flushTimer=setTimeout(()=>{this._onFlush()},this._flushIntervalMs),this._initTimeSeconds=Math.floor((new Date).getTime()/1e3),this._continueSendingMetrics=!0}_onFlush(){this.flush(),this._continueSendingMetrics?this._flushTimer=setTimeout(()=>{this._onFlush()},this._flushIntervalMs):this._flushTimer=null}disableAfterNextFlush(){this._continueSendingMetrics=!1}now(){return(new Date).getTime()}flush(){const e=this._metricValues;this._metricValues=new Map;const t=new Map;for(const[r,n]of e){let e=JSON.parse(r);if(e.fields){const t={};e.fields.forEach(e=>{t[e[0]]=e[1]}),e.fields=t}e=Object.assign(e,n),t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}const r=[];for(const[e,n]of t){const t=this._metrics.get(e),o=n.map(e=>{let t=e.value;return t instanceof p&&(t={sum:t.sum,count:t.count,buckets:[...t.buckets.entries()]}),{value:t,fields:e.fields,start_time:this._initTimeSeconds}}),i={};for(let[e,r]of t.info.Fields)i[e]=r;let s={MetricInfo:{Name:t.info.Name,Desription:t.info.Description,Fields:i,ValueType:t.info.ValueType},MetricMetadata:t.metadata,Cells:o};r.push(s)}0!==r.length&&this.fetchImpl(r).then(e=>e.text()).then(e=>{"Ok."!==e&&window.console.error("Non-ok response body:",e)}).catch(e=>{window.console.error("Failed to report ts_mon metrics.",e)})}fetchImpl(e){return fetch(this._reportPath,{method:"POST",credentials:"same-origin",body:JSON.stringify({metrics:e,token:this._xsrfToken})})}_metricKey(e,t){const r=[];if(t){for(const[e,n]of t)r.push([e,n]);r.sort((e,t)=>e[0]<t[0]?-1:1)}return JSON.stringify({name:e,fields:r})}_measure(e,t,r,n){const o=e.info.Fields?e.info.Fields.size:0,i=r?r.size:0;if(o!=i)throw`field count ${e.name}: ${o} != ${i}`;let s=this._metricKey(e.name,r);this._metricValues.has(s)||this._metricValues.set(s,{value:e.defaultValue()});let a=this._metricValues.get(s);n?a.value instanceof p?a.value.add(t):a.value+=t:a.value instanceof p?a.value.set(t):a.value=t,this._metricValues.set(s,a)}add(e,t,r){this._measure(e,t,r,!0)}set(e,t,r){this._measure(e,t,r,!1)}_register(e,t){if(this._metrics.has(e))throw e+" is already registered as a metric";this._metrics.set(e,t)}bool(e,t,r,o){const i=new c(this,n.BOOL,e,t,r,o);return this._register(e,i),i}counter(e,t,r,o){const i=new a(this,n.CUMULATIVE_INT,e,t,r,o);return this._register(e,i),i}cumulativeDistribution(e,t,r,o,i){const s=new u(this,n.CUMULATIVE_DISTRIBUTION,e,t,r,o,i);return this._register(e,s),s}nonCumulativeDistribution(e,t,r,o,i){const s=new l(this,n.NON_CUMULATIVE_DISTRIBUTION,e,t,r,o,i);return this._register(e,s),s}float(e,t,r,o){const i=new c(this,n.NON_CUMULATIVE_FLOAT,e,t,r,o);return this._register(e,i),i}int(e,t,r,o){const i=new c(this,n.NON_CUMULATIVE_INT,e,t,r,o);return this._register(e,i),i}string(e,t,r,o){const i=new c(this,n.STRING,e,t,r,o);return this._register(e,i),i}static stringField(e){return{Name:e,Type:o.STRING}}static intField(e){return{Name:e,Type:o.INT}}static boolField(e){return{Name:e,Type:o.BOOL}}static unitMetadata(e){return{Units:e}}static fixedWidthBucketer(e,t){return new d(e,0,null==t?100:t)}static geometricBucketer(e,t,r){return new d(0,null==e?Math.pow(10,.2):e,null==t?100:t,null==r?1:r)}}class s{constructor(e,t,r,n,o,i){this.tsMon=e,this.name=r,this.info={Name:r,Description:n,Fields:i,ValueType:t},this.metadata=o}defaultValue(){return 0}}class a extends s{add(e,t){this.tsMon.add(this,e,t)}}class c extends s{set(e,t){this.tsMon.set(this,e,t)}}class u extends a{constructor(e,t,r,n,o,s,a){super(e,t,r,n,o,s),this.bucketer=a||i.geometricBucketer()}defaultValue(){return new p(this.bucketer)}}class l extends c{constructor(e,t,r,n,o,s,a){super(e,t,r,n,o,s),this.bucketer=a||i.geometricBucketer()}defaultValue(){return new p(this.bucketer)}}class p{constructor(e){this.bucketer=e,this.sum=0,this.count=0,this.buckets=new Map}add(e){const t=this.bucketer.bucketForValue(e),r=this.buckets.get(t)||0;this.buckets.set(t,r+1),this.sum+=e,this.count++}}class d{constructor(e,t,r,n){if(this.width=e,r<0)throw new Error("Invalid numFiniteBuckets: "+r);if(0!=e&&0!=t)throw new Error("Bucketer must be created with either a width or a growth factor, not both.");if(e<0)throw new Error("Bucketer width must be > 0: "+e);if(this.width=e,this.growthFactor=t,this.numFiniteBuckets=r,this.totalBuckets=r+2,this.underflowBucket=0,this.overflowBucket=this.totalBuckets-1,this.scale=n||1,0!=this.width?this._lowerBounds=[-1/0,...this._linearBounds()]:this._lowerBounds=[-1/0,...this._exponentialBounds()],this._lowerBounds.length!=this.totalBuckets)throw new Error("lowerBounds.length != totalBuckets");this._lowerBounds.forEach((e,t)=>{if(t==this._lowerBounds.length-2)return;const r=this._lowerBounds[t+1];if(r<=e)throw new Error(`bucket boundaries must be monotonically increasing: ${e}, ${r}`)})}_linearBounds(){let e=[];for(let t=0;t<this.numFiniteBuckets+1;t++)e[t]=this.width*t;return e}_exponentialBounds(){let e=[];for(let t=0;t<this.numFiniteBuckets+1;t++)e[t]=this.scale*Math.pow(this.growthFactor,t);return e}_bisect(e,t){for(var r=0;r<e.length;r++)if(e[r]>t)return r;return e.length}bucketForValue(e){return this._bisect(this._lowerBounds,e)-1}bucketBoundaries(e){if(e<0||e>=this.totalBuckets)throw new Error(`bucket ${e} out of range`);return e==this.totalBuckets-1?[this._lowerBounds[e],1/0]:[this._lowerBounds[e],this._lowerBounds[e+1]]}}var h=r(38);new i;const f=Object.freeze({ISSUE_DETAIL_SPA:"issue_detail_spa",ISSUE_ENTRY:"issue_entry",ISSUE_LIST_SPA:"issue_list_spa"});class y extends i{constructor(){super("/_/jstsmon.do"),this.clientId=y.generateClientId(),this.disableAfterNextFlush(),this.prpcClient=new h.a(window.CS_env.token,window.CS_env.tokenExpiresSec);const e=new Map([["client_id",i.stringField("client_id")],["host_name",i.stringField("host_name")],["document_visible",i.boolField("document_visible")]]);this._userTimingMetrics=[{category:"issues",eventName:"new-issue",eventLabel:"server-time",metric:this.cumulativeDistribution("monorail/frontend/issue_create_latency","Latency between issue entry form submit and issue detail page load.",null,e)},{category:"issues",eventName:"issue-update",eventLabel:"computer-time",metric:this.cumulativeDistribution("monorail/frontend/issue_update_latency","Latency between issue update form submit and issue detail page load.",null,e)},{category:"autocomplete",eventName:"populate-options",eventLabel:"user-time",metric:this.cumulativeDistribution("monorail/frontend/autocomplete_populate_latency","Latency between page load and autocomplete options loading.",null,e)}],this.dateRangeMetric=this.counter("monorail/frontend/charts/switch_date_range","Number of times user changes date range.",null,new Map([["client_id",i.stringField("client_id")],["host_name",i.stringField("host_name")],["document_visible",i.boolField("document_visible")],["date_range",i.intField("date_range")]])),this.issueCommentsLoadMetric=this.cumulativeDistribution("monorail/frontend/issue_comments_load_latency","Time from navigation or click to issue comments loaded.",null,new Map([["client_id",i.stringField("client_id")],["host_name",i.stringField("host_name")],["template_name",i.stringField("template_name")],["document_visible",i.boolField("document_visible")],["full_app_load",i.boolField("full_app_load")]])),this.issueListLoadMetric=this.cumulativeDistribution("monorail/frontend/issue_list_load_latency","Time from navigation or click to search issues list loaded.",null,new Map([["client_id",i.stringField("client_id")],["host_name",i.stringField("host_name")],["template_name",i.stringField("template_name")],["document_visible",i.boolField("document_visible")],["full_app_load",i.boolField("full_app_load")]])),this.pageLoadMetric=this.cumulativeDistribution("frontend/dom_content_loaded","domContentLoaded performance timing.",null,new Map([["client_id",i.stringField("client_id")],["host_name",i.stringField("host_name")],["template_name",i.stringField("template_name")],["document_visible",i.boolField("document_visible")]]))}fetchImpl(e){return this.prpcClient.ensureTokenIsValid().then(()=>fetch(this._reportPath,{method:"POST",credentials:"same-origin",body:JSON.stringify({metrics:e,token:this.prpcClient.token})}))}recordUserTiming(e,t,r,n){const o=new Map([["client_id",this.clientId],["host_name",window.CS_env.app_version],["document_visible",y.isPageVisible()]]);for(const i of this._userTimingMetrics)e===i.category&&t===i.eventName&&r===i.eventLabel&&i.metric.add(n,o)}recordDateRangeChange(e){const t=new Map([["client_id",this.clientId],["host_name",window.CS_env.app_version],["document_visible",y.isPageVisible()],["date_range",e]]);this.dateRangeMetric.add(1,t)}recordPageLoadTiming(e,t=null){if(!e)return;const r=window.performance.timing,n=r.domContentLoadedEventEnd-r.navigationStart;if(new Set([f.ISSUE_DETAIL_SPA,f.ISSUE_ENTRY]).has(e)){if(null!==t&&n>t)return;const r=new Map([["client_id",this.clientId],["host_name",window.CS_env.app_version],["template_name",e],["document_visible",y.isPageVisible()]]);this.pageLoadMetric.add(n,r)}}recordIssueCommentsLoadTiming(e,t){const r=new Map([["client_id",this.clientId],["host_name",window.CS_env.app_version],["template_name",f.ISSUE_DETAIL_SPA],["document_visible",y.isPageVisible()],["full_app_load",t]]);this.issueCommentsLoadMetric.add(e,r)}recordIssueEntryTiming(e=6e4){this.recordPageLoadTiming(f.ISSUE_ENTRY,e)}recordIssueDetailSpaTiming(e=6e4){this.recordPageLoadTiming(f.ISSUE_DETAIL_SPA,e)}recordIssueListLoadTiming(e,t){const r=new Map([["client_id",this.clientId],["host_name",window.CS_env.app_version],["template_name",f.ISSUE_LIST_SPA],["document_visible",y.isPageVisible()],["full_app_load",t]]);this.issueListLoadMetric.add(e,r)}static getGlobalClient(){const e="__tsMonClient";return window.hasOwnProperty(e)||(window[e]=new y),window[e]}static generateClientId(){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0].toString(32)}static isPageVisible(e){return"visible"===document.visibilityState}}window.getTSMonClient=y.getGlobalClient;class m{constructor(e){this.category=e,this.tsMon=y.getGlobalClient();const t=sessionStorage[`ClientLogger.${e}.started`];this.startedEvents=t?JSON.parse(t):{}}started(e){return this.startedEvents[e]}logStart(e,t){const r=this.startedEvents[e]||{time:(new Date).getTime()};t&&(r.labels||(r.labels={}),r.labels[t]=(new Date).getTime()),this.startedEvents[e]=r,sessionStorage[`ClientLogger.${this.category}.started`]=JSON.stringify(this.startedEvents),g(this.category,e+"-start",t)}logPause(e,t){if(!t)throw"logPause called for event with no label: "+e;const r=this.startedEvents[e];if(!r)return void console.warn("logPause called for event with no logStart: "+e);if(!r.labels[t])return void console.warn(`logPause called for event label with no logStart: ${e}.${t}`);const n=(new Date).getTime()-r.labels[t];r.elapsed||(r.elapsed={},r.elapsed[t]=0),r.elapsed[t]+=n,sessionStorage[`ClientLogger.${this.category}.started`]=JSON.stringify(this.startedEvents)}logResume(e,t){if(!t)throw"logResume called for event with no label: "+e;const r=this.startedEvents[e];r?r.hasOwnProperty("elapsed")&&r.elapsed.hasOwnProperty(t)?(r.labels[t]=(new Date).getTime(),sessionStorage[`ClientLogger.${this.category}.started`]=JSON.stringify(this.startedEvents)):console.warn(`logResume called for event that was never paused:${e}.${t}`):console.warn("logResume called for event with no logStart: "+e)}logEnd(e,t,r=null){const n=this.startedEvents[e];if(n){if(t){if(!n.labels.hasOwnProperty(t))return void console.warn(`logEnd called for event + label with no logStart: ${e}/${t}`);this._sendTiming(n,e,t,r),delete n.labels[t],n.hasOwnProperty("elapsed")&&delete n.elapsed[t]}else{this._sendTiming(n,e,null,r);for(const t in n.labels)this._sendTiming(n,e,t,r);delete this.startedEvents[e]}sessionStorage[`ClientLogger.${this.category}.started`]=JSON.stringify(this.startedEvents),g(this.category,e+"-end",t)}else console.warn("logEnd called for event with no logStart: "+e)}_sendTiming(e,t,r,n=null){let o;if(r?(o=(new Date).getTime()-e.labels[r],e.elapsed&&e.elapsed[r]&&(o+=e.elapsed[r])):o=(new Date).getTime()-e.time,null!==n&&o>n)return;const i={timingCategory:this.category,timingVar:t,timingValue:o};r&&(i.timingLabel=r),ga("send","timing",i),this.tsMon.recordUserTiming(this.category,t,r,o)}}function g(e,t,r,n){ga("send","event",e,t,r,n)}window.ClientLogger=m},function(e,t,r){"use strict";var n=SyntaxError,o=Function,i=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(e){a=null}var c=function(){throw new i},u=a?function(){try{return c}catch(e){try{return a(arguments,"callee").get}catch(e){return c}}}():c,l=r(36)(),p=Object.getPrototypeOf||function(e){return e.__proto__},d={},h="undefined"==typeof Uint8Array?void 0:p(Uint8Array),f={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?p(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":u,"%TypedArray%":h,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=r(43),g=r(55),b=m.call(Function.call,Array.prototype.concat),S=m.call(Function.apply,Array.prototype.splice),_=m.call(Function.call,String.prototype.replace),E=m.call(Function.call,String.prototype.slice),v=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,w=/\\(\\)?/g,T=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var o=[];return _(e,v,(function(e,t,r,n){o[o.length]=r?_(n,w,"$1"):t||e})),o},C=function(e,t){var r,o=e;if(g(y,o)&&(o="%"+(r=y[o])[0]+"%"),g(f,o)){var a=f[o];if(a===d&&(a=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=p(o.prototype))}return f[t]=r,r}(o)),void 0===a&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:a}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var r=T(e),o=r.length>0?r[0]:"",s=C("%"+o+"%",t),c=s.name,u=s.value,l=!1,p=s.alias;p&&(o=p[0],S(r,b([0,1],p)));for(var d=1,h=!0;d<r.length;d+=1){var y=r[d],m=E(y,0,1),_=E(y,-1);if(('"'===m||"'"===m||"`"===m||'"'===_||"'"===_||"`"===_)&&m!==_)throw new n("property names with quotes must have matching quotes");if("constructor"!==y&&h||(l=!0),g(f,c="%"+(o+="."+y)+"%"))u=f[c];else if(null!=u){if(!(y in u)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(a&&d+1>=r.length){var v=a(u,y);u=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[y]}else h=g(u,y),u=u[y];h&&!l&&(f[c]=u)}}return u}},function(e,t,r){"use strict";var n=r(71);e.exports=Function.prototype.bind||n},function(e,t,r){"use strict";var n=r(65),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=a&&function(){var e={};try{for(var t in a(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),u=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(c?a(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=s.call(i,Object.getOwnPropertySymbols(t)));for(var a=0;a<i.length;a+=1)u(e,i[a],t[i[a]],r[i[a]])};l.supportsDescriptors=!!c,e.exports=l},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var n=r(5),o=r(2),i=r(1),s=r(3),a=r(4),c=r(39),u=r(10),l=r(33),p=r(13),d=r(24),h=r(22);r(25);const f=["Rank","ID","Status","Owner","Summary","Modified"],y=Object(i.b)(null,{"hotlist/SELECT":(e,{name:t})=>t}),m=Object(i.b)({},{"hotlist/RECEIVE_HOTLIST":(e,{hotlist:t})=>(t.defaultColumns||(t.defaultColumns=[]),t.editors||(t.editors=[]),{...e,[t.name]:t})}),g=Object(i.b)({},{"hotlist/FETCH_ITEMS_SUCCESS":(e,{name:t,items:r})=>({...e,[t]:r})}),b=Object(n.b)({deleteHotlist:Object(i.c)("hotlist/DELETE_START","hotlist/DELETE_SUCCESS","hotlist/DELETE_FAILURE"),fetch:Object(i.c)("hotlist/FETCH_START","hotlist/FETCH_SUCCESS","hotlist/FETCH_FAILURE"),fetchItems:Object(i.c)("hotlist/FETCH_ITEMS_START","hotlist/FETCH_ITEMS_SUCCESS","hotlist/FETCH_ITEMS_FAILURE"),removeEditors:Object(i.c)("hotlist/REMOVE_EDITORS_START","hotlist/REMOVE_EDITORS_SUCCESS","hotlist/REMOVE_EDITORS_FAILURE"),removeItems:Object(i.c)("hotlist/REMOVE_ITEMS_START","hotlist/REMOVE_ITEMS_SUCCESS","hotlist/REMOVE_ITEMS_FAILURE"),rerankItems:Object(i.c)("hotlist/RERANK_ITEMS_START","hotlist/RERANK_ITEMS_SUCCESS","hotlist/RERANK_ITEMS_FAILURE"),update:Object(i.c)("hotlist/UPDATE_START","hotlist/UPDATE_SUCCESS","hotlist/UPDATE_FAILURE")}),S=Object(n.b)({name:y,byName:m,hotlistItems:g,requests:b}),_=e=>e.hotlists.name,E=e=>e.hotlists.byName,v=e=>e.hotlists.hotlistItems,w=Object(o.a)([E,_],(e,t)=>t&&e[t]||null),T=Object(o.a)([w,h.b],(e,t)=>e&&t[e.owner]||null),C=Object(o.a)([w,h.b],(e,t)=>e?e.editors.map(e=>t[e]||null):null),R=Object(o.a)([v,_],(e,t)=>t&&e[t]||[]),O=Object(o.a)([R,u.s,h.b],(e,t,r)=>e.filter(e=>t(e.issue)).map(e=>({...t(e.issue),...e,adder:r[e.adder]}))),A=Object(o.a)([w,p.d],(e,t)=>t||(e&&e.defaultColumns.length?e.defaultColumns.map(e=>e.column):f)),I=Object(o.a)([w,l.c],(e,t)=>{if(!e)return[];const r=t[e.name];return r?r.permissions:[]}),j=e=>async t=>{t({type:"hotlist/FETCH_START"});try{const r=await s.a.call("monorail.v3.Hotlists","GetHotlist",{name:e});t({type:"hotlist/FETCH_SUCCESS"}),t({type:"hotlist/RECEIVE_HOTLIST",hotlist:r});const n=r.editors.map(e=>e);n.push(r.owner),await t(h.a(n))}catch(e){t({type:"hotlist/FETCH_FAILURE",error:e})}},x=e=>async t=>{t({type:"hotlist/FETCH_ITEMS_START"});try{const r={parent:e,orderBy:"rank"},{items:n}=await s.a.call("monorail.v3.Hotlists","ListHotlistItems",r);n||t({type:"hotlist/FETCH_ITEMS_SUCCESS",name:e,items:[]});const o=n.map(e=>e.rank?e:{...e,rank:0}),i=n.map(e=>Object(a.h)(e.issue));await t(u.l(i));const c=[...new Set(n.map(e=>e.adder))];return await t(h.a(c)),t({type:"hotlist/FETCH_ITEMS_SUCCESS",name:e,items:o}),o}catch(e){t({type:"hotlist/FETCH_ITEMS_FAILURE",error:e})}},P={EDIT:"HOTLIST_EDIT",ADMINISTER:"HOTLIST_ADMINISTER",reducer:S,name:_,byName:E,hotlistItems:v,viewedHotlist:w,viewedHotlistOwner:T,viewedHotlistEditors:C,viewedHotlistItems:R,viewedHotlistIssues:O,viewedHotlistColumns:A,viewedHotlistPermissions:I,requests:e=>e.hotlists.requests,deleteHotlist:e=>async t=>{t({type:"hotlist/DELETE_START"});try{const r={name:e};await s.a.call("monorail.v3.Hotlists","DeleteHotlist",r),t({type:"hotlist/DELETE_SUCCESS"})}catch(e){t({type:"hotlist/DELETE_FAILURE",error:e})}},fetch:j,fetchItems:x,removeEditors:(e,t)=>async r=>{r({type:"hotlist/REMOVE_EDITORS_START"});try{const n={name:e,editors:t};await s.a.call("monorail.v3.Hotlists","RemoveHotlistEditors",n),r({type:"hotlist/REMOVE_EDITORS_SUCCESS"}),await r(j(e))}catch(e){r({type:"hotlist/REMOVE_EDITORS_FAILURE",error:e})}},removeItems:(e,t)=>async r=>{r({type:"hotlist/REMOVE_ITEMS_START"});try{const n={parent:e,issues:t};await s.a.call("monorail.v3.Hotlists","RemoveHotlistItems",n),r({type:"hotlist/REMOVE_ITEMS_SUCCESS"}),await r(x(e))}catch(e){r({type:"hotlist/REMOVE_ITEMS_FAILURE",error:e})}},rerankItems:(e,t,r)=>async n=>{n({type:"hotlist/RERANK_ITEMS_START"});try{const o={name:e,hotlistItems:t,targetPosition:r};await s.a.call("monorail.v3.Hotlists","RerankHotlistItems",o),n({type:"hotlist/RERANK_ITEMS_SUCCESS"}),await n(x(e))}catch(e){n({type:"hotlist/RERANK_ITEMS_FAILURE",error:e})}},select:e=>({type:"hotlist/SELECT",name:e}),update:(e,t)=>async r=>{r({type:"hotlist/UPDATE_START"});try{const n=Object(c.a)(Object.keys(t)),o={hotlist:{...t,name:e},updateMask:n},i=await s.a.call("monorail.v3.Hotlists","UpdateHotlist",o);r({type:"hotlist/UPDATE_SUCCESS"}),r({type:"hotlist/RECEIVE_HOTLIST",hotlist:i});const a=i.editors.map(e=>e);a.push(i.owner),await r(h.a(a))}catch(e){throw r({type:"hotlist/UPDATE_FAILURE",error:e}),r(d.j("hotlist/UPDATE_FAILURE",e.description)),e}},getHotlistName:async(e,t)=>{const r={owner:Object(a.y)(e),name:t};try{const{hotlistId:e}=await s.a.call("monorail.Features","GetHotlistID",{hotlistRef:r});return"hotlists/"+e}catch(e){return null}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(19);
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const o=new WeakMap,i=Object(n.e)(e=>t=>{const r=o.get(t);if(void 0===e&&t instanceof n.a){if(void 0!==r||!o.has(t)){const e=t.committer.name;t.committer.element.removeAttribute(e)}}else e!==r&&t.setValue(e);o.set(t,e)})},function(e,t,r){"use strict";var n=r(43),o=r(42),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||n.call(s,i),c=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=a(n,s,arguments);if(c&&u){var r=c(t,"length");r.configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var p=function(){return a(n,i,arguments)};u?u(e.exports,"apply",{value:p}):e.exports.apply=p},function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g,i="RFC1738",s="RFC3986";e.exports={default:s,formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return String(e)}},RFC1738:i,RFC3986:s}},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"a",(function(){return u}));const n=new Set(["NA","Approved","NotApproved"]),o={"":"NotSet",NEEDS_REVIEW:"NeedsReview",NA:"NA",REVIEW_REQUESTED:"ReviewRequested",REVIEW_STARTED:"ReviewStarted",NEED_INFO:"NeedInfo",APPROVED:"Approved",NOT_APPROVED:"NotApproved"},i={NotSet:"NOT_SET",NeedsReview:"NEEDS_REVIEW",NA:"NA",ReviewRequested:"REVIEW_REQUESTED",ReviewStarted:"REVIEW_STARTED",NeedInfo:"NEED_INFO",Approved:"APPROVED",NotApproved:"NOT_APPROVED"},s={NotSet:"status-notset",NeedsReview:"status-notset",NA:"status-na",ReviewRequested:"status-pending",ReviewStarted:"status-pending",NeedInfo:"status-pending",Approved:"status-approved",NotApproved:"status-rejected"},a={NotSet:"",NeedsReview:"Review/survey not started",NA:"Approval gate not required",ReviewRequested:"Approval requested",ReviewStarted:"Approval in progress",NeedInfo:"Approval review needs more information",Approved:"Approved for Launch",NotApproved:"Not Approved for Launch"},c={"status-na":"remove","status-notset":"warning","status-pending":"autorenew","status-approved":"done","status-rejected":"close"},u=Object.keys(s).map(e=>({status:e,docstring:a[e],rank:1}))},function(e,t,r){"use strict";(function(e,n){var o,i=r(60);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var s=Object(i.a)(o);t.a=s}).call(this,r(45),r(75)(e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(3);const o=/((\b(issue|bug)[ \t]*(:|=)?[ \t]*|\bfixed[ \t]*:[ \t]*)?((\b[-a-z0-9]+)[:\#])?(\#?)(\d+))/gi,i=/^(\r\n?|\n)$/,s=/(<b>[^<\n]+<\/b>)|(\r\n?|\n)/,a=[[null,":"],[null,"."],[null,","],[null,">"],["(",")"],["[","]"],["{","}"],["'","'"],['"','"']],c=/^(b|t|o|omg|cl|cr|go|g|shortn|who|teams|fxr|fxrev|fxb|tqr)\/.*/gi,u=new Map;function l(e,t){return new Promise((r,o)=>{e=e.filter(({projectName:e,localId:t})=>e&&parseInt(t));return n.a.call("monorail.Issues","ListReferencedIssues",{issueRefs:e}).then(e=>{r({componentName:t,existingRefs:e})})})}function p(e,t,r,n,o){if(n.openRefs&&n.openRefs.length){const i=n.openRefs.find(e=>e.localId&&e.projectName&&e.localId==r&&e.projectName.toLowerCase()===t.toLowerCase());if(i)return h(t,r,i.summary,!1,e,o)}if(n.closedRefs&&n.closedRefs.length){const i=n.closedRefs.find(e=>e.localId&&e.projectName&&e.localId==r&&e.projectName.toLowerCase()===t.toLowerCase());if(i)return h(t,r,i.summary,!0,e,o)}return{content:e}}function d(e,t,r){const n=[];let o=e[0],i="";e[1]&&(n.push({content:e[1]}),o=o.slice(e[1].length)),a.forEach(([e,t])=>{o.endsWith(t)&&(e&&o.slice(0,-t.length).includes(e)||(i=t+i,o=o.slice(0,-t.length)))});let s=o;const u=s.toLowerCase();return u.startsWith("http")||u.startsWith("ftp")||u.startsWith("mailto")||(s=c.test(u)?"http://"+s:"https://"+s,c.lastIndex=0),n.push({content:o,tag:"a",href:s}),i.length&&n.push({content:i}),n}function h(e,t,r,n,o,i){return{tag:"a",css:n?"strike-through":"",href:`/p/${e}/issues/detail?id=${t}${i}`,title:r||"",content:o}}u.set("00-commentbug",{lookup:null,extractRefs:null,refRegs:[/(((\b(issue|bug)[ \t]*(:|=)?[ \t]*)(\#?)(\d+)[ \t*])?((\b((comment)[ \t]*(:|=)?[ \t]*(\#?))|(\B((\#))(c)))(\d+)))/gi],replacer:function(e){let t;const r=e[7],n=e[18];t=r&&n?{content:e[0],tag:"a",href:`?id=${r}#c${n}`}:n?{content:e[0],tag:"a",href:"#c"+n}:{content:e[0]};return[t]}}),u.set("01-tracker-crbug",{lookup:l,extractRefs:function(e,t){const r=e[4]||"chromium",n=e[6];return[{projectName:r,localId:n}]},refRegs:[/(\b(https?:\/\/)?crbug\.com\/)((\b[-a-z0-9]+)(\/))?(\d+)\b(\#c[0-9]+)?/gi],replacer:function(e,t,r){t=t||{};const n=e[4]||"chromium",o=e[6];let i="";void 0!==e[7]&&(i=e[7]);return[p(e[0],n,o,t,i)]}}),u.set("02-full-urls",{lookup:null,extractRefs:(e,t)=>[e[0]],refRegs:[/()\b(https?:\/\/|ftp:\/\/|mailto:)([^\s<]+)/gi],replacer:d}),u.set("03-user-emails",{lookup:function(e,t){return new Promise((r,o)=>{const i=e.map(e=>({displayName:e}));return n.a.call("monorail.Users","ListReferencedUsers",{userRefs:i}).then(e=>{r({componentName:t,existingRefs:e})})})},extractRefs:(e,t)=>[e[0]],refRegs:[/\b[a-z]((-|\.)?[a-z0-9])+@[a-z]((-|\.)?[a-z0-9])+\.(com|net|org|edu|dev)\b/gi],replacer:function(e,t,r){t=t||{};const n={content:e[0],tag:"a"};if(t.users&&t.users.length){if(t.users.find(t=>t.displayName.toLowerCase()===e[0].toLowerCase()))return n.href="/u/"+e[0],[n]}return n.href="mailto:"+e[0],[n]}}),u.set("04-tracker-regular",{lookup:l,extractRefs:function(e,t){const r=o;let n;const i=[];for(;null!==(n=r.exec(e[0]));)n[6]&&(t=n[6]),i.push({projectName:t,localId:n[8]});return i},refRegs:[/(\b(issues?|bugs?)[ \t]*(:|=|\b)|\bfixed[ \t]*:)([ \t]*((\b[-a-z0-9]+)[:\#])?(\#?)(\d+)\b(,?[ \t]*(and|or)?)?)+/gi],replacer:function(e,t,r){t=t||{};const n=o,i=[];let s,a=0;for(;null!==(s=n.exec(e[0]));)s.index>a&&i.push({content:e[0].slice(a,s.index)}),s[6]&&(r=s[6]),i.push(p(s[0],r,s[8],t,"")),a=s.index+s[0].length;""!==e[0].slice(a)&&i.push({content:e[0].slice(a)});return i}}),u.set("05-linkify-shorthand",{lookup:null,extractRefs:(e,t)=>[e[0]],refRegs:[/(^|[^-\/._])\b(https?:\/\/|ftp:\/\/|mailto:)?(go|g|shortn|who|teams)\/([^\s<]+)/gi,/(^|[^-\/._])\b(https?:\/\/|ftp:\/\/)?(b|t|o|omg|cl|cr|fxr|fxrev|fxb|tqr)\/([0-9]+)/gi,/(^|[^-\/._])\b[a-z]((-|\.)?[a-z0-9])+\.(com|net|org|edu|dev)\b(\/[^\s<]*)?/gi],replacer:d}),u.set("06-versioncontrol",{lookup:null,extractRefs:(e,t)=>[e[0]],refRegs:[/\b(r(evision\s+#?)?)?([a-f0-9]{40})\b/gi,/\b(r(evision\s+#?)?)([0-9]{4,7})\b/gi],replacer:function(e,t,r,n){const o=e[0],i=n.replace("{revnum}",e[3]);return[{content:o,tag:"a",href:i}]}});const f={Components:u,getReferencedArtifacts:function(e,t){return new Promise((r,n)=>{const o=[];u.forEach(({lookup:r,extractRefs:n,refRegs:i},s)=>{if(null!==r){const a=[];i.forEach(r=>{let o;e.forEach(e=>{for(;null!==(o=r.exec(e.content));)a.push(...n(o,t))})}),a.length&&o.push(r(a,s))}}),r(Promise.all(o))})},markupAutolinks:function(e,t,r,n){const o=(e=e||"").trim().split(s),a=[];return o.filter(Boolean).forEach(e=>{e.match(i)?a.push({tag:"br"}):e.startsWith("<b>")&&e.endsWith("</b>")?a.push({content:e.slice(3,-4),tag:"b"}):a.push(...function(e,t,r,n){let o=[{content:e}];return u.forEach(({refRegs:e,replacer:i},s)=>{e.forEach(e=>{o=function(e,t,r,n,o,i){const s=[];return e.forEach(e=>{if(e.tag)s.push(e);else{const a=e.content;let c,u=0;for(;null!==(c=r.exec(a));)c.index>u&&s.push({content:a.slice(u,c.index)}),s.push(...t(c,n,o,i)),u=c.index+c[0].length;""!==a.slice(u)&&s.push({content:a.slice(u)})}}),s}(o,i,e,t.get(s),r,n)})}),o}(e,t,r,n))}),a}}},function(t,r,n){"use strict";var o=n(0);class i extends o.a{static get styles(){return o.b`
      :host {
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0,0,0,0.4);
        display: flex;
        align-items: center;
        justify-content: center;
      }
      :host(:not([opened])), [hidden] {
        display: none;
        visibility: hidden;
      }
      :host([closeOnOutsideClick]),
      :host([closeOnOutsideClick]) .dialog::backdrop {
        /* TODO(zhangtiff): Deprecate custom backdrop in favor of native
        * browser backdrop.
        */
        cursor: pointer;
      }
      .dialog {
        background: none;
        border: 0;
        max-width: 90%;
      }
      .dialog-content {
        /* This extra div is here because otherwise the browser can't
        * differentiate between a click event that hits the dialog element or
        * its backdrop pseudoelement.
        */
        box-sizing: border-box;
        background: var(--chops-white);
        padding: 1em 16px;
        cursor: default;
        box-shadow: 0px 3px 20px 0px hsla(0, 0%, 0%, 0.4);
        width: var(--chops-dialog-width);
        max-width: var(--chops-dialog-max-width, 100%);
      }
    `}render(){return o.c`
      <dialog class="dialog" role="dialog" @cancel=${this._cancelHandler}>
        <div class="dialog-content">
          <slot></slot>
        </div>
      </dialog>
    `}static get properties(){return{opened:{type:Boolean,reflect:!0},closeOnOutsideClick:{type:Boolean},onOpenedChange:{type:Object},forced:{type:Boolean},_boundKeydownHandler:{type:Object},_previousFocusedElement:{type:Object}}}constructor(){super(),this.opened=!1,this.closeOnOutsideClick=!1,this.forced=!1,this._boundKeydownHandler=this._keydownHandler.bind(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("click",e=>{if(!this.opened||!this.closeOnOutsideClick||this.forced)return;e.composedPath().find(e=>e.classList&&e.classList.contains("dialog-content"))||this.close()}),window.addEventListener("keydown",this._boundKeydownHandler,!0)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("keydown",this._boundKeydownHandler,!0)}updated(e){e.has("opened")&&this._openedChanged(this.opened)}_keydownHandler(t){this.opened&&"Escape"===t.key&&this.forced&&e.preventDefault()}close(){this.onOpenedChange?this.onOpenedChange(!1):this.opened=!1}open(){this.onOpenedChange?this.onOpenedChange(!0):this.opened=!0}toggle(){this.opened=!this.opened}_cancelHandler(e){this.forced?e.preventDefault():this.close()}_getActiveElement(){let e=document.activeElement||document.body,t=e.shadowRoot||e.root;for(;t&&t.activeElement;)e=t.activeElement,t=e.shadowRoot||e.root;return e}_openedChanged(e){const t=this.shadowRoot.querySelector("dialog");if(e)this._previousFocusedElement=this._getActiveElement(),t.showModal?t.showModal():t.setAttribute("open","true"),this._previousFocusedElement&&this._previousFocusedElement.blur();else if(t.close?t.close():t.setAttribute("open",void 0),this._previousFocusedElement){const e=this._previousFocusedElement;requestAnimationFrame(()=>{e.focus()})}}}customElements.define("chops-dialog",i)},function(e,t,r){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(e,t,r){"use strict";var n=r(43);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,r){"use strict";var n=r(65),o=r(77),i=r(92),s=r(94),a=r(95),c=r(97),u=r(98),l=r(99),p=r(42),d=r(37),h=r(104),f=r(107),y=r(63),m=r(109),g=r(116),b=d("Date.prototype.getTime"),S=Object.getPrototypeOf,_=d("Object.prototype.toString"),E=p("%Set%",!0),v=d("Map.prototype.has",!0),w=d("Map.prototype.get",!0),T=d("Map.prototype.size",!0),C=d("Set.prototype.add",!0),R=d("Set.prototype.delete",!0),O=d("Set.prototype.has",!0),A=d("Set.prototype.size",!0);function I(e,t,r,n){for(var o,i=f(e);(o=i.next())&&!o.done;)if(U(t,o.value,r,n))return R(e,o.value),!0;return!1}function j(e){return void 0===e?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function x(e,t,r,n,o,i){var s=j(r);if(null!=s)return s;var a=w(t,s),c=g({},o,{strict:!1});return!(void 0===a&&!v(t,s)||!U(n,a,c,i))&&(!v(e,s)&&U(n,a,c,i))}function P(e,t,r){var n=j(r);return null!=n?n:O(t,n)&&!O(e,n)}function N(e,t,r,n,o,i){for(var s,a,c=f(e);(s=c.next())&&!s.done;)if(U(r,a=s.value,o,i)&&U(n,w(t,a),o,i))return R(e,a),!0;return!1}function U(e,t,r,p){var d=r||{};if(d.strict?i(e,t):e===t)return!0;if(l(e)!==l(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return d.strict?i(e,t):e==t;var y,R=p.has(e),j=p.has(t);if(R&&j){if(p.get(e)===p.get(t))return!0}else y={};return R||p.set(e,y),j||p.set(t,y),function(e,t,r,i){var l,p;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(_(e)!==_(t))return!1;if(o(e)!==o(t))return!1;var d=c(e),y=c(t);if(d!==y)return!1;var R=e instanceof Error,j=t instanceof Error;if(R!==j)return!1;if((R||j)&&(e.name!==t.name||e.message!==t.message))return!1;var F=s(e),L=s(t);if(F!==L)return!1;if((F||L)&&(e.source!==t.source||a(e)!==a(t)))return!1;var M=u(e),D=u(t);if(M!==D)return!1;if((M||D)&&b(e)!==b(t))return!1;if(r.strict&&S&&S(e)!==S(t))return!1;if(m(e)!==m(t))return!1;var $=k(e),V=k(t);if($!==V)return!1;if($||V){if(e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}if(typeof e!=typeof t)return!1;var H=n(e),B=n(t);if(H.length!==B.length)return!1;for(H.sort(),B.sort(),l=H.length-1;l>=0;l--)if(H[l]!=B[l])return!1;for(l=H.length-1;l>=0;l--)if(p=H[l],!U(e[p],t[p],r,i))return!1;var q=h(e),z=h(t);if(q!==z)return!1;if("Set"===q||"Set"===z)return function(e,t,r,n){if(A(e)!==A(t))return!1;var o,i,s,a=f(e),c=f(t);for(;(o=a.next())&&!o.done;)if(o.value&&"object"==typeof o.value)s||(s=new E),C(s,o.value);else if(!O(t,o.value)){if(r.strict)return!1;if(!P(e,t,o.value))return!1;s||(s=new E),C(s,o.value)}if(s){for(;(i=c.next())&&!i.done;)if(i.value&&"object"==typeof i.value){if(!I(s,i.value,r.strict,n))return!1}else if(!r.strict&&!O(e,i.value)&&!I(s,i.value,r.strict,n))return!1;return 0===A(s)}return!0}(e,t,r,i);if("Map"===q)return function(e,t,r,n){if(T(e)!==T(t))return!1;var o,i,s,a,c,u,l=f(e),p=f(t);for(;(o=l.next())&&!o.done;)if(a=o.value[0],c=o.value[1],a&&"object"==typeof a)s||(s=new E),C(s,a);else if(void 0===(u=w(t,a))&&!v(t,a)||!U(c,u,r,n)){if(r.strict)return!1;if(!x(e,t,a,c,r,n))return!1;s||(s=new E),C(s,a)}if(s){for(;(i=p.next())&&!i.done;)if(a=i.value[0],u=i.value[1],a&&"object"==typeof a){if(!N(s,e,a,u,r,n))return!1}else if(!(r.strict||e.has(a)&&U(w(e,a),u,r,n)||N(s,e,a,u,g({},r,{strict:!1}),n)))return!1;return 0===A(s)}return!0}(e,t,r,i);return!0}(e,t,d,p)}function k(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&(!(e.length>0&&"number"!=typeof e[0])&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))))}e.exports=function(e,t,r){return U(e,t,r,y())}},function(e,t,r){"use strict";var n=r(49),o=Object.prototype.hasOwnProperty,i=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],s=o.obj[o.prop],a=Object.keys(s),c=0;c<a.length;++c){var u=a[c],l=s[u];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:s,prop:u}),r.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(i(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,o,i){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<a.length;++u){var l=a.charCodeAt(u);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===n.RFC1738&&(40===l||41===l)?c+=a.charAt(u):l<128?c+=s[l]:l<2048?c+=s[192|l>>6]+s[128|63&l]:l<55296||l>=57344?c+=s[224|l>>12]+s[128|l>>6&63]+s[128|63&l]:(u+=1,l=65536+((1023&l)<<10|1023&a.charCodeAt(u)),c+=s[240|l>>18]+s[128|l>>12&63]+s[128|l>>6&63]+s[128|63&l])}return c},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(i(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var s=t;return i(t)&&!i(r)&&(s=a(t,n)),i(t)&&i(r)?(r.forEach((function(r,i){if(o.call(t,i)){var s=t[i];s&&"object"==typeof s&&r&&"object"==typeof r?t[i]=e(s,r,n):t.push(r)}else t[i]=r})),t):Object.keys(r).reduce((function(t,i){var s=r[i];return o.call(t,i)?t[i]=e(t[i],s,n):t[i]=s,t}),s)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(5),o=r(1),i=r(3),s=r(39);r(25);const a=Object(o.b)({},{"stars/LIST_PROJECTS_SUCCESS":(e,{stars:t})=>{const r={};return t.forEach(e=>{r[e.name]=e}),{...e,...r}},"stars/STAR_PROJECT_SUCCESS":(e,{projectStar:t})=>({...e,[t.name]:t}),"stars/UNSTAR_PROJECT_SUCCESS":(e,{starName:t})=>{const r={...e};return delete r[t],r}}),c=Object(n.b)({listProjects:Object(o.c)("stars/LIST_PROJECTS_START","stars/LIST_PROJECTS_SUCCESS","stars/LIST_PROJECTS_FAILURE"),starProject:Object(o.a)("stars/STAR_PROJECT_START","stars/STAR_PROJECT_SUCCESS","stars/STAR_PROJECT_FAILURE"),unstarProject:Object(o.a)("stars/UNSTAR_PROJECT_START","stars/UNSTAR_PROJECT_SUCCESS","stars/UNSTAR_PROJECT_FAILURE")}),u={reducer:Object(n.b)({byName:a,requests:c}),byName:e=>e.stars.byName,requests:e=>e.stars.requests,listProjects:e=>async t=>{t({type:"stars/LIST_PROJECTS_START"});try{const{projectStars:r}=await i.a.call("monorail.v3.Users","ListProjectStars",{parent:e});t({type:"stars/LIST_PROJECTS_SUCCESS",stars:r})}catch(e){t({type:"stars/LIST_PROJECTS_FAILURE",error:e})}},starProject:(e,t)=>async r=>{const n=Object(s.b)(e,t);r({type:"stars/STAR_PROJECT_START",requestKey:n});try{r({type:"stars/STAR_PROJECT_SUCCESS",requestKey:n,projectStar:await i.a.call("monorail.v3.Users","StarProject",{project:e})})}catch(e){r({type:"stars/STAR_PROJECT_FAILURE",requestKey:n,error:e})}},unstarProject:(e,t)=>async r=>{const n=Object(s.b)(e,t),o=n;r({type:"stars/UNSTAR_PROJECT_START",requestKey:o});try{await i.a.call("monorail.v3.Users","UnStarProject",{project:e}),r({type:"stars/UNSTAR_PROJECT_SUCCESS",requestKey:o,starName:n})}catch(e){r({type:"stars/UNSTAR_PROJECT_FAILURE",requestKey:o,error:e})}}}},function(e,t,r){"use strict";r.d(t,"c",(function(){return p})),r.d(t,"a",(function(){return d})),r.d(t,"d",(function(){return h})),r.d(t,"b",(function(){return f}));var n=r(5),o=r(2),i=r(1),s=r(3);r(25);const a="projects/LIST_SUCCESS",c=Object(i.b)({},{[a]:(e,{projects:t})=>{const r={};return t.forEach(e=>{r[e.name]=e}),{...e,...r}}}),u=Object(i.b)([],{[a]:(e,{projects:t})=>t.map(e=>e.name)}),l=Object(n.b)({list:Object(i.c)("projects/LIST_START",a,"projects/LIST_FAILURE")}),p=Object(n.b)({byName:c,allNames:u,requests:l}),d=Object(o.a)([e=>e.projects.byName,e=>e.projects.allNames],(e,t)=>t.map(t=>e[t])),h=e=>e.projects.requests,f=()=>async e=>{e({type:"projects/LIST_START"});try{const{projects:t}=await s.a.call("monorail.v3.Projects","ListProjects",{});e({type:a,projects:t})}catch(t){e({type:"projects/LIST_FAILURE",error:t})}}},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},,function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],l=!1,p=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&h())}function h(){if(!l){var e=a(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||l||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(42),o=r(37),i=r(72),s=n("%TypeError%"),a=n("%WeakMap%",!0),c=n("%Map%",!0),u=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),p=o("WeakMap.prototype.has",!0),d=o("Map.prototype.get",!0),h=o("Map.prototype.set",!0),f=o("Map.prototype.has",!0),y=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new s("Side channel does not contain "+i(e))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return u(e,n)}else if(c){if(t)return d(t,n)}else if(r)return function(e,t){var r=y(e,t);return r&&r.value}(r,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return p(e,n)}else if(c){if(t)return f(t,n)}else if(r)return function(e,t){return!!y(e,t)}(r,n);return!1},set:function(n,o){a&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new a),l(e,n,o)):c?(t||(t=new c),h(t,n,o)):(r||(r={key:{},next:null}),function(e,t,r){var n=y(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,o))}};return n}},function(e,t){!function(e){const t=Object.freeze({OK:0,CANCELED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16}),r={};for(const e in t)r[t[e]]=e;function n(e){return r[e]}class o extends Error{constructor(e,t){if(super(),null===e)throw new Error("missing required argument: code");this.code=e,this.codeName=n(e),this.description=t}get message(){return`code: ${this.code} (${this.codeName}) desc: ${this.description}`}}class i extends Error{constructor(e,t){if(super(),null===e)throw new Error("missing required argument: httpStatus");this.httpStatus=e,this.description=t}get message(){return`status: ${this.httpStatus} desc: ${this.description}`}}e.chops=e.chops||{},e.chops.rpc=e.chops.rpc||{},Object.assign(e.chops.rpc,{RpcCode:t,rpcCodeToCodeName:n,PrpcClient:class{constructor(t=null){t=t||{},this.host=t.host||document.location.host,this.accessToken=t.accessToken||null,this.insecure=t.hasOwnProperty("insecure")&&Boolean(t.insecure),this.fetchImpl=t.fetchImpl||e.fetch.bind(e)}async call(e,r,n,s){if(!e)throw new TypeError("missing required argument: service");if(!r)throw new TypeError("missing required argument: method");if(!n)throw new TypeError("missing required argument: message");if(!(n instanceof Object))throw new TypeError("argument `message` must be a protobuf object");const a=`${!0===this.insecure?"http:":"https:"}//${this.host}/prpc/${e}/${r}`,c=this._requestOptions(n,s),u=await this.fetchImpl(a,c);if(!u.headers.has("X-Prpc-Grpc-Code"))throw new i(u.status,"Invalid response: no X-Prpc-Grpc-Code response header");const l=Number.parseInt(u.headers.get("X-Prpc-Grpc-Code"),10);if(Number.isNaN(l))throw new i(u.status,"Invalid X-Prpc-Grpc-Code response header");const p=await u.text();if(l!==t.OK)throw new o(l,p);if(!p.startsWith(")]}'"))throw new i(u.status,"Response body does not start with XSSI prefix: )]}'");return JSON.parse(p.substr(")]}'".length))}_requestOptions(e,t){const r={accept:"application/json","content-type":"application/json"};return t&&Object.assign(r,t),this.accessToken&&(r.authorization="Bearer "+this.accessToken),{credentials:"omit",method:"POST",headers:r,body:JSON.stringify(e)}}},ProtocolError:i,GrpcError:o})}(window)},function(e,t,r){"use strict";var n=Array.prototype.slice,o=r(76),i=Object.keys,s=i?function(e){return i(e)}:r(91),a=Object.keys;s.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?a(n.call(e)):a(e)}):Object.keys=s;return Object.keys||s},e.exports=s},function(e,t,r){"use strict";var n=r(0);class o extends n.a{static get styles(){return n.b`
      :host {
        --chops-button-padding: 0.5em 16px;
        background: hsla(0, 0%, 95%, 1);
        margin: 0.25em 4px;
        cursor: pointer;
        border-radius: 3px;
        text-align: center;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        user-select: none;
        transition: filter 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        font-family: var(--chops-font-family);
      }
      :host([hidden]) {
        display: none;
      }
      :host([raised]) {
        box-shadow: 0px 2px 8px -1px hsla(0, 0%, 0%, 0.5);
      }
      :host(:hover) {
        filter: brightness(95%);
      }
      :host(:active) {
        filter: brightness(115%);
      }
      :host([raised]:active) {
        box-shadow: 0px 1px 8px -1px hsla(0, 0%, 0%, 0.5);
      }
      :host([disabled]),
      :host([disabled]:hover) {
        filter: grayscale(30%);
        opacity: 0.4;
        background: hsla(0, 0%, 87%, 1);
        cursor: default;
        pointer-events: none;
        box-shadow: none;
      }
      button {
        background: none;
        width: 100%;
        height: 100%;
        border: 0;
        padding: var(--chops-button-padding);
        margin: 0;
        color: inherit;
        cursor: inherit;
        text-align: center;
        font-family: inherit;
        text-align: inherit;
        font-weight: inherit;
        font-size: inherit;
        line-height: inherit;
        border-radius: inherit;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    `}render(){return n.c`
      <button ?disabled=${this.disabled}>
        <slot></slot>
      </button>
    `}static get properties(){return{disabled:{type:Boolean,reflect:!0},raised:{type:Boolean,value:!1,reflect:!0}}}constructor(){super(),this.disabled=!1,this.raised=!1}}customElements.define("chops-button",o)},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return s}));const n=new Set(["Enter","Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"]),o=["checkbox","radio","file","submit","button","image"];function i(e){const t=e.tagName&&e.tagName.toUpperCase();if("INPUT"===t){const t=e.type.toLowerCase();return!o.includes(t)}return"SELECT"===t||"TEXTAREA"===t||e.isContentEditable}function s(e){const t=e.composedPath();return t?t[0]:e.target}},function(e,t,r){"use strict";var n=r(0);r(31);class o extends n.a{static get styles(){return n.b`
        :host {
          position: relative;
          display: inline-block;
          height: 100%;
          font-size: inherit;
        }
    `}render(){return n.c`
      <mr-dropdown
        .text=${this.userDisplayName}
        .items=${this.items}
        .icon="arrow_drop_down"
      ></mr-dropdown>
    `}static get properties(){return{userDisplayName:String,logoutUrl:String,loginUrl:String}}get items(){return[{text:"Switch accounts",url:this.loginUrl},{separator:!0},{text:"Profile",url:"/u/"+this.userDisplayName},{text:"Updates",url:`/u/${this.userDisplayName}/updates`},{text:"Settings",url:"/hosting/settings"},{text:"Saved queries",url:`/u/${this.userDisplayName}/queries`},{text:"Hotlists",url:`/u/${this.userDisplayName}/hotlists`},{separator:!0},{text:"Sign out",url:this.logoutUrl}]}}customElements.define("mr-account-dropdown",o)},function(e,t,r){"use strict";var n=r(0),o=r(34);class i extends n.a{render(){return n.c`
      ${this._displayedTime}
    `}static get properties(){return{timestamp:{type:String},short:{type:Boolean},_date:{type:Object}}}get _displayedTime(){const e=this._date,t=this.short;if(e)return t?Object(o.a)(e):Object(o.b)(e)}update(e){e.has("timestamp")&&(this._date=this._parseTimestamp(this.timestamp),this.setAttribute("title",Object(o.b)(this._date))),super.update(e)}_parseTimestamp(e){if(!e)return;let t=0;if(/^\d+$/.test(e))t=1e3*Number.parseInt(e);else if(t=Date.parse(e),Number.isNaN(t))throw new Error("Timestamp is in an invalid format.");return new Date(t)}}customElements.define("chops-timestamp",i)},function(e,t,r){"use strict";var n=r(63),o=r(57),i=r(49),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,u=Array.prototype.push,l=function(e,t){u.apply(e,c(t)?t:[t])},p=Date.prototype.toISOString,d=i.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:d,formatter:i.formatters[d],indices:!1,serializeDate:function(e){return p.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,r,i,s,a,u,p,d,f,y,m,g,b,S,_){var E,v=t;if(_.has(t))throw new RangeError("Cyclic object value");if("function"==typeof p?v=p(r,v):v instanceof Date?v=y(v):"comma"===i&&c(v)&&(v=o.maybeMap(v,(function(e){return e instanceof Date?y(e):e}))),null===v){if(s)return u&&!b?u(r,h.encoder,S,"key",m):r;v=""}if("string"==typeof(E=v)||"number"==typeof E||"boolean"==typeof E||"symbol"==typeof E||"bigint"==typeof E||o.isBuffer(v))return u?[g(b?r:u(r,h.encoder,S,"key",m))+"="+g(u(v,h.encoder,S,"value",m))]:[g(r)+"="+g(String(v))];var w,T=[];if(void 0===v)return T;if("comma"===i&&c(v))w=[{value:v.length>0?v.join(",")||null:void 0}];else if(c(p))w=p;else{var C=Object.keys(v);w=d?C.sort(d):C}for(var R=0;R<w.length;++R){var O=w[R],A="object"==typeof O&&void 0!==O.value?O.value:v[O];if(!a||null!==A){var I=c(v)?"function"==typeof i?i(r,O):r:r+(f?"."+O:"["+O+"]");_.set(t,!0);var j=n();l(T,e(A,I,i,s,a,u,p,d,f,y,m,g,b,S,j))}}return T};e.exports=function(e,t){var r,o=e,u=function(e){if(!e)return h;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==e.format){if(!s.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=i.formatters[r],o=h.filter;return("function"==typeof e.filter||c(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"==typeof u.filter?o=(0,u.filter)("",o):c(u.filter)&&(r=u.filter);var p,d=[];if("object"!=typeof o||null===o)return"";p=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var y=a[p];r||(r=Object.keys(o)),u.sort&&r.sort(u.sort);for(var m=n(),g=0;g<r.length;++g){var b=r[g];u.skipNulls&&null===o[b]||l(d,f(o[b],b,y,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,m))}var S=d.join(u.delimiter),_=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),S.length>0?_+S:""}},function(e,t,r){"use strict";var n="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError(n+t);for(var r,s=o.call(arguments,1),a=function(){if(this instanceof r){var n=t.apply(this,s.concat(o.call(arguments)));return Object(n)===n?n:this}return t.apply(e,s.concat(o.call(arguments)))},c=Math.max(0,t.length-s.length),u=[],l=0;l<c;l++)u.push("$"+l);if(r=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var p=function(){};p.prototype=t.prototype,r.prototype=new p,p.prototype=null}return r}},function(e,t,r){var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&c&&"function"==typeof c.get?c.get:null,l=a&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h=Boolean.prototype.valueOf,f=Object.prototype.toString,y=Function.prototype.toString,m=String.prototype.match,g="function"==typeof BigInt?BigInt.prototype.valueOf:null,b=Object.getOwnPropertySymbols,S="function"==typeof Symbol?Symbol.prototype.toString:null,_=Object.prototype.propertyIsEnumerable,E=r(73).custom,v=E&&R(E)?E:null;function w(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function T(e){return String(e).replace(/"/g,"&quot;")}function C(e){return"[object Array]"===I(e)}function R(e){return"[object Symbol]"===I(e)}e.exports=function e(t,r,n,o){var a=r||{};if(A(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(A(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!A(a,"customInspect")||a.customInspect;if("boolean"!=typeof c)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(A(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,r){if(t.length>r.maxStringLength){var n=t.length-r.maxStringLength,o="... "+n+" more character"+(n>1?"s":"");return e(t.slice(0,r.maxStringLength),r)+o}return w(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,x),"single",r)}(t,a);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var f=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),n>=f&&f>0&&"object"==typeof t)return C(t)?"[Array]":"[Object]";var b=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=Array(e.indent+1).join(" ")}return{base:r,prev:Array(t+1).join(r)}}(a,n);if(void 0===o)o=[];else if(j(o,t)>=0)return"[Circular]";function _(t,r,i){if(r&&(o=o.slice()).push(r),i){var s={depth:a.depth};return A(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,n+1,o)}return e(t,a,n+1,o)}if("function"==typeof t){var E=function(e){if(e.name)return e.name;var t=m.call(y.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),O=F(t,_);return"[Function"+(E?": "+E:" (anonymous)")+"]"+(O.length>0?" { "+O.join(", ")+" }":"")}if(R(t)){var L=S.call(t);return"object"==typeof t?P(L):L}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var M="<"+String(t.nodeName).toLowerCase(),D=t.attributes||[],$=0;$<D.length;$++)M+=" "+D[$].name+"="+w(T(D[$].value),"double",a);return M+=">",t.childNodes&&t.childNodes.length&&(M+="..."),M+="</"+String(t.nodeName).toLowerCase()+">"}if(C(t)){if(0===t.length)return"[]";var V=F(t,_);return b&&!function(e){for(var t=0;t<e.length;t++)if(j(e[t],"\n")>=0)return!1;return!0}(V)?"["+k(V,b)+"]":"[ "+V.join(", ")+" ]"}if(function(e){return"[object Error]"===I(e)}(t)){var H=F(t,_);return 0===H.length?"["+String(t)+"]":"{ ["+String(t)+"] "+H.join(", ")+" }"}if("object"==typeof t&&c){if(v&&"function"==typeof t[v])return t[v]();if("function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var B=[];return s.call(t,(function(e,r){B.push(_(r,t,!0)+" => "+_(e,t))})),U("Map",i.call(t),B,b)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var q=[];return l.call(t,(function(e){q.push(_(e,t))})),U("Set",u.call(t),q,b)}if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return N("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return N("WeakSet");if(function(e){return"[object Number]"===I(e)}(t))return P(_(Number(t)));if(function(e){return"[object BigInt]"===I(e)}(t))return P(_(g.call(t)));if(function(e){return"[object Boolean]"===I(e)}(t))return P(h.call(t));if(function(e){return"[object String]"===I(e)}(t))return P(_(String(t)));if(!function(e){return"[object Date]"===I(e)}(t)&&!function(e){return"[object RegExp]"===I(e)}(t)){var z=F(t,_);return 0===z.length?"{}":b?"{"+k(z,b)+"}":"{ "+z.join(", ")+" }"}return String(t)};var O=Object.prototype.hasOwnProperty||function(e){return e in this};function A(e,t){return O.call(e,t)}function I(e){return f.call(e)}function j(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function x(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function P(e){return"Object("+e+")"}function N(e){return e+" { ? }"}function U(e,t,r,n){return e+" ("+t+") {"+(n?k(r,n):r.join(", "))+"}"}function k(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+e.join(","+r)+"\n"+t.prev}function F(e,t){var r=C(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=A(e,o)?t(e[o],e):""}for(var i in e)A(e,i)&&(r&&String(Number(i))===i&&i<e.length||(/[^\w$]/.test(i)?n.push(t(i,e)+": "+t(e[i],e)):n.push(i+": "+t(e[i],e))));if("function"==typeof b)for(var s=b(e),a=0;a<s.length;a++)_.call(e,s[a])&&n.push("["+t(s[a])+"]: "+t(e[s[a]],e));return n}},function(e,t){},function(e,t,r){"use strict";var n=r(57),o=Object.prototype.hasOwnProperty,i=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(i),u=a?i.slice(0,a.index):i,l=[];if(u){if(!r.plainObjects&&o.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var p=0;r.depth>0&&null!==(a=s.exec(i))&&p<r.depth;){if(p+=1,!r.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+i.slice(a.index)+"]"),function(e,t,r,n){for(var o=n?t:c(t,r),i=e.length-1;i>=0;--i){var s,a=e[i];if("[]"===a&&r.parseArrays)s=[].concat(o);else{s=r.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(u,10);r.parseArrays||""!==u?!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(s=[])[l]=o:s[u]=o:s={0:o}}o=s}return o}(l,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var r,u={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=t.parameterLimit===1/0?void 0:t.parameterLimit,d=l.split(t.delimiter,p),h=-1,f=t.charset;if(t.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?f="utf-8":"utf8=%26%2310003%3B"===d[r]&&(f="iso-8859-1"),h=r,r=d.length);for(r=0;r<d.length;++r)if(r!==h){var y,m,g=d[r],b=g.indexOf("]="),S=-1===b?g.indexOf("="):b+1;-1===S?(y=t.decoder(g,s.decoder,f,"key"),m=t.strictNullHandling?null:""):(y=t.decoder(g.slice(0,S),s.decoder,f,"key"),m=n.maybeMap(c(g.slice(S+1),t),(function(e){return t.decoder(e,s.decoder,f,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===f&&(m=a(m)),g.indexOf("[]=")>-1&&(m=i(m)?[m]:m),o.call(u,y)?u[y]=n.combine(u[y],m):u[y]=m}return u}(e,r):e,p=r.plainObjects?Object.create(null):{},d=Object.keys(l),h=0;h<d.length;++h){var f=d[h],y=u(f,l[f],r,"string"==typeof e);p=n.merge(p,y,r)}return!0===r.allowSparse?p:n.compact(p)}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=r(37)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},s=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=s,e.exports=a?i:s},function(e,t,r){"use strict";var n=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!n(e)||!n(t))}},function(e,t,r){"use strict";var n=r(78);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},function(e,t,r){"use strict";var n=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==n(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,r){"use strict";var n=r(80),o=r(44).supportsDescriptors,i=Object.getOwnPropertyDescriptor,s=TypeError;e.exports=function(){if(!o)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return n}},function(e,t,r){"use strict";var n=String.prototype.valueOf,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object String]"===o.call(e))}},function(e,t,r){"use strict";var n,o="function"==typeof Map&&Map.prototype?Map:null,i="function"==typeof Set&&Set.prototype?Set:null;o||(n=function(e){return!1});var s=o?Map.prototype.has:null,a=i?Set.prototype.has:null;n||s||(n=function(e){return!1}),e.exports=n||function(e){if(!e||"object"!=typeof e)return!1;try{if(s.call(e),a)try{a.call(e)}catch(e){return!0}return e instanceof o}catch(e){}return!1}},function(e,t,r){"use strict";var n,o="function"==typeof Map&&Map.prototype?Map:null,i="function"==typeof Set&&Set.prototype?Set:null;i||(n=function(e){return!1});var s=o?Map.prototype.has:null,a=i?Set.prototype.has:null;n||a||(n=function(e){return!1}),e.exports=n||function(e){if(!e||"object"!=typeof e)return!1;try{if(a.call(e),s)try{s.call(e)}catch(e){return!0}return e instanceof i}catch(e){}return!1}},function(e,t){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString;e.exports=function(e,t,o){if("[object Function]"!==n.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var s=0;s<i;s++)t.call(o,e[s],s,e);else for(var a in e)r.call(e,a)&&t.call(o,e[a],a,e)}},function(e,t,r){"use strict";(function(t){var n=r(110);e.exports=function(){return n(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(e){return"function"==typeof t[e]}))}}).call(this,r(45))},function(e,t,r){"use strict";var n=r(65),o=function(e){return null!=e},i=r(54)(),s=r(37),a=Object,c=s("Array.prototype.push"),u=s("Object.prototype.propertyIsEnumerable"),l=i?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(!o(e))throw new TypeError("target must be an object");var r,s,p,d,h,f,y,m=a(e);for(r=1;r<arguments.length;++r){s=a(arguments[r]),d=n(s);var g=i&&(Object.getOwnPropertySymbols||l);if(g)for(h=g(s),p=0;p<h.length;++p)y=h[p],u(s,y)&&c(d,y);for(p=0;p<d.length;++p)f=s[y=d[p]],u(s,y)&&(m[y]=f)}return m}},function(e,t,r){"use strict";var n=r(87);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var o=Object.assign({},r),i="";for(var s in o)i+=s;return e!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},function(e,t,r){"use strict";var n=r(0),o=r(6),i=r(15),s=r(11),a=r(13),c=r(3),u=r(16),l=r.n(u),p=r(18),d=r.n(p),h=r(12),f=r.n(h),y=r(10),m=(r(53),r(4));const g=[{title:"Issue list",keyDocs:[{keys:["k","j"],tip:"up/down in the list"},{keys:["o","Enter"],tip:"open the current issue"},{keys:["Shift-O"],tip:"open issue in new tab"},{keys:["x"],tip:"select the current issue"}]},{title:"Issue details",keyDocs:[{keys:["k","j"],tip:"prev/next issue in list"},{keys:["u"],tip:"up to issue list"},{keys:["r"],tip:"reply to current issue"},{keys:["Ctrl+Enter","⌘+Enter"],tip:"save issue reply (submit issue on issue filing page)"}]},{title:"Anywhere",keyDocs:[{keys:["/"],tip:"focus on the issue search field"},{keys:["c"],tip:"compose a new issue"},{keys:["s"],tip:"star the current issue"},{keys:["?"],tip:"show this help dialog"}]}];class b extends(Object(o.a)(n.a)){static get styles(){return n.b`
      h2 {
        margin-top: 0;
        display: flex;
        justify-content: space-between;
        font-weight: normal;
        border-bottom: 2px solid white;
        font-size: var(--chops-large-font-size);
        padding-bottom: 0.5em;
      }
      .close-button {
        border: 0;
        background: 0;
        text-decoration: underline;
        cursor: pointer;
      }
      .keyboard-help {
        display: flex;
        align-items: flex-start;
        justify-content: space-around;
        flex-direction: row;
        border-bottom: 2px solid white;
        flex-wrap: wrap;
      }
      .keyboard-help-section {
        width: 32%;
        display: grid;
        grid-template-columns: 40% 60%;
        padding-bottom: 1em;
        grid-gap: 4px;
        min-width: 300px;
      }
      .help-title {
        font-weight: bold;
      }
      .key-shortcut {
        text-align: right;
        padding-right: 8px;
        font-weight: bold;
        margin: 2px;
      }
      kbd {
        background: var(--chops-gray-200);
        padding: 2px 8px;
        border-radius: 2px;
        min-width: 28px;
      }
    `}render(){return n.c`
      <chops-dialog ?opened=${this._opened}>
        <h2>
          Issue tracker keyboard shortcuts
          <button class="close-button" @click=${this._closeDialog}>
            Close
          </button>
        </h2>
        <div class="keyboard-help">
          ${this._shortcutDocGroups.map(e=>n.c`
            <div class="keyboard-help-section">
              <span></span><span class="help-title">${e.title}</span>
              ${e.keyDocs.map(e=>n.c`
                <span class="key-shortcut">
                  ${e.keys.map((t,r)=>n.c`
                    <kbd>${t}</kbd>
                    <span
                      class="key-separator"
                      ?hidden=${r===e.keys.length-1}
                    > / </span>
                  `)}:
                </span>
                <span class="key-tip">${e.tip}</span>
              `)}
            </div>
          `)}
        </div>
        <p>
          Note: Only signed in users can star issues or add comments, and
          only project members can select issues for bulk edits.
        </p>
      </chops-dialog>
    `}static get properties(){return{issueEntryUrl:{type:String},issueId:{type:Number},_projectName:{type:String},queryParams:{type:Object},_fetchingIsStarred:{type:Boolean},_isStarred:{type:Boolean},_issuePermissions:{type:Array},_opened:{type:Boolean},_shortcutDocGroups:{type:Array},_starringIssues:{type:Object}}}constructor(){super(),this._shortcutDocGroups=g,this._opened=!1,this._starringIssues=new Map,this._projectName=void 0,this._issuePermissions=[],this.issueId=void 0,this.queryParams=void 0,this.issueEntryUrl=void 0,this._page=l.a}stateChanged(e){this._projectName=s.t(e),this._issuePermissions=y.z(e);const t=y.J(e);this._isStarred=t.has(Object(m.j)(this._issueRef)),this._fetchingIsStarred=y.F(e).fetchIsStarred.requesting,this._starringIssues=y.K(e)}updated(e){(e.has("_projectName")||e.has("issueEntryUrl"))&&this._bindProjectKeys(this._projectName,this.issueEntryUrl),(e.has("_projectName")||e.has("issueId")||e.has("_issuePermissions")||e.has("queryParams"))&&this._bindIssueDetailKeys(this._projectName,this.issueId,this._issuePermissions,this.queryParams)}disconnectedCallback(){super.disconnectedCallback(),this._unbindProjectKeys(),this._unbindIssueDetailKeys()}get _isStarring(){const e=Object(m.j)(this._issueRef);return!!this._starringIssues.has(e)&&this._starringIssues.get(e).requesting}get _issueRef(){return{projectName:this._projectName,localId:this.issueId}}_toggleDialog(){this._opened=!this._opened}_openDialog(){this._opened=!0}_closeDialog(){this._opened=!1}_bindProjectKeys(e,t){this._unbindProjectKeys(),e&&(t=t||`/p/${e}/issues/entry`,f.a.bind("/",e=>{e.preventDefault(),this.dispatchEvent(new CustomEvent("focus-search",{composed:!0,bubbles:!0}))}),f.a.bind("?",()=>{this._toggleDialog()}),f.a.bind("esc",()=>{this._closeDialog()}),f.a.bind("c",()=>this._page(t)))}_unbindProjectKeys(){f.a.unbind("/"),f.a.unbind("?"),f.a.unbind("esc"),f.a.unbind("c")}_bindIssueDetailKeys(e,t,r,n){if(this._unbindIssueDetailKeys(),!e||!t)return;const o="/p/"+e,i=d.a.stringify(n),s=`${o}/issues/detail/previous?${i}`,a=`${o}/issues/detail/next?${i}`,c=r.includes("addissuecomment"),u=r.includes("setstar");f.a.bind("k",()=>this._page(s)),f.a.bind("j",()=>this._page(a)),f.a.bind("u",()=>this._backToList()),c&&f.a.bind("r",()=>this._jumpToEditForm()),u&&f.a.bind("s",()=>this._starIssue())}_backToList(){const e={...this.queryParams,cursor:Object(m.j)(this._issueRef)},t=d.a.stringify(e);if(e.hotlist_id){const e=`/p/${this._projectName}/issues/detail/list?${t}`;this._page(e)}else{delete e.id;const r=`/p/${this._projectName}/issues/list?${t}`;this._page(r)}}_jumpToEditForm(){"#makechanges"===window.location.hash.toLowerCase()&&(window.location.hash=" "),window.location.hash="#makechanges"}_starIssue(){if(!this._fetchingIsStarred&&!this._isStarring){const e=!this._isStarred;o.b.dispatch(y.I(this._issueRef,e))}}_unbindIssueDetailKeys(){f.a.unbind("k"),f.a.unbind("j"),f.a.unbind("u"),f.a.unbind("r"),f.a.unbind("s")}}customElements.define("mr-keystrokes",b);r(31),r(68);var S=r(41);const _=/^\d+$/;class E extends n.a{static get styles(){return n.b`
      :host {
        --mr-search-bar-background: var(--chops-white);
        --mr-search-bar-border-radius: 4px;
        --mr-search-bar-border: var(--chops-normal-border);
        --mr-search-bar-chip-color: var(--chops-gray-200);
        height: 30px;
        font-size: var(--chops-large-font-size);
      }
      input#searchq {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        flex-grow: 2;
        min-width: 100px;
        border: none;
        border-top: var(--mr-search-bar-border);
        border-bottom: var(--mr-search-bar-border);
        background: var(--mr-search-bar-background);
        height: 100%;
        box-sizing: border-box;
        padding: 0 2px;
        font-size: inherit;
      }
      mr-dropdown {
        text-align: right;
        display: flex;
        text-overflow: ellipsis;
        box-sizing: border-box;
        background: var(--mr-search-bar-background);
        border: var(--mr-search-bar-border);
        border-left: 0;
        border-radius: 0 var(--mr-search-bar-border-radius)
          var(--mr-search-bar-border-radius) 0;
        height: 100%;
        align-items: center;
        justify-content: center;
        text-decoration: none;
      }
      button {
        font-size: inherit;
        order: -1;
        background: var(--mr-search-bar-background);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        box-sizing: border-box;
        border: var(--mr-search-bar-border);
        border-left: none;
        border-right: none;
        padding: 0 8px;
      }
      form {
        display: flex;
        height: 100%;
        width: 100%;
        align-items: center;
        justify-content: flex-start;
        flex-direction: row;
      }
      i.material-icons {
        font-size: var(--chops-icon-font-size);
        color: var(--chops-primary-icon-color);
      }
      .select-container {
        order: -2;
        max-width: 150px;
        min-width: 50px;
        flex-shrink: 1;
        height: 100%;
        position: relative;
        box-sizing: border-box;
        border: var(--mr-search-bar-border);
        border-radius: var(--mr-search-bar-border-radius) 0 0
          var(--mr-search-bar-border-radius);
        background: var(--mr-search-bar-chip-color);
      }
      .select-container i.material-icons {
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        right: 0;
        top: 0;
        height: 100%;
        width: 20px;
        z-index: 2;
        padding: 0;
      }
      select {
        color: var(--chops-primary-font-color);
        display: flex;
        align-items: center;
        justify-content: flex-start;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        text-overflow: ellipsis;
        cursor: pointer;
        width: 100%;
        height: 100%;
        background: none;
        margin: 0;
        padding: 0 20px 0 8px;
        box-sizing: border-box;
        border: 0;
        z-index: 3;
        font-size: inherit;
        position: relative;
      }
      select::-ms-expand {
        display: none;
      }
      select::after {
        position: relative;
        right: 0;
        content: 'arrow_drop_down';
        font-family: 'Material Icons';
      }
    `}render(){return n.c`
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <form
        @submit=${this._submitSearch}
        @keypress=${this._submitSearchWithKeypress}
      >
        ${this._renderSearchScopeSelector()}
        <input
          id="searchq"
          type="text"
          name="q"
          placeholder="Search ${this.projectName} issues..."
          .value=${this.initialQuery||""}
          autocomplete="off"
          aria-label="Search box"
          @focus=${this._searchEditStarted}
          @blur=${this._searchEditFinished}
          spellcheck="false"
        />
        <button type="submit">
          <i class="material-icons">search</i>
        </button>
        <mr-dropdown
          label="Search options"
          .items=${this._searchMenuItems}
        ></mr-dropdown>
      </form>
    `}_renderSearchScopeSelector(){return n.c`
      <div class="select-container">
        <i class="material-icons" role="presentation">arrow_drop_down</i>
        <select
          id="can"
          name="can"
          @change=${this._redirectOnSelect}
          aria-label="Search scope"
        >
          <optgroup label="Search within">
            <option
              value="1"
              ?selected=${"1"===this.initialCan}
            >All issues</option>
            <option
              value="2"
              ?selected=${"2"===this.initialCan}
            >Open issues</option>
            <option
              value="3"
              ?selected=${"3"===this.initialCan}
            >Open and owned by me</option>
            <option
              value="4"
              ?selected=${"4"===this.initialCan}
            >Open and reported by me</option>
            <option
              value="5"
              ?selected=${"5"===this.initialCan}
            >Open and starred by me</option>
            <option
              value="8"
              ?selected=${"8"===this.initialCan}
            >Open with comment by me</option>
            <option
              value="6"
              ?selected=${"6"===this.initialCan}
            >New issues</option>
            <option
              value="7"
              ?selected=${"7"===this.initialCan}
            >Issues to verify</option>
          </optgroup>
          <optgroup label="Project queries" ?hidden=${!this.userDisplayName}>
            ${this._renderSavedQueryOptions(this.projectSavedQueries,"project-query")}
            <option data-href="/p/${this.projectName}/adminViews">
              Manage project queries...
            </option>
          </optgroup>
          <optgroup label="My saved queries" ?hidden=${!this.userDisplayName}>
            ${this._renderSavedQueryOptions(this.userSavedQueries,"user-query")}
            <option data-href="/u/${this.userDisplayName}/queries">
              Manage my saved queries...
            </option>
          </optgroup>
        </select>
      </div>
    `}_renderSavedQueryOptions(e,t){if(e)return e.map(e=>n.c`
      <option
        class=${t}
        value=${e.queryId}
        ?selected=${this.initialCan===e.queryId}
      >${e.name}</option>
    `)}static get properties(){return{projectName:{type:String},userDisplayName:{type:String},initialCan:{type:String},initialQuery:{type:String},projectSavedQueries:{type:Array},userSavedQueries:{type:Array},queryParams:{type:Object},keptQueryParams:{type:Array}}}constructor(){super(),this.queryParams={},this.keptQueryParams=["sort","groupby","colspec","x","y","mode","cells","num"],this.initialQuery="",this.initialCan="2",this.projectSavedQueries=[],this.userSavedQueries=[],this.clientLogger=new S.a("issues"),this._page=l.a}connectedCallback(){super.connectedCallback(),this._boundFocus=this.focus.bind(this),window.addEventListener("focus-search",this._boundFocus)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("focus-search",this._boundFocus)}updated(e){if(this.userDisplayName&&e.has("userDisplayName")){c.a.call("monorail.Users","GetSavedQueries",{}).then(e=>{this.userSavedQueries=e.savedQueries})}}_searchEditStarted(){this.clientLogger.logStart("query-edit","user-time"),this.clientLogger.logStart("issue-search","user-time")}_searchEditFinished(){this.clientLogger.logEnd("query-edit")}_submitSearchWithKeypress(e){if("Enter"===e.key&&e.shiftKey){const t=e.currentTarget;this._runSearch(t,!0)}}_submitSearch(e){e.preventDefault();const t=e.target;this._runSearch(t)}_runSearch(e,t){this.clientLogger.logEnd("query-edit"),this.clientLogger.logPause("issue-search","user-time"),this.clientLogger.logStart("issue-search","computer-time");const r={};this.keptQueryParams.forEach(e=>{e in this.queryParams&&(r[e]=this.queryParams[e])}),r.q=e.q.value.trim(),r.can=e.can.value,this._navigateToNext(r,t)}async _navigateToNext(e,t=!1){let r;if(_.test(e.q)){const t={issueRef:{projectName:this.projectName,localId:e.q}};try{r=await c.a.call("monorail.Issues","GetIssue",t)}catch(e){}}if(r&&r.issue){const t=Object(m.k)(r.issue,e);this._page(t)}else this._navigateToList(e,t)}_navigateToList(e,t=!1){const r=`/p/${this.projectName}/issues/list`,n=!window.location.pathname.startsWith(r)||this.queryParams.q!==e.q||this.queryParams.can!==e.can,o=`${r}?${d.a.stringify(e)}`;t?window.open(o,"_blank","noopener"):n?this._page(o):this.dispatchEvent(new Event("refreshList",{composed:!0,bubbles:!0}))}focus(){this.shadowRoot.querySelector("#searchq").focus()}get _searchMenuItems(){const e=this.projectName;return[{text:"Advanced search",url:`/p/${e}/issues/advsearch`},{text:"Search tips",url:`/p/${e}/issues/searchtips`}]}_redirectOnSelect(e){const t=e.target,r=t.options[t.selectedIndex];r.dataset.href&&this._page(r.dataset.href)}}customElements.define("mr-search-bar",E);var v=r(21);const w=Object.freeze({OWNER:"Owner",MEMBER:"Member",CONTRIBUTOR:"Contributor",NONE:""});class T extends(Object(o.a)(n.a)){static get styles(){return[v.a,n.b`
        :host {
          color: var(--chops-header-text-color);
          box-sizing: border-box;
          background: hsl(221, 67%, 92%);
          width: 100%;
          height: var(--monorail-header-height);
          display: flex;
          flex-direction: row;
          justify-content: flex-start;
          align-items: center;
          z-index: 800;
          background-color: var(--chops-primary-header-bg);
          border-bottom: var(--chops-normal-border);
          top: 0;
          position: fixed;
          padding: 0 4px;
          font-size: var(--chops-large-font-size);
        }
        @media (max-width: 840px) {
          :host {
            position: static;
          }
        }
        a {
          font-size: inherit;
          color: var(--chops-link-color);
          text-decoration: none;
          display: flex;
          align-items: center;
          justify-content: center;
          height: 100%;
          padding: 0 4px;
          flex-grow: 0;
          flex-shrink: 0;
        }
        a[hidden] {
          display: none;
        }
        a.button {
          font-size: inherit;
          height: auto;
          margin: 0 8px;
          border: 0;
          height: 30px;
        }
        .home-link {
          color: var(--chops-gray-900);
          letter-spacing: 0.5px;
          font-size: 18px;
          font-weight: 400;
          display: flex;
          font-stretch: 100%;
          padding-left: 8px;
        }
        a.home-link img {
          /** Cover up default padding with the custom logo. */
          margin-left: -8px;
        }
        a.home-link:hover {
          text-decoration: none;
        }
        mr-search-bar {
          margin-left: 8px;
          flex-grow: 2;
          max-width: 1000px;
        }
        i.material-icons {
          font-size: var(--chops-icon-font-size);
          color: var(--chops-primary-icon-color);
        }
        i.material-icons[hidden] {
          display: none;
        }
        .right-section {
          font-size: inherit;
          display: flex;
          align-items: center;
          height: 100%;
          margin-left: auto;
          justify-content: flex-end;
        }
        .hamburger-icon:hover {
          text-decoration: none;
        }
      `]}render(){return this.projectName?this._renderProjectScope():this._renderNonProjectScope()}_renderProjectScope(){return n.c`
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <mr-keystrokes
        .issueId=${this.queryParams.id}
        .queryParams=${this.queryParams}
        .issueEntryUrl=${this.issueEntryUrl}
      ></mr-keystrokes>
      <a href="/p/${this.projectName}/issues/list" class="home-link">
        ${this.projectThumbnailUrl?n.c`
          <img
            class="project-logo"
            src=${this.projectThumbnailUrl}
            title=${this.projectName}
          />
        `:this.projectName}
      </a>
      <mr-dropdown
        class="project-selector"
        .text=${this.projectName}
        .items=${this._projectDropdownItems}
        menuAlignment="left"
        title=${this.presentationConfig.projectSummary}
      ></mr-dropdown>
      <a class="button emphasized new-issue-link" href=${this.issueEntryUrl}>
        New issue
      </a>
      <mr-search-bar
        .projectName=${this.projectName}
        .userDisplayName=${this.userDisplayName}
        .projectSavedQueries=${this.presentationConfig.savedQueries}
        .initialCan=${this._currentCan}
        .initialQuery=${this._currentQuery}
        .queryParams=${this.queryParams}
      ></mr-search-bar>

      <div class="right-section">
        <mr-dropdown
          icon="settings"
          label="Project Settings"
          .items=${this._projectSettingsItems}
        ></mr-dropdown>

        ${this._renderAccount()}
      </div>
    `}_renderNonProjectScope(){return n.c`
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <a class="hamburger-icon" title="Main menu" hidden>
        <i class="material-icons">menu</i>
      </a>
      ${this._headerTitle?n.c`<span class="home-link">${this._headerTitle}</span>`:n.c`<a href="/" class="home-link">Monorail</a>`}

      <div class="right-section">
        ${this._renderAccount()}
      </div>
    `}_renderAccount(){return this.userDisplayName?n.c`
      <mr-account-dropdown
        .userDisplayName=${this.userDisplayName}
        .logoutUrl=${this.logoutUrl}
        .loginUrl=${this.loginUrl}
      ></mr-account-dropdown>
    `:n.c`<a href=${this.loginUrl}>Sign in</a>`}static get properties(){return{loginUrl:{type:String},logoutUrl:{type:String},projectName:{type:String},projectThumbnailUrl:{type:String},userDisplayName:{type:String},isSiteAdmin:{type:Boolean},userProjects:{type:Object},presentationConfig:{type:Object},queryParams:{type:Object},issueEntryUrl:{type:String},clientLogger:{type:Object},_headerTitle:{type:String},_currentQuery:{type:String},_currentCan:{type:String}}}constructor(){super(),this.presentationConfig={},this.userProjects={},this.isSiteAdmin=!1,this._headerTitle=""}stateChanged(e){this.projectName=s.t(e),this.userProjects=i.k(e);const t=i.b(e);this.isSiteAdmin=!!t&&t.isSiteAdmin;const r=s.r(e);this.presentationConfig=r,this.projectThumbnailUrl=r.projectThumbnailUrl,this._headerTitle=a.g(e),this._currentQuery=a.e(e),this._currentCan=a.c(e),this.queryParams=a.i(e)}get canAdministerProject(){return!!this.userDisplayName&&(!!this.isSiteAdmin||!(!this.userProjects||!this.userProjects.ownerOf)&&this.userProjects.ownerOf.includes(this.projectName))}get roleInCurrentProject(){if(!this.userProjects||!this.projectName)return w.NONE;const{ownerOf:e=[],memberOf:t=[],contributorTo:r=[]}=this.userProjects;return e.includes(this.projectName)?w.OWNER:t.includes(this.projectName)?w.MEMBER:r.includes(this.projectName)?w.CONTRIBUTOR:w.NONE}get _wizardPostUrl(){return`${this._origin}/p/${this.projectName}/issues/entry.do`}get _origin(){return window.location.origin}get issueEntryUrl(){const e=this.presentationConfig,t=this.roleInCurrentProject,r=t===w.NONE;if(!(this.userDisplayName&&e&&e.customIssueEntryUrl&&r))return`/p/${this.projectName}/issues/entry`;const n=c.a.token;return`${this.presentationConfig.customIssueEntryUrl}?token=${n}&role=${t}&continue=${this._wizardPostUrl}`}get _projectDropdownItems(){const{userProjects:e,loginUrl:t}=this;if(!this.userDisplayName)return[{text:"Sign in to see your projects",url:t}];const r=[],n=e.starredProjects||[],o=(e.ownerOf||[]).concat(e.memberOf||[]).concat(e.contributorTo||[]);return o.length&&(o.sort(),r.push({text:"My Projects",separator:!0}),o.forEach(e=>{r.push({text:e,url:`/p/${e}/issues/list`})})),n.length&&(n.sort(),r.push({text:"Starred Projects",separator:!0}),n.forEach(e=>{r.push({text:e,url:`/p/${e}/issues/list`})})),r.length&&r.push({separator:!0}),r.push({text:"All projects",url:"/hosting/"}),r.forEach(e=>{e.handler=()=>this._projectChangedHandler(e.url)}),r}get _projectSettingsItems(){const{projectName:e,canAdministerProject:t}=this,r=[{text:"People",url:`/p/${e}/people/list`},{text:"Development Process",url:`/p/${e}/adminIntro`},{text:"History",url:`/p/${e}/updates/list`}];return t&&(r.push({separator:!0}),r.push({text:"Administer",url:`/p/${e}/admin`})),r}_projectChangedHandler(e){Object(S.b)("mr-header","project-change",e)}}customElements.define("mr-header",T)},,function(e,t,r){"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=r(76),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=s(e),a=t&&"[object String]"===i.call(e),d=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var f=u&&r;if(a&&e.length>0&&!o.call(e,0))for(var y=0;y<e.length;++y)d.push(String(y));if(n&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var g in e)f&&"prototype"===g||!o.call(e,g)||d.push(String(g));if(c)for(var b=function(e){if("undefined"==typeof window||!h)return p(e);try{return p(e)}catch(e){return!1}}(e),S=0;S<l.length;++S)b&&"constructor"===l[S]||!o.call(e,l[S])||d.push(l[S]);return d}}e.exports=n},function(e,t,r){"use strict";var n=r(44),o=r(48),i=r(78),s=r(79),a=r(93),c=o(s(),Object);n(c,{getPolyfill:s,implementation:i,shim:a}),e.exports=c},function(e,t,r){"use strict";var n=r(79),o=r(44);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},function(e,t,r){"use strict";var n,o,i,s,a=r(36)()&&"symbol"==typeof Symbol.toStringTag;if(a){n=Function.call.bind(Object.prototype.hasOwnProperty),o=Function.call.bind(RegExp.prototype.exec),i={};var c=function(){throw i};s={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=c)}var u=Object.prototype.toString,l=Object.getOwnPropertyDescriptor;e.exports=a?function(e){if(!e||"object"!=typeof e)return!1;var t=l(e,"lastIndex");if(!(t&&n(t,"value")))return!1;try{o(e,s)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===u.call(e)}},function(e,t,r){"use strict";var n=r(44),o=r(48),i=r(80),s=r(81),a=r(96),c=o(i);n(c,{getPolyfill:s,implementation:i,shim:a}),e.exports=c},function(e,t,r){"use strict";var n=r(44).supportsDescriptors,o=r(81),i=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,c=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!n||!c)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=c(u),r=i(t,"flags");return r&&r.get===e||s(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},function(e,t,r){"use strict";var n=r(82),o=r(100),i=r(101),s=r(102),a=r(103);e.exports=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:n(e)?"String":o(e)?"Number":i(e)?"Boolean":s(e)?"Symbol":a(e)?"BigInt":void 0}},function(e,t,r){"use strict";var n=Number.prototype.toString,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Number]"===o.call(e))}},function(e,t,r){"use strict";var n=r(37),o=n("Boolean.prototype.toString"),i=n("Object.prototype.toString"),s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(s&&Symbol.toStringTag in e?function(e){try{return o(e),!0}catch(e){return!1}}(e):"[object Boolean]"===i(e))}},function(e,t,r){"use strict";var n=Object.prototype.toString;if(r(36)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},function(e,t,r){"use strict";if("function"==typeof BigInt){var n=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!=typeof e&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return n.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(e){return!1}},function(e,t,r){"use strict";var n=r(83),o=r(84),i=r(105),s=r(106);e.exports=function(e){if(e&&"object"==typeof e){if(n(e))return"Map";if(o(e))return"Set";if(i(e))return"WeakMap";if(s(e))return"WeakSet"}return!1}},function(e,t,r){"use strict";var n,o="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,i="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;o||(n=function(e){return!1});var s=o?o.prototype.has:null,a=i?i.prototype.has:null;n||s||(n=function(e){return!1}),e.exports=n||function(e){if(!e||"object"!=typeof e)return!1;try{if(s.call(e,s),a)try{a.call(e,a)}catch(e){return!0}return e instanceof o}catch(e){}return!1}},function(e,t,r){"use strict";var n,o="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,i="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;o||(n=function(e){return!1});var s=o?o.prototype.has:null,a=i?i.prototype.has:null;n||a||(e.exports=function(e){return!1}),e.exports=n||function(e){if(!e||"object"!=typeof e)return!1;try{if(a.call(e,a),s)try{s.call(e,s)}catch(e){return!0}return e instanceof i}catch(e){}return!1}},function(e,t,r){"use strict";(function(t){var n=r(77);if(r(36)()||r(54)()){var o=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[o]?e[o]():n(e)?Array.prototype[o].call(e):void 0}}else{var i=r(108),s=r(82),a=r(42),c=a("%Map%",!0),u=a("%Set%",!0),l=r(37),p=l("Array.prototype.push"),d=l("String.prototype.charCodeAt"),h=l("String.prototype.slice"),f=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},y=function(e,t){if(i(e)||n(e))return f(e);if(s(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=d(e,t);if(r<55296||r>56319)return t+1;var n=d(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=h(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(c||u){var m=r(83),g=r(84),b=l("Map.prototype.forEach",!0),S=l("Set.prototype.forEach",!0);if(void 0===t||!t.versions||!t.versions.node)var _=l("Map.prototype.iterator",!0),E=l("Set.prototype.iterator",!0),v=function(e){var t=!1;return{next:function(){try{return{done:t,value:t?void 0:e.next()}}catch(e){return t=!0,{done:!0,value:void 0}}}}};var w=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),T=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(m(e)){if(_)return v(_(e));if(w)return w(e);if(b){var t=[];return b(e,(function(e,r){p(t,[r,e])})),f(t)}}if(g(e)){if(E)return v(E(e));if(T)return T(e);if(S){var r=[];return S(e,(function(e){p(r,e)})),f(r)}}}(e)||y(e)}}else e.exports=function(e){if(null!=e)return y(e,!0)}}}).call(this,r(62))},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";(function(t){var n=r(85),o=r(86),i=r(37),s=i("Object.prototype.toString"),a=r(36)()&&"symbol"==typeof Symbol.toStringTag,c=o(),u=i("String.prototype.slice"),l={},p=r(111),d=Object.getPrototypeOf;a&&p&&d&&n(c,(function(e){if("function"==typeof t[e]){var r=new t[e];if(!(Symbol.toStringTag in r))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=d(r),o=p(n,Symbol.toStringTag);if(!o){var i=d(n);o=p(i,Symbol.toStringTag)}l[e]=o.get}}));var h=r(113);e.exports=function(e){return!!h(e)&&(a?function(e){var t=!1;return n(l,(function(r,n){if(!t)try{var o=r.call(e);o===n&&(t=o)}catch(e){}})),t}(e):u(s(e),8,-1))}}).call(this,r(45))},function(e,t){e.exports=function(e,t,n){if(e.filter)return e.filter(t,n);if(null==e)throw new TypeError;if("function"!=typeof t)throw new TypeError;for(var o=[],i=0;i<e.length;i++)if(r.call(e,i)){var s=e[i];t.call(n,s,i,e)&&o.push(s)}return o};var r=Object.prototype.hasOwnProperty},function(e,t,r){"use strict";var n=r(112)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},function(e,t,r){"use strict";var n=SyntaxError,o=Function,i=TypeError,s=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(e){a=null}var c=function(){throw new i},u=a?function(){try{return c}catch(e){try{return a(arguments,"callee").get}catch(e){return c}}}():c,l=r(36)(),p=Object.getPrototypeOf||function(e){return e.__proto__},d=s("async function* () {}"),h=d?d.prototype:void 0,f=h?h.prototype:void 0,y="undefined"==typeof Uint8Array?void 0:p(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":s("async function () {}"),"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":f?p(f):void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":s("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?p(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":u,"%TypedArray%":y,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(43),S=r(55),_=b.call(Function.call,Array.prototype.concat),E=b.call(Function.apply,Array.prototype.splice),v=b.call(Function.call,String.prototype.replace),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,C=function(e){var t=[];return v(e,w,(function(e,r,n,o){t[t.length]=n?v(o,T,"$1"):r||e})),t},R=function(e,t){var r,o=e;if(S(g,o)&&(o="%"+(r=g[o])[0]+"%"),S(m,o)){var s=m[o];if(void 0===s&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:s}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var r=C(e),n=r.length>0?r[0]:"",o=R("%"+n+"%",t),s=o.name,c=o.value,u=!1,l=o.alias;l&&(n=l[0],E(r,_([0,1],l)));for(var p=1,d=!0;p<r.length;p+=1){var h=r[p];if("constructor"!==h&&d||(u=!0),S(m,s="%"+(n+="."+h)+"%"))c=m[s];else if(null!=c){if(a&&p+1>=r.length){var f=a(c,h);if(d=!!f,!t&&!(h in c))throw new i("base intrinsic for "+e+" exists, but the property is not available.");c=d&&"get"in f&&!("originalValue"in f.get)?f.get:c[h]}else d=S(c,h),c=c[h];d&&!u&&(m[s]=c)}}return c}},function(e,t,r){"use strict";(function(t){var n=r(85),o=r(86),i=r(37),s=i("Object.prototype.toString"),a=r(36)()&&"symbol"==typeof Symbol.toStringTag,c=o(),u=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},l=i("String.prototype.slice"),p={},d=r(114),h=Object.getPrototypeOf;a&&d&&h&&n(c,(function(e){var r=new t[e];if(!(Symbol.toStringTag in r))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=h(r),o=d(n,Symbol.toStringTag);if(!o){var i=h(n);o=d(i,Symbol.toStringTag)}p[e]=o.get}));e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a){var t=l(s(e),8,-1);return u(c,t)>-1}return!!d&&function(e){var t=!1;return n(p,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}}).call(this,r(45))},function(e,t,r){"use strict";var n=r(115)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},function(e,t,r){"use strict";var n=SyntaxError,o=Function,i=TypeError,s=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(e){a=null}var c=function(){throw new i},u=a?function(){try{return c}catch(e){try{return a(arguments,"callee").get}catch(e){return c}}}():c,l=r(36)(),p=Object.getPrototypeOf||function(e){return e.__proto__},d=s("async function* () {}"),h=d?d.prototype:void 0,f=h?h.prototype:void 0,y="undefined"==typeof Uint8Array?void 0:p(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":s("async function () {}"),"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":f?p(f):void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":s("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?p(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":u,"%TypedArray%":y,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(43),S=r(55),_=b.call(Function.call,Array.prototype.concat),E=b.call(Function.apply,Array.prototype.splice),v=b.call(Function.call,String.prototype.replace),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,C=function(e){var t=[];return v(e,w,(function(e,r,n,o){t[t.length]=n?v(o,T,"$1"):r||e})),t},R=function(e,t){var r,o=e;if(S(g,o)&&(o="%"+(r=g[o])[0]+"%"),S(m,o)){var s=m[o];if(void 0===s&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:s}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var r=C(e),n=r.length>0?r[0]:"",o=R("%"+n+"%",t),s=o.name,c=o.value,u=!1,l=o.alias;l&&(n=l[0],E(r,_([0,1],l)));for(var p=1,d=!0;p<r.length;p+=1){var h=r[p];if("constructor"!==h&&d||(u=!0),S(m,s="%"+(n+="."+h)+"%"))c=m[s];else if(null!=c){if(a&&p+1>=r.length){var f=a(c,h);if(d=!!f,!t&&!(h in c))throw new i("base intrinsic for "+e+" exists, but the property is not available.");c=d&&"get"in f&&!("originalValue"in f.get)?f.get:c[h]}else d=S(c,h),c=c[h];d&&!u&&(m[s]=c)}}return c}},function(e,t,r){"use strict";var n=r(44),o=r(48),i=r(87),s=r(88),a=r(117),c=o.apply(s()),u=function(e,t){return c(Object,arguments)};n(u,{getPolyfill:s,implementation:i,shim:a}),e.exports=u},function(e,t,r){"use strict";var n=r(44),o=r(88);e.exports=function(){var e=o();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},function(e,t,r){"use strict";var n=r(0),o=r(31),i=r(16),s=r.n(i),a=r(18),c=r.n(a),u=r(6),l=r(11),p=r(13),d=r(9);class h extends(Object(u.a)(o.a)){static get styles(){return[...o.a.styles,n.b`
        :host {
          font-weight: normal;
          color: var(--chops-link-color);
          --mr-dropdown-icon-color: var(--chops-link-color);
          --mr-dropdown-anchor-padding: 3px 8px;
          --mr-dropdown-anchor-font-weight: bold;
          --mr-dropdown-menu-min-width: 150px;
          --mr-dropdown-menu-font-size: var(--chops-main-font-size);
          --mr-dropdown-menu-icon-size: var(--chops-main-font-size);
          /* Because we're using a sticky header, we need to make sure the
           * dropdown cannot be taller than the screen. */
          --mr-dropdown-menu-max-height: 80vh;
          --mr-dropdown-menu-overflow: auto;
        }
      `]}static get properties(){return{...o.a.properties,columns:{type:Array},issues:{type:Array},phaseNames:{type:Array},defaultFields:{type:Array},_fieldDefs:{type:Array},_labelPrefixFields:{type:Array},onHideColumn:{type:Object},onShowColumn:{type:Object}}}constructor(){super(),this.label="Show columns",this.icon="more_horiz",this.columns=[],this.issues=[],this.phaseNames=[],this.defaultFields=[],this._fieldDefs=[],this._labelPrefixFields=[],this._queryParams={},this._page=s.a,this.onHideColumn=null,this.onShowColumn=null}stateChanged(e){this._fieldDefs=l.h(e)||[],this._labelPrefixFields=l.l(e)||[],this._queryParams=p.i(e)}update(e){this.issues.length?this.items=this.columnOptions():this.items=this.columnOptionsEzt(this.defaultFields,this._fieldDefs,this._labelPrefixFields,this.columns,this.phaseNames),super.update(e)}columnOptions(){const e=new Set(this.defaultFields);this.issues.forEach(t=>{Object(d.i)(t).forEach(t=>{e.add(t)})}),this.columns.forEach(t=>e.delete(t));const t=[...e].sort();return[...this.columns.map((e,t)=>({icon:"check",text:e,handler:()=>this._removeColumn(t)})),...t.map(e=>({icon:"",text:e,handler:()=>this._addColumn(e)}))]}columnOptionsEzt(e,t,r,n,o){const i=new Set(n.map(e=>e.toLowerCase())),s=new Set;e.forEach(e=>this._addUnselectedField(s,e,i)),t.forEach(e=>{const{fieldRef:t,isPhaseField:r}=e,{fieldName:n,type:a}=t;r?o.forEach(e=>{this._addUnselectedField(s,`${e}.${n}`,i)}):(this._addUnselectedField(s,n,i),a===d.g.APPROVAL_TYPE&&this._addUnselectedField(s,n+"-Approver",i))}),r.forEach(e=>this._addUnselectedField(s,e,i));const a=[...s];return a.sort(),[...n.map((e,t)=>({icon:"check",text:e,handler:()=>this._removeColumn(t)})),...a.map(e=>({icon:"",text:e,handler:()=>this._addColumn(e)}))]}_addUnselectedField(e,t,r){r.has(t.toLowerCase())||e.add(t)}_removeColumn(e){if(this.onHideColumn&&!this.onHideColumn(this.columns[e]))return;const t=[...this.columns];t.splice(e,1),this._reloadColspec(t)}_addColumn(e){this.onShowColumn&&!this.onShowColumn(e)||this._reloadColspec([...this.columns,e])}_reloadColspec(e){this._updateQueryParams({colspec:e.join(" ")})}_updateQueryParams(e){const t={...this._queryParams,...e};this._page(`${this._baseUrl()}?${c.a.stringify(t)}`)}_baseUrl(){return window.location.pathname}}customElements.define("mr-show-columns-dropdown",h)},,,,,function(e,t,r){"use strict";var n=r(0),o=r(6),i=r(10),s=r(9),a=r(21);const c=[s.b,"a_deleted_user"];class u extends(Object(o.a)(n.a)){static get styles(){return[a.a,n.b`
        :host {
          display: inline-block;
          white-space: nowrap;
        }
        i.inline-icon {
          font-size: var(--chops-icon-font-size);
          color: #B71C1C;
          vertical-align: bottom;
          cursor: pointer;
        }
        i.material-icons[hidden] {
          display: none;
        }
        .availability-notice {
          color: #B71C1C;
          font-weight: bold;
        }
      `]}static get properties(){return{referencedUsers:{type:Object},showAvailabilityIcon:{type:Boolean},showAvailabilityText:{type:Boolean},userRef:{type:Object,attribute:"userref"}}}constructor(){super(),this.userRef={},this.referencedUsers=new Map,this.showAvailabilityIcon=!1,this.showAvailabilityText=!1}stateChanged(e){this.referencedUsers=i.D(e)}render(){const e=this._getAvailability(),t=this._getUserLink();return n.c`
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
            rel="stylesheet">
      <i
        id="availability-icon"
        class="material-icons inline-icon"
        title="${e}"
        ?hidden="${!(this.showAvailabilityIcon&&e)}"
      >schedule</i>
      <a
        id="user-link"
        href="${t}"
        title="${this.userRef.displayName}"
        ?hidden="${!t}"
      >${this.userRef.displayName}</a>
      <span
        id="user-text"
        ?hidden="${t}"
      >${this.userRef.displayName}</span>
      <div
        id="availability-text"
        class="availability-notice"
        title="${e}"
        ?hidden="${!(this.showAvailabilityText&&e)}"
      >${e}</div>
    `}_getAvailability(){if(!this.userRef||!this.referencedUsers)return"";return(this.referencedUsers.get(this.userRef.displayName)||{}).availability}_getUserLink(){return this.userRef&&this.userRef.displayName&&!c.includes(this.userRef.displayName)?"/u/"+(this.userRef.userId||this.userRef.displayName):""}}customElements.define("mr-user-link",u)},function(e,t,r){"use strict";var n=r(0);class o extends n.a{static get properties(){return{focusable:{type:Boolean,reflect:!0},thumbnail:{type:String},buttonIcon:{type:String},buttonLabel:{type:String}}}constructor(){super(),this.focusable=!1,this.thumbnail="",this.buttonIcon="",this.buttonLabel=""}static get styles(){return n.b`
      :host {
        --chops-chip-bg-color: var(--chops-blue-gray-50);
        display: inline-flex;
        padding: 0px 10px;
        line-height: 22px;
        margin: 0 2px;
        border-radius: 12px;
        background: var(--chops-chip-bg-color);
        align-items: center;
        font-size: var(--chops-main-font-size);
        box-sizing: border-box;
        border: 1px solid var(--chops-chip-bg-color);
      }
      :host(:focus), :host(.selected) {
        background: var(--chops-active-choice-bg);
        border: 1px solid var(--chops-light-accent-color);
      }
      :host([hidden]) {
        display: none;
      }
      i.left {
        margin: 0 4px 0 -6px;
      }
      button {
        border-radius: 50%;
        cursor: pointer;
        background: none;
        border: 0;
        padding: 0;
        margin: 0 -6px 0 4px;
        display: inline-flex;
        align-items: center;
        transition: background-color 0.2s ease-in-out;
      }
      button[hidden] {
        display: none;
      }
      button:hover {
        background: var(--chops-gray-300);
      }
      i.material-icons {
        color: var(--chops-primary-icon-color);
        font-size: 14px;
        user-select: none;
      }
    `}render(){return n.c`
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      ${this.thumbnail?n.c`
        <i class="material-icons left">${this.thumbnail}</i>
      `:""}
      <slot></slot>
      ${this.buttonIcon?n.c`
        <button @click=${this.clickButton} aria-label=${this.buttonLabel}>
          <i class="material-icons" aria-hidden="true"}>${this.buttonIcon}</i>
        </button>
      `:""}
    `}update(e){e.has("focusable")&&(this.tabIndex=this.focusable?"0":void 0),super.update(e)}clickButton(e){this.dispatchEvent(new CustomEvent("click-button"))}}customElements.define("chops-chip",o)},function(e,t,r){"use strict";var n=r(0);class o extends n.a{static get styles(){return n.b`
      :host {
        display: flex;
        align-items: center;
        flex-direction: row;
        justify-content: flex-start;
        box-sizing: border-box;
        width: 100%;
        margin: 0.5em 0;
        padding: 0.25em 8px;
        border: 1px solid #B71C1C;
        border-radius: 4px;
        background: #FFEBEE;
      }
      :host([hidden]) {
        display: none;
      }
      i.material-icons {
        color: #B71C1C;
        margin-right: 4px;
      }
    `}render(){return n.c`
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <i class="material-icons">close</i>
      <slot></slot>
    `}}customElements.define("mr-error",o)},,,,function(e,t,r){"use strict";var n=r(0),o=r(56),i=r.n(o),s=r(9),a=r(7),c=r(67),u=r(21);r(124);const l=/[,;\s]+/;class p extends n.a{static get styles(){return n.b`
      :host {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: flex-start;
        border-bottom: var(--chops-accessible-border);
        margin-botton: 2px;
      }
      :host([hidden]) {
        display: none;
      }
      :host([focused]) {
        border-bottom: 1px solid var(--chops-primary-accent-color);
      }
      .immutable {
        font-style: italic;
      }
      chops-chip {
        flex-grow: 0;
        flex-shrink: 0;
        margin: 4px 0;
        margin-right: 4px;
      }
      chops-chip[focusable] {
        cursor: pointer;
      }
      input {
        flex-grow: 1;
        border: 0;
        outline: none;
        /* Give inputs the same vertical sizing styles as chips. */
        padding: 0.1em 4px;
        line-height: 140%;
        margin: 0 2px;
        font-size: var(--chops-main-font-size);
      }
    `}render(){return n.c`
      ${this.immutableValues.map(e=>n.c`
        <chops-chip class="immutable" title="Derived: ${e}">
          ${e}
        </chops-chip>
      `)}
      ${this.values.map((e,t)=>n.c`
        <input
          ?hidden=${t!==this.collapsedChipIndex}
          class="edit-value edit-value-${t}"
          part="edit-field"
          placeholder=${this.placeholder}
          data-ac-type=${this.acType}
          data-index=${t}
          aria-label="${this.name} input #${t}"
          autocomplete=${this.autocomplete}
          .value=${e}
          @keyup=${this._createChipsWhileTyping}
          @blur=${this._stopEditingChip}
          @focus=${this._changeFocus}
        />
        <chops-chip
          ?hidden=${t===this.collapsedChipIndex}
          class="chip-${t}"
          data-index=${t}
          aria-label="${this.name} value #${t} ${e}"
          role="button"
          buttonIcon="close"
          .buttonLabel="Remove ${this.name}"
          @click-button=${this._removeValue}
          @dblclick=${this._editChip}
          @keydown=${this._interactWithChips}
          @blur=${this._changeFocus}
          @focus=${this._changeFocus}
          focusable>${e}</chops-chip>
      `)}
      <input
        class="add-value"
        part="edit-field"
        placeholder=${this.placeholder}
        data-ac-type=${this.acType}
        data-index=${this.values.length}
        aria-label="${this.name} input #${this.values.length+1}"
        autocomplete=${this.autocomplete}
        @keydown=${this._navigateByKeyboard}
        @keyup=${this._createChipsWhileTyping}
        @blur=${this._onBlur}
        @focus=${this._focusAddValue}
      />
    `}static get properties(){return{name:{type:String},immutableValues:{type:Array},initialValues:{type:Array,hasChanged:(e,t)=>!i()(e,t)},values:{type:Array},acType:{type:String},autocomplete:{type:String},placeholder:{type:String},focused:{type:Boolean,reflect:!0},collapsedChipIndex:{type:Number},delimiterRegex:{type:Object},undoStack:{type:Array},undoLimit:{type:Number},_addValueInput:{type:Object},_boundKeyDown:{type:Object}}}constructor(){super(),this.values=[],this.initialValues=[],this.immutableValues=[],this.delimiterRegex=l,this.collapsedChipIndex=-1,this.placeholder="Add value...",this.undoStack=[],this.undoLimit=50,this._boundKeyDown=this._onKeyDown.bind(this)}connectedCallback(){super.connectedCallback(),window.addEventListener("keydown",this._boundKeyDown)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("keydown",this._boundKeyDown)}firstUpdated(){this._addValueInput=this.shadowRoot.querySelector(".add-value")}update(e){e.has("initialValues")&&this.reset(),super.update(e)}updated(e){e.has("values")&&this.dispatchEvent(new Event("change"))}reset(){this.setValues(this.initialValues),this.undoStack=[]}focus(){this._addValueInput.focus()}undo(){if(!this.undoStack.length)return;const e=this.undoStack.pop();this.values=e}_onKeyDown(e){this.focused&&"z"===e.key&&(e.ctrlKey||e.metaKey)&&(this.undo(),e.preventDefault())}getValues(){const e=this._readCollapsedValues(this._addValueInput);return this.values.concat(e)}setValues(e){this._saveValues(e),this._addValueInput&&(this._addValueInput.value="")}_saveValues(e){this.undoStack.push(this.values),this.undoStack.length>this.undoLimit&&this.undoStack.shift(),this.values=[...e]}async _editChip(e){const t=e.target,r=this._indexFromTarget(t);if(r<0||r>=this.values.length)return;this.collapsedChipIndex=r,await this.updateComplete;const n=this.shadowRoot.querySelector(".edit-value-"+r),o=this.values[r];n.value=o,n.focus(),n.select(),this._triggerLegacyAutocomplete({target:n})}_removeValue(e){const t=e.target,r=Number.parseInt(t.dataset.index);r<0||r>=this.values.length||this._saveValues(Object(a.g)(this.values,r,1))}_stopEditingChip(e){if(this.collapsedChipIndex<0)return;const t=e.target;this._convertNewValuesToChips(t),this.collapsedChipIndex=-1,this._changeFocus()}_onBlur(e){this._convertNewValuesToChips(e.target),this._changeFocus()}async _createChipsWhileTyping(e){const t=e.target;t.value.match(this.delimiterRegex)&&(this._convertNewValuesToChips(t),await this.updateComplete,t.hidden||this._triggerLegacyAutocomplete({target:t}))}async _convertNewValuesToChips(e){const t=this._indexFromTarget(e),r=this._readCollapsedValues(e);if(r.length)if(this._saveValues(Object(a.g)(this.values,t,1,...r)),this.collapsedChipIndex===t){this.collapsedChipIndex=-1,await this.updateComplete;const e=this._getChipElement(t);e&&e.focus()}else e.value=""}_changeFocus(){this.shadowRoot.activeElement?(this.focused=!0,this.dispatchEvent(new CustomEvent("focus"))):(this.focused=!1,this.dispatchEvent(new CustomEvent("blur")))}_interactWithChips(e){const t=e.target,r=Number.parseInt(t.dataset.index);if(r<0||r>=this.values.length)return;const n=this._addValueInput;if("Backspace"===e.key)if(this._saveValues(Object(a.g)(this.values,r,1)),this.values.length>0){this._getChipElement(Math.max(0,r-1)).focus()}else n.focus();else if("ArrowLeft"===e.key&&r>0){this._getChipElement(r-1).focus()}else if("ArrowRight"===e.key)if(r>=this.values.length-1)n.focus();else{this._getChipElement(r+1).focus()}else"Enter"!==e.key&&"Space"!==e.code||(this._editChip(e),e.preventDefault())}_navigateByKeyboard(e){const t=e.target,r=t.selectionEnd===t.selectionStart&&0===t.selectionStart,n=this._indexFromTarget(t);if(r)if("Backspace"===e.key)this._saveValues(Object(a.g)(this.values,n-1,1)),e.stopPropagation();else if("ArrowLeft"===e.key&&n>0){this._getChipElement(n-1).focus(),e.stopPropagation()}}_indexFromTarget(e){const t=Number.parseInt(e.dataset.index);return Number.isNaN(t)?this.values.length:t}_readCollapsedValues(e){return e.value.split(this.delimiterRegex).filter(Boolean)}_getChipElement(e){return this.shadowRoot.querySelector(".chip-"+e)}_focusAddValue(e){this._triggerLegacyAutocomplete(e),this._changeFocus()}_triggerLegacyAutocomplete(e){e.avoidValues=this.values.filter((e,t)=>t!==this.collapsedChipIndex),window.ac_keyevent_&&ac_keyevent_(e)}}customElements.define("chops-chip-input",p);r(66);class d extends n.a{static get styles(){return[u.a,n.b`
        :host {
          display: grid;
          grid-gap: var(--mr-input-grid-gap);
          grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        }
        :host([hidden]) {
          display: none;
        }
        .derived {
          font-style: italic;
          color: var(--chops-primary-font-color);
        }
        input {
          box-sizing: border-box;
          padding: var(--mr-edit-field-padding);
          font-size: var(--chops-main-font-size);
        }
        chops-button {
          /* Use grid to determine sizing for button, not
          * chops-button styles. */
          margin-left: unset;
          font-size: var(--chops-main-font-size);
          --chops-button-padding: 0 8px;
          text-align: left;
          justify-content: flex-start;
        }
      `]}render(){return n.c`
      ${this.immutableValues.map(e=>n.c`
        <div class="derived" title="Derived: ${e}">
          ${e}
        </div>
      `)}
      </template>
      ${this._multiInputs.map((e,t)=>n.c`
        <input
          part="edit-field"
          id="multi${t}"
          type=${this.type}
          aria-label="${this.name} input #${t}"
          value=${e}
          @keyup=${this._onKeyup}
          @blur=${this._onBlur}
        />
      `)}
      <chops-button @click=${this._addEntry} class="de-emphasized">
        ${this.addEntryText}
      </chops-button>
    `}static get properties(){return{name:{type:String},initialValues:{type:Array,hasChanged:(e,t)=>!i()(e,t)},immutableValues:{type:Array},type:{type:String},addEntryText:{type:String},_multiInputs:{type:Array}}}constructor(){super(),this.immutableValues=[],this.initialValues=[],this._multiInputs=[""],this.type="text",this.addEntryText="Add entry"}updated(e){e.has("initialValues")&&this.reset()}async reset(){await this._setValuesForInputs(this.initialValues,!0)}getValues(){const e=[];return this.shadowRoot.querySelectorAll("input").forEach(t=>{const r=t.value.trim();r&&e.push(r)}),e}async setValues(e){this.initialValues=e,await this.reset()}_addEntry(){this._multiInputs=this._multiInputs.concat([""])}_onKeyup(){this.dispatchEvent(new CustomEvent("change"))}async _onBlur(){await this._setValuesForInputs(this.getValues()),this.dispatchEvent(new CustomEvent("blur"))}async _setValuesForInputs(e,t){await this.updateComplete,this.shadowRoot.querySelectorAll("input").forEach((t,r)=>{r<e.length?t.value=e[r]:t.value=""}),(t||e.length>=this._multiInputs.length)&&(this._multiInputs=e.concat([""]))}}customElements.define("mr-multi-input",d);class h extends n.a{static get styles(){return n.b`
      input[type="checkbox"] {
        width: auto;
        height: auto;
      }
    `}render(){return n.c`
      ${this.options.map(e=>n.c`
        <label title=${e.docstring}>
          <input
            type="checkbox"
            name=${this.name}
            value=${e.optionName}
            ?checked=${this.values.includes(e.optionName)}
            @change=${this._changeHandler}
          />
          ${e.optionName}
        </label>
      `)}
    `}static get properties(){return{values:{type:Array},options:{type:Array},_inputRefs:{type:Object}}}updated(e){e.has("options")&&(this._inputRefs=this.shadowRoot.querySelectorAll("input")),e.has("values")&&this.reset()}reset(){this.setValues(this.values)}getValues(){if(!this._inputRefs)return;const e=[];return this._inputRefs.forEach(t=>{t.checked&&e.push(t.value.trim())}),e}setValues(e){this._inputRefs&&this._inputRefs.forEach(t=>{t.checked=e.includes(t.value)})}_changeHandler(){this.dispatchEvent(new CustomEvent("change"))}}customElements.define("mr-multi-checkbox",h);const f=[s.g.STR_TYPE,s.g.DATE_TYPE,s.g.URL_TYPE];class y extends n.a{static get styles(){return[u.a,n.b`
        :host {
          display: block;
        }
        :host([hidden]) {
          display: none;
        }
        mr-chip-input,
        mr-multi-input,
        chops-chip-input {
          width: var(--mr-edit-field-width);
        }
        input,
        select {
          width: var(--mr-edit-field-width);
          padding: var(--mr-edit-field-padding);
        }
      `]}render(){return n.c`
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
            rel="stylesheet">
      ${this._renderInput()}
    `}_renderInput(){switch(this._widgetType){case"CHECKBOX_INPUT":return n.c`
          <mr-multi-checkbox
            .options=${this.options}
            .values=${[...this.values]}
            @change=${this._changeHandler}
          ></mr-multi-checkbox>
        `;case"SELECT_INPUT":return n.c`
          <select
            id="editSelect"
            aria-label=${this.name}
            @change=${this._changeHandler}
          >
            <option value="">${s.b}</option>
            ${this.options.map(e=>n.c`
              <option
                value=${e.optionName}
                .selected=${this.value===e.optionName}
              >
                ${e.optionName}
                ${e.docstring?" = "+e.docstring:""}
              </option>
            `)}
          </select>
        `;case"CHIP_INPUT":return n.c`
          <chops-chip-input
            .immutableValues=${this.derivedValues}
            .initialValues=${[...this.initialValues]}
            .name=${this.name}
            .acType=${this.acType}
            .autocomplete=${this._domAutocomplete}
            .placeholder="Add ${this.name}"
            @change=${this._changeHandler}
          ></chops-chip-input>
        `;case"MULTI_INPUT":return n.c`
          <mr-multi-input
            .immutableValues=${this.derivedValues}
            .initialValues=${[...this.initialValues]}
            .name=${this.name}
            .addEntryText="Add ${this.name}"
            .type=${this._html5InputType}
            @change=${this._changeHandler}
          ></mr-multi-input>
        `;case"BASIC_INPUT":return n.c`
          <input
            id="editInput"
            type=${this._html5InputType}
            .value=${this.value}
            autocomplete=${this._domAutocomplete}
            placeholder=${this.placeholder}
            @change=${this._changeHandler}
            @keyup=${this._changeHandler}
            aria-label=${this.name}
          />
          ${this.acType?n.c`
            <mr-autocomplete
              .vocabularyName=${this.acType}
              for="editInput"
            ></mr-autocomplete>
          `:""}
        `;default:return""}}static get properties(){return{acType:{type:String},type:{type:String},multi:{type:Boolean},name:{type:String},placeholder:{type:String},initialValues:{type:Array,hasChanged:(e,t)=>!i()(e,t)},values:{type:Array},derivedValues:{type:Array},options:{type:Array},_checkboxRef:{type:Object},_selectRef:{type:Object},_multiInputRef:{type:Object},_inputRef:{type:Object}}}constructor(){super(),this.initialValues=[],this.values=[],this.derivedValues=[],this.options=[],this.multi=!1,this.actType="",this.placeholder="",this.type=""}update(e){e.has("initialValues")&&this.reset(),super.update(e)}updated(e){(e.has("type")||e.has("multi"))&&(this._checkboxRef=this.shadowRoot.querySelector("mr-multi-checkbox"),this._selectRef=this.shadowRoot.querySelector("#editSelect"),this._multiInputRef=this.shadowRoot.querySelector("mr-multi-input"),this._chipInputRef=this.shadowRoot.querySelector("chops-chip-input"),this._inputRef=this.shadowRoot.querySelector("#editInput"))}get value(){return this._getSingleValue(this.values)}get _widgetType(){const e=this.type,t=this.multi;return e===s.g.ENUM_TYPE?t?"CHECKBOX_INPUT":"SELECT_INPUT":t?!this.acType&&f.includes(e)?"MULTI_INPUT":"CHIP_INPUT":"BASIC_INPUT"}get _html5InputType(){const e=this.type;return e===s.g.INT_TYPE?"number":e===s.g.DATE_TYPE?"date":"text"}get _domAutocomplete(){return this.acType?"off":""}focus(){const e=this._getInput();e&&e.focus&&e.focus()}_getInput(){switch(this._widgetType){case"CHECKBOX_INPUT":return this._checkboxRef;case"SELECT_INPUT":return this._selectRef;case"MULTI_INPUT":return this._multiInputRef;case"CHIP_INPUT":return this._chipInputRef;case"BASIC_INPUT":default:return this._inputRef}}reset(){this.setValue(this.initialValues)}setValue(e){let t=e;Array.isArray(e)||(t=e?[e]:[]),this.values=[...t];const r=this._getInput();r&&r.setValues&&r.setValues([...this.values])}getValuesAdded(){return this.values&&this.values.length?Object(a.a)(this.values,this.initialValues,a.e):[]}getValuesRemoved(){return this.multi||this.values&&!(this.values.length>0)?Object(a.a)(this.initialValues,this.values,a.e):[]}_changeHandler(e){if(e instanceof KeyboardEvent&&c.a.has(e.key))return;const t=e.target;if(t.getValues)this.values=t.getValues();else{const e=t.value.trim();this.values=e.length?[e]:[]}this.dispatchEvent(new Event("change"))}_getSingleValue(e){return e&&e.length?e[0]:""}}customElements.define("mr-edit-field",y)},,,,function(e,t,r){"use strict";var n=r(0),o=r(18),i=r.n(o),s=r(6),a=r(13),c=r(21);class u extends(Object(s.a)(n.a)){static get properties(){return{currentIndex:{type:Number},totalCount:{type:Number},prevUrl:{type:String},nextUrl:{type:String},listUrl:{type:String},queryParams:{type:Object}}}constructor(){super(),this.currentIndex=null,this.totalCount=null,this.prevUrl=null,this.nextUrl=null,this.listUrl=null,this.queryParams={}}stateChanged(e){this.queryParams=a.i(e)}updated(e){e.has("queryParams")&&this.fetchFlipperData(i.a.stringify(this.queryParams))}fetchFlipperData(e){fetch("detail/flipper?"+e,{credentials:"include",method:"GET"}).then(e=>e.text()).then(e=>{let t;try{t=JSON.parse(e.substr(5))}catch(e){return void console.error("Error parsing JSON response for flipper: "+e)}this._populateResponseData(t)})}_populateResponseData(e){this.totalCount=e.total_count,this.currentIndex=e.cur_index,this.prevUrl=e.prev_url,this.nextUrl=e.next_url,this.listUrl=e.list_url}static get styles(){return[c.a,n.b`
        :host {
          display: flex;
          justify-content: center;
          flex-direction: column;
        }
        /* Use visibility instead of display:hidden for hiding in order to
        * avoid popping when elements are made visible. */
        .row a[hidden], .counts[hidden] {
          visibility: hidden;
        }
        .counts[hidden] {
          display: block;
        }
        .row a {
          display: block;
          padding: 0.25em 0;
        }
        .row a, .row div {
          flex: 1;
          white-space: nowrap;
          padding: 0 2px;
        }
        .row .counts {
          padding: 0 16px;
        }
        .row {
          display: flex;
          align-items: baseline;
          text-align: center;
          flex-direction: row;
        }
        @media (max-width: 960px) {
          :host {
            display: inline-block;
          }
        }
      `]}render(){return n.c`
      <div class="row">
        <a href="${this.prevUrl}" ?hidden="${!this.prevUrl}" title="Prev" class="prev-url">
          &lsaquo; Prev
        </a>
        <div class="counts" ?hidden=${!this.totalCount}>
          ${this.currentIndex+1} of ${this.totalCount}
        </div>
        <a href="${this.nextUrl}" ?hidden="${!this.nextUrl}" title="Next" class="next-url">
          Next &rsaquo;
        </a>
      </div>
      <div class="row">
        <a href="${this.listUrl}" ?hidden="${!this.listUrl}" title="Back to list" class="list-url">
          Back to list
        </a>
      </div>
    `}}window.customElements.define("mr-flipper",u)},function(e,t,r){"use strict";var n=r(0),o=r(18),i=r.n(o),s=r(16),a=r.n(s),c=r(3);class u extends n.a{static get styles(){return n.b`
      :host {
        display: block;
      }
    `}render(){return n.c`
      <canvas></canvas>
    `}static get properties(){return{type:{type:String},data:{type:Object},options:{type:Object},_chart:{type:Object},_chartConstructor:{type:Object}}}constructor(){super(),this.type="line",this.data={},this.options={}}async connectedCallback(){super.connectedCallback();const{default:e}=await r.e(13).then(r.t.bind(null,159,7));this._chartConstructor=e}updated(e){if(this._chartConstructor)if(this._chart)(e.has("type")||e.has("data")||e.has("options"))&&this._updateChart();else{const{type:e,data:t,options:r}=this,n=this.shadowRoot.querySelector("canvas").getContext("2d");this._chart=new this._chartConstructor(n,{type:e,data:t,options:r})}}_updateChart(){this._chart.type=this.type,this._chart.data=this.data,this._chart.options=this.options,this._chart.update()}}customElements.define("chops-chart",u);var l=r(7);const p=Object.freeze({NEXT_MONTH:0,NEXT_QUARTER:1,NEXT_50:2,HIDE:3}),d={animation:!1,responsive:!0,title:{display:!0,text:"Issues over time"},tooltips:{mode:"x",intersect:!1},hover:{mode:"x",intersect:!1},legend:{display:!0,labels:{boxWidth:15}},scales:{xAxes:[{display:!0,type:"time",time:{parser:"MM/DD/YYYY",tooltipFormat:"ll"},scaleLabel:{display:!0,labelString:"Day"}}],yAxes:[{display:!0,ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Value"}}]}},h=["#00838F","#B71C1C","#2E7D32","#00659C","#5D4037","#558B2F","#FF6F00","#6A1B9A","#880E4F","#827717"],f=["#B2EBF2","#EF9A9A","#C8E6C9","#B2DFDB","#D7CCC8","#DCEDC8","#FFECB3","#E1BEE7","#F8BBD0","#E6EE9C"],y=new Set(["start-date","end-date","groupby","labelprefix","q","can"]),m=Object(l.d)(y),g={open:{display:"Is open",value:"open"},owner:{display:"Owner",value:"owner"},comonent:{display:"Component",value:"component"},status:{display:"Status",value:"status"}};class b extends n.a{static get styles(){return n.b`
      :host {
        display: block;
        max-width: 800px;
        margin: 0 auto;
      }
      chops-chart {
        max-width: 100%;
      }
      div#options {
        max-width: 720px;
        margin: 2em auto;
        text-align: center;
      }
      div#options #unsupported-fields {
        font-weight: bold;
        color: orange;
      }
      div.align {
        display: flex;
      }
      div.align #frequency, div.align #groupBy {
        display: inline-block;
        width: 40%;
      }
      div.align #frequency #two-toggle {
        font-size: 95%;
        text-align: center;
        margin-bottom: 5px;
      }
      div.align #time, div.align #prediction {
        display: inline-block;
        width: 60%;
      }
      #dropdown {
        height: 50%;
      }
      div.section {
        display: inline-block;
        text-align: center;
      }
      div.section.input {
        padding: 4px 10px;
      }
      .menu {
        min-width: 50%;
        text-align: left;
        font-size: 12px;
        box-sizing: border-box;
        text-decoration: none;
        white-space: nowrap;
        padding: 0.25em 8px;
        transition: 0.2s background ease-in-out;
        cursor: pointer;
        color: var(--chops-link-color);
      }
      .menu:hover {
        background: hsl(0, 0%, 90%);
      }
      .choice.transparent {
        background: var(--chops-white);
        border-color: var(--chops-choice-color);
        border-radius: 4px;
      }
      .choice.shown {
        background: var(--chops-active-choice-bg);
      }
      .choice {
        padding: 4px 10px;
        background: var(--chops-choice-bg);
        color: var(--chops-choice-color);
        text-decoration: none;
        display: inline-block;
      }
      .choice.checked {
        background: var(--chops-active-choice-bg);
      }
      p .warning-message {
        display: none;
        font-size: 1.25em;
        padding: 0.25em;
        background-color: var(--chops-orange-50);
      }
      progress {
        background-color: var(--chops-white);
        border: 1px solid var(--chops-gray-500);
        margin: 0 0 1em;
        width: 100%;
        visibility: visible;
      }
      ::-webkit-progress-bar {
        background-color: var(--chops-white);
      }
      progress::-webkit-progress-value {
        transition: width 1s;
        background-color: #00838F;
      }
    `}updated(e){e.has("queryParams")&&(this._setPropsFromQueryParams(),this._fetchData())}render(){const e=1===this.progress;return n.c`
      <chops-chart
        type="line"
        .options=${d}
        .data=${this._chartData(this.indices,this.values)}
      ></chops-chart>
      <div id="options">
        <p id="unsupported-fields">
          ${this.unsupportedFields.length?"\n            Unsupported fields: "+this.unsupportedFields.join(", "):""}
        </p>
        <progress
          value=${this.progress}
          ?hidden=${e}
        >Loading chart...</progress>
        <p class="warning-message" ?hidden=${!this.searchLimitReached}>
          Note: Some results are not being counted.
          Please narrow your query.
        </p>
        <p class="warning-message" ?hidden=${!this.maxQuerySizeReached}>
          Your query is too long.
          Showing ${90} weeks from end date.
        </p>
        <p class="warning-message" ?hidden=${!this.dateRangeNotLegal}>
          Your requested date range does not exist.
          Showing ${90} days from end date.
        </p>
        <p class="warning-message" ?hidden=${!this.cannedQueryOpen}>
          Your query scope prevents closed issues from showing.
        </p>
        <div class="align">
          <div id="frequency">
            <label for="two-toggle">Choose date range:</label>
            <div id="two-toggle">
              <chops-button @click="${this._setDateRange.bind(this,180)}"
                class="${180===this.dateRange?"choice checked":"choice"}">
                180 Days
              </chops-button>
              <chops-button @click="${this._setDateRange.bind(this,90)}"
                class="${90===this.dateRange?"choice checked":"choice"}">
                90 Days
              </chops-button>
              <chops-button @click="${this._setDateRange.bind(this,30)}"
                class="${30===this.dateRange?"choice checked":"choice"}">
                30 Days
              </chops-button>
            </div>
          </div>
          <div id="time">
            <label for="start-date">Choose start and end date:</label>
            <br />
            <input
              type="date"
              id="start-date"
              name="start-date"
              .value=${this.startDate&&this.startDate.toISOString().substr(0,10)}
              ?disabled=${!e}
              @change=${e=>this.startDate=b.dateStringToDate(e.target.value)}
            />
            <input
              type="date"
              id="end-date"
              name="end-date"
              .value=${this.endDate&&this.endDate.toISOString().substr(0,10)}
              ?disabled=${!e}
              @change=${e=>this.endDate=b.dateStringToDate(e.target.value)}
            />
            <chops-button @click="${this._onDateChanged}" class=choice>
              Apply
            </chops-button>
          </div>
        </div>
        <div class="align">
          <div id="prediction">
          <label for="two-toggle">Choose prediction range:</label>
          <div id="two-toggle">
            ${this._renderPredictChoice("Future Month",p.NEXT_MONTH)}
            ${this._renderPredictChoice("Future Quarter",p.NEXT_QUARTER)}
            ${this._renderPredictChoice("Future 50%",p.NEXT_50)}
            ${this._renderPredictChoice("Hide",p.HIDE)}
          </div>
        </div>
          <div id="groupBy">
            <label for="dropdown">Choose group by:</label>
            <mr-dropdown
              id="dropdown"
              ?disabled=${!e}
              .text=${this.groupBy.display}
            >
              ${this.dropdownHTML}
            </mr-dropdown>
          </div>
        </div>
      </div>
    `}_renderPredictChoice(e,t){return n.c`
      <chops-button
        @click=${e=>{this.predRange=t,this._fetchData()}}
        class="${this.predRange===t?"checked":""} choice">
        ${e}
      </chops-button>
    `}static get properties(){return{progress:{type:Number},projectName:{type:String},hotlistId:{type:Number},indices:{type:Array},values:{type:Array},unsupportedFields:{type:Array},dateRangeNotLegal:{type:Boolean},dateRange:{type:Number},frequency:{type:Number},queryParams:{type:Object,hasChanged:m}}}constructor(){super(),this.progress=.05,this.values=[],this.indices=[],this.unsupportedFields=[],this.predRange=p.HIDE,this._page=a.a}connectedCallback(){if(super.connectedCallback(),!this.projectName&&!this.hotlistId)throw new Error("Attribute `projectName` or `hotlistId` required.");this._setPropsFromQueryParams(),this._constructDropdownMenu()}_setPropsFromQueryParams(){if(!this.queryParams){const e=i.a.parse(document.location.search.substring(1));if(e.hasOwnProperty("labelPrefix")){const t=e.labelPrefix;e.labelprefix=t,delete e.labelPrefix}this.queryParams=e}this.endDate=b.getEndDate(this.queryParams["end-date"]),this.startDate=b.getStartDate(this.queryParams["start-date"],this.endDate,90),this.groupBy=b.getGroupByFromQuery(this.queryParams)}async _constructDropdownMenu(){const e=await this._getLabelPrefixes();let t=["None","Component","Is open","Status","Owner"];t=t.concat(e);const r=t.map(e=>n.c`
      <option class='menu' @click=${this._setGroupBy}>
        ${e}</option>`);this.dropdownHTML=n.c`${r}`}_changeUrlParams(e){const t=Object(l.o)(`/p/${this.projectName}/issues/list`,this.queryParams,e);this._page(t)}_onDateChanged(){const e={"start-date":this.startDate.toISOString().substr(0,10),"end-date":this.endDate.toISOString().substr(0,10)};this._changeUrlParams(e)}async _fetchData(){this.dateRange=Math.ceil((this.endDate-this.startDate)/864e5),this.dateRange<=0?(this.frequency=7,this.dateRangeNotLegal=!0,this.maxQuerySizeReached=!1,this.dateRange=90):(this.dateRangeNotLegal=!1,this.dateRange>=630?(this.frequency=7,this.maxQuerySizeReached=!0,this.dateRange=630):(this.maxQuerySizeReached=!1,this.dateRange<90?this.frequency=1:this.frequency=7)),this.cannedQueryOpen="2"===this.queryParams.can&&"open"===this.groupBy.value,this.progress=.05;let e=0;const t=b.makeTimestamps(this.endDate,this.frequency,this.dateRange),r=new Map(t.map((e,t)=>[e,t]));this.indices=b.makeIndices(t);const n=b.sortInBisectOrder(t);this.values=new Array(n.length).fill(void 0);const o=n.map(async t=>{const o=await this._fetchDataAtTimestamp(t),i=r.get(t);this.values[i]=o.issues,e+=1;const s=e/n.length;return this.progress=s,o}),i=await Promise.all(o);this.dispatchEvent(new Event("allDataLoaded"));const s=i.reduce((e,t)=>(t.unsupportedField&&(e=e.concat(t.unsupportedField)),e),[]);this.unsupportedFields=Array.from(new Set(s)),this.searchLimitReached=i.some(e=>e.searchLimitReached)}async _fetchDataAtTimestamp(e){const t=this.queryParams.q,r=this.queryParams.can,n={timestamp:e,projectName:this.projectName,query:t,cannedQuery:r,hotlistId:this.hotlistId,groupBy:void 0};""!==this.groupBy.value&&(n.groupBy=this.groupBy.value,"label"===this.groupBy.value&&(n.labelPrefix=this.groupBy.labelPrefix));const o=await c.a.call("monorail.Issues","IssueSnapshot",n);let i;return i=o.snapshotCount?o.snapshotCount.reduce((e,t)=>(void 0!==t.dimension&&(""===this.groupBy.value?e.set("Issue Count",t.count):e.set(t.dimension,t.count)),e),new Map):new Map,{date:1e3*e,issues:i,unsupportedField:o.unsupportedField,searchLimitReached:o.searchLimitReached}}async _getLabelPrefixes(){if(!this.projectName)return[];const e={project_name:this.projectName},t=await c.a.call("monorail.Projects","GetLabelOptions",e),r=new Set;for(let e=0;e<t.labelOptions.length;e++){const n=t.labelOptions[e].label;n.includes("-")&&r.add(n.split("-")[0])}return Array.from(r)}_chartData(e,t){const r=new Map;for(let e=0;e<t.length;e++)void 0!==t[e]&&t[e].forEach((e,t,n)=>r.set(t,[]));let n=0;for(let e=0;e<t.length;e++)void 0!==t[e]?(0===t[e].size&&n++,r.forEach((n,o,i)=>{r.set(o,n.concat([t[e].get(o)||0]))})):n++;if(d.legend.display=!0,n===t.length)return{type:"line",labels:e,datasets:[{label:this.groupBy.labelPrefix,data:Array(e.length).fill(0),backgroundColor:h[0],borderColor:h[0],showLine:!0,fill:!1}]};let o=[];if(r.forEach((e,t,r)=>{o.push({label:t,data:e,backgroundColor:h[o.length%h.length],borderColor:h[o.length%h.length],showLine:!0,fill:!1})}),o=b.getSortedLines(o,10),this.predRange===p.HIDE)return{type:"line",labels:e,datasets:o};let i,s,a,c,u,l,y=[];4*o.length>10?d.legend.display=!1:d.legend.display=!0;for(let t=0;t<o.length;t++)[i,s,a,c]=b.getAllData(e,o[t].data,this.dateRange,this.predRange,this.frequency,this.endDate),u=h[t%h.length],l=f[t%h.length],y=y.concat([{label:o[t].label,backgroundColor:u,borderColor:u,data:i,showLine:!0,fill:!1},{label:o[t].label.concat(" prediction"),backgroundColor:u,borderColor:u,borderDash:[5,5],data:s,pointRadius:0,showLine:!0,fill:!1},{label:o[t].label.concat(" lower error"),backgroundColor:l,borderColor:l,borderDash:[5,5],data:c,pointRadius:0,showLine:!0,hidden:!0,fill:!1},{label:o[t].label.concat(" upper error"),backgroundColor:l,borderColor:l,borderDash:[5,5],data:a,pointRadius:0,showLine:!0,hidden:!0,fill:"-1"}]);return{type:"scatter",datasets:y}}_setGroupBy(e){switch(e.target.text){case"None":this.groupBy={value:void 0};break;case"Is open":this.groupBy={value:"open"};break;case"Owner":case"Component":case"Status":this.groupBy={value:e.target.text.toLowerCase()};break;default:this.groupBy={value:"label",labelPrefix:e.target.text}}this.groupBy.display=e.target.text,this.shadowRoot.querySelector("#dropdown").text=e.target.text,this.shadowRoot.querySelector("#dropdown").close();const t={groupby:this.groupBy.value,labelprefix:this.groupBy.labelPrefix};this._changeUrlParams(t)}_setDateRange(e){this.dateRange!==e&&(this.startDate=new Date(this.endDate.getTime()-864e5*e),this._onDateChanged(),window.getTSMonClient().recordDateRangeChange(e))}static sortInBisectOrder(e){const t=[];if(0===e.length)return t;if(e.length<=2)return e;return[e.shift(),e.pop(),e.splice(e.length/2,1)[0]].concat(b.sortInBisectOrder(e))}static makeTimestamps(e,t,r=90){if(!e)throw new Error("endDate required");const n=Math.round(e.getTime()/1e3),o=[];for(let e=0;e<r;e+=t)o.unshift(n-86400*e);return o}static dateStringToDate(e){if(!e)return null;const t=e.split("-"),r=Number.parseInt(t[0]),n=Number.parseInt(t[1])-1,o=Number.parseInt(t[2]);return new Date(Date.UTC(r,n,o,23,59,59))}static getEndDate(e){if(e){const t=b.dateStringToDate(e);if(t)return t}const t=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),t}static getStartDate(e,t,r){if(e){const t=b.dateStringToDate(e);if(t)return t}return new Date(t.getTime()-864e5*r)}static makeIndices(e){const t={year:"numeric",month:"numeric",day:"numeric"};return e.map(e=>new Date(1e3*e).toLocaleDateString("en-US",t))}static getPredictedData(e,t,r,n,o){let i,s;1===n?(i=e.length,s=r):(i=Math.floor(13),s=7*r-1);const[a,c]=function(e,t){let r,n=0,o=0,i=0,s=0;for(let a=0;a<t;a++)r=e[e.length-t+a],n+=r,o+=a,i+=a*a,s+=a*r;return[(t*s-n*o)/(t*i-o*o),(n*i-o*s)/(t*i-o*o)]}(e,i),u=new Date(o.getTime()+864e5*(1+s)),l=b.makeTimestamps(u,n,s),p=b.makeIndices(l),d=[],h=[];for(let e=0;e<r;e++)d.push(Math.round(100*((e+i)*a+c))/100);for(let e=0;e<i;e++)h.push(Math.round(100*(e*a+c))/100);return[p,d,h]}static getErrorData(e,t,r){const n=[];for(let r=0;r<e.length;r++)n.push(t[t.length-e.length+r]-e[r]);const o=n.map(e=>e*e).reduce((e,t)=>e+t)/t.length;return[r.map(e=>Math.round(100*(e+o))/100),r.map(e=>Math.round(100*(e-o))/100)]}static getAllData(e,t,r,n,o,i){let s;switch(n){case p.NEXT_MONTH:s=1===o?30:4;break;case p.NEXT_QUARTER:s=1===o?90:13;break;case p.NEXT_50:s=Math.floor((r+1)/(2*o))}const[a,c,u]=b.getPredictedData(t,r,s,o,i),[l,d]=b.getErrorData(u,t,c),h=u.length,f=[],y=[],m=[{x:e[t.length-1],y:u[h-1]}],g=[{x:e[t.length-1],y:u[h-1]}];for(let r=0;r<t.length;r++)f.push({x:e[r],y:t[r]});for(let r=0;r<h;r++)y.push({x:e[t.length-h+r],y:Math.max(Math.round(100*u[r])/100,0)});for(let e=0;e<c.length;e++)y.push({x:a[e],y:Math.max(c[e],0)}),m.push({x:a[e],y:Math.max(l[e],0)}),g.push({x:a[e],y:Math.max(d[e],0)});return[f,y,m,g]}static getSortedLines(e,t){if(t>=e.length)return e;return e.slice().sort((e,t)=>{const r=parseInt(e.data.map(e=>e.toString()).reverse().join(""));return parseInt(t.data.map(e=>e.toString()).reverse().join(""))-r}).slice(0,t)}static getGroupByFromQuery(e){const t={label:{display:e.labelprefix,value:"label",labelPrefix:e.labelprefix}};return g[e.groupby]||t[e.groupby]||{display:"None",value:""}}}customElements.define("mr-chart",b)},function(e,t,r){"use strict";var n=r(0),o=r(6),i=r(15);class s extends n.a{static get styles(){return n.b`
      :host {
        --chops-toggle-bg: none;
        --chops-toggle-color: var(--chops-primary-font-color);
        --chops-toggle-hover-bg: rgba(0, 0, 0, 0.3);
        --chops-toggle-focus-border: hsl(193, 82%, 63%);
        --chops-toggle-checked-bg: rgba(0, 0, 0, 0.6);
        --chops-toggle-checked-color: var(--chops-white);
      }
      label {
        background: var(--chops-toggle-bg);
        color: var(--chops-toggle-color);
        cursor: pointer;
        align-items: center;
        padding: 2px 4px;
        border: var(--chops-normal-border);
        border-radius: var(--chops-button-radius);
      }
      input[type="checkbox"] {
        /* We need the checkbox to be hidden but still accessible. */
        opacity: 0;
        width: 0;
        height: 0;
        position: absolute;
        top: -9999;
        left: -9999;
      }
      input[type="checkbox"]:focus + label {
        /* Make sure an outline shows around this element for
        * accessibility.
        */
        box-shadow: 0 0 5px 1px var(--chops-toggle-focus-border);
      }
      input[type="checkbox"]:hover + label {
        background: var(--chops-toggle-hover-bg);
      }
      input[type="checkbox"]:checked + label {
        background: var(--chops-toggle-checked-bg);
        color: var(--chops-toggle-checked-color);
      }
      input[type="checkbox"]:disabled + label {
        opacity: 0.8;
        cursor: default;
        pointer-events: none;
      }
    `}render(){return n.c`
      <input id="checkbox"
        type="checkbox"
        ?checked=${this.checked}
        ?disabled=${this.disabled}
        @change=${this._checkedChangeHandler}
      >
      <label for="checkbox">
        <slot></slot>
      </label>
    `}static get properties(){return{checked:{type:Boolean},disabled:{type:Boolean}}}click(){super.click(),this.shadowRoot.querySelector("#checkbox").click()}_checkedChangeHandler(e){this._checkedChange(e.target.checked)}_checkedChange(e){if(e===this.checked)return;const t=new CustomEvent("checked-change",{detail:{checked:e}});this.dispatchEvent(t)}}customElements.define("chops-toggle",s);class a extends(Object(o.a)(n.a)){render(){return n.c`
      <chops-toggle
        ?checked=${this._codeFont}
        ?disabled=${this._prefsInFlight}
        @checked-change=${this._toggleFont}
        title="Code font"
       >Code</chops-toggle>
    `}static get properties(){return{prefs:{type:Object},userDisplayName:{type:String},initialValue:{type:Boolean},_prefsInFlight:{type:Boolean}}}stateChanged(e){this.prefs=i.j(e),this._prefsInFlight=i.n(e).fetchPrefs.requesting||i.n(e).setPrefs.requesting}constructor(){super(),this.initialValue=!1,this.userDisplayName=""}fetchPrefs(){o.b.dispatch(i.e())}get _codeFont(){const{prefs:e,initialValue:t}=this;return e?"true"===e.get("code_font"):t}_toggleFont(e){const t=e.detail.checked;this.dispatchEvent(new CustomEvent("font-toggle",{detail:{checked:t}}));const r=[{name:"code_font",value:""+t}];o.b.dispatch(i.o(r,!!this.userDisplayName))}}customElements.define("mr-code-font-toggle",a)},,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(16),o=r.n(n),i=(r(68),r(0)),s=(r(129),r(125),r(3)),a=r(9),c=r(50);class u extends i.a{static get styles(){return i.b`
      :host {
        display: block;
        margin-top: 30px;
        position: relative;
      }
      button.clickable-text {
        background: none;
        border: 0;
        color: hsl(0, 0%, 39%);
        cursor: pointer;
        text-decoration: underline;
      }
      .hidden {
        display: none; !important;
      }
      .message {
        background-color: beige;
        width: 500px;
      }
      .note {
        color: hsl(0, 0%, 25%);
        font-size: 0.85em;
        font-style: italic;
      }
      table {
        border: 1px dotted black;
        cellspacing: 0;
        cellpadding: 3;
      }
    `}render(){return i.c`
      <button
        class="js-showApprovals clickable-text"
        ?hidden=${this.approvalsFetched}
        @click=${this.fetchApprovals}
      >Show Approvals</button>
      ${this.approvals.length?i.c`
        <form>
          <table>
            <tbody><tr>
              <th><label for="approvalSelect">Approval:</label></th>
              <td>
                <select id="approvalSelect">
                  ${this.approvals.map(e=>i.c`
                    <option value=${e.fieldRef.fieldName}>
                      ${e.fieldRef.fieldName}
                    </option>
                  `)}
                </select>
              </td>
            </tr>
            <tr>
              <th><label for="approversInput">Approvers:</label></th>
              <td>
                <mr-edit-field
                  id="approversInput"
                  type="USER_TYPE"
                  multi=""
                  name="approver"
                  acType="member"
                ></mr-edit-field>
              </td>
            </tr>
            <tr><th><label for="statusInput">Status:</label></th>
              <td>
                <select id="statusInput">
                  <option>${a.b}</option>
                  ${this.statusOptions.map(e=>i.c`
                    <option value=${e}>${e}</option>
                  `)}
                </select>
              </td>
            </tr>
            <tr>
              <th><label for="commentText">Comment:</label></th>
              <td colspan="4">
                <textarea
                  cols="30"
                  rows="3"
                  id="commentText"
                  placeholder="Add an approval comment"
                ></textarea>
              </td>
            </tr>
            <tr>
              <td>
                <button
                  class="js-save"
                  @click=${this.save}
                >Update Approvals only</button>
              </td>
              <td>
                <span class="note">
                 Note: Some approvals may not be updated if you lack
                 approver perms.
                </span>
              </td>
            </tr>
          </tbody></table>
        </form>
      `:""}
      <div class="message">
        ${this.responseMessage}
        ${this.errorMessage?i.c`
          <mr-error>${this.errorMessage}</mr-error>
        `:""}
      </div>
    `}static get properties(){return{approvals:{type:Array},approvalsFetched:{type:Boolean},statusOptions:{type:Array},localIdsStr:{type:String},projectName:{type:String},responseMessage:{type:String}}}constructor(){super(),this.approvals=[],this.statusOptions=Object.keys(c.f),this.responseMessage=""}get issueRefs(){const{projectName:e,localIdsStr:t}=this;if(!e||!t)return[];const r=[];return t.split(",").forEach(t=>{r.push({projectName:e,localId:t})}),r}fetchApprovals(e){const t={issueRefs:this.issueRefs};s.a.call("monorail.Issues","ListApplicableFieldDefs",t).then(e=>{e.fieldDefs&&(this.approvals=e.fieldDefs.filter(e=>"APPROVAL_TYPE"==e.fieldRef.type)),this.approvals.length||(this.errorMessage="These issues don't have any approvals."),this.approvalsFetched=!0},e=>{this.approvalsFetched=!0,this.errorMessage=e})}save(e){this.responseMessage="",this.errorMessage="",this.toggleDisableForm();const t=this.shadowRoot,r=this.approvals.find(e=>e.fieldRef.fieldName==t.querySelector("#approvalSelect").value),n={issueRefs:this.issueRefs,fieldRef:r.fieldRef,send_email:!0},o=t.querySelector("#commentText").value;o&&(n.commentContent=o);const i={},u=t.querySelector("#statusInput");u.value!==a.b&&(i.status=c.f[u.value]);const l=t.querySelector("#approversInput").getValuesAdded();l.length&&(i.approverRefsAdd=l.map(e=>({displayName:e}))),Object.keys(i).length&&(n.approvalDelta=i),s.a.call("monorail.Issues","BulkUpdateApprovals",n).then(e=>{if(e.issueRefs&&e.issueRefs.length){const n=Array.from(e.issueRefs,e=>e.localId).join(", ");this.responseMessage=`${this.getTimeStamp()}: Updated ${r.fieldRef.fieldName} in issues: ${n} (${e.issueRefs.length} of ${this.issueRefs.length}).`,t.querySelector("form").reset()}else this.errorMessage="User lacks approver perms for approval in all issues.";this.toggleDisableForm()},e=>{this.errorMessage=e,this.toggleDisableForm()})}getTimeStamp(){const e=new Date;return`${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`}toggleDisableForm(){this.shadowRoot.querySelectorAll("input, textarea, select, button").forEach(e=>{e.disabled=!e.disabled})}}customElements.define("mr-bulk-approval-update",u);r(123),r(69),r(89),r(134),r(133),r(135);var l=r(6),p=r(18),d=r.n(p),h=r(13),f=(r(118),r(7));class y extends(Object(l.a)(i.a)){render(){return i.c`
      <mr-show-columns-dropdown
        .defaultFields=${a.a}
        .columns=${this.columns}
        .phaseNames=${this.phaseNames}
        .onHideColumn=${e=>this.onHideColumn(e)}
        .onShowColumn=${e=>this.onShowColumn(e)}
      ></mr-show-columns-dropdown>
    `}static get properties(){return{initialColumns:{type:Array},hiddenColumns:{type:Object},queryParams:{type:Object},colspec:{type:String},phasespec:{type:String}}}constructor(){super(),this.hiddenColumns=new Set,this.queryParams={}}stateChanged(e){this.queryParams=h.i(e)}get columns(){return this.initialColumns.filter((e,t)=>!this.hiddenColumns.has(t))}get initialColumns(){return Object(a.j)(this.colspec)}get phaseNames(){return Object(a.j)(this.phasespec)}onHideColumn(e){const t=this.initialColumns.findIndex(t=>Object(f.e)(t,e));return TKR_toggleColumn("hide_col_"+t),this.hiddenColumns.add(t),this.reflectColumnsToQueryParams(),this.requestUpdate(),!1}onShowColumn(e){const t=this.initialColumns.findIndex(t=>Object(f.e)(t,e));return!(t>=0)||(this.hiddenColumns.delete(t),TKR_toggleColumn("hide_col_"+t),this.reflectColumnsToQueryParams(),this.requestUpdate(),!1)}reflectColumnsToQueryParams(){this.queryParams.colspec=this.columns.join(" "),window.history.replaceState({},"","?"+d.a.stringify(this.queryParams)),l.b.dispatch(h.m(this.queryParams))}}customElements.define("ezt-show-columns-connector",y);var m=r(15),g=r(11);class b extends(Object(l.a)(i.a)){static get properties(){return{projectName:{type:String},userDisplayName:{type:String}}}connectedCallback(){super.connectedCallback(),this.mapUrlToQueryParams()}updated(e){e.has("userDisplayName")&&this.userDisplayName&&this.fetchUserData(this.userDisplayName),e.has("projectName")&&this.projectName&&this.fetchProjectData(this.projectName)}fetchUserData(e){l.b.dispatch(m.c(e))}fetchProjectData(e){l.b.dispatch(g.p(e)),l.b.dispatch(g.f(e))}mapUrlToQueryParams(){const e=d.a.parse((window.location.search||"").substr(1));l.b.dispatch(h.m(e))}}customElements.define("ezt-app-base",b),o()()}]);
//# sourceMappingURL=ezt-element-package.c8c97855a3bbf7ee50e6.min.js.map