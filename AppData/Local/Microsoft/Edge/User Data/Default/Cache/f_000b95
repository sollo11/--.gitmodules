webpackJsonp([3],{"./pages/xo-select-fi/directive.js":function(e,n,t){function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.$xoSelectFiComponent=void 0;var a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s=t("../node_modules/squid/dist/index.js"),o=t("../node_modules/angular/angular.min.js"),r=t("../node_modules/angular-ui-router/release/angular-ui-router.min.js"),l=t("../node_modules/xo-beaver/dist/logger.js"),c=t("../node_modules/xo-models/src/auth/index.js"),d=t("../node_modules/xo-models/src/checkout/index.js"),p=t("../node_modules/xo-models/src/credit/index.js"),u=t("../node_modules/xo-models/src/choice/index.js"),m=t("../node_modules/xo-models/src/fi/index.js"),f=t("../node_modules/xo-models/src/fiMeta/index.js"),g=i(f),h=t("../node_modules/xo-models/src/fi/lib/fiMessages.js");t("./js/lib/index.js"),t("../node_modules/xo-ui-components/src/message/directive.js"),t("../node_modules/xo-ui-components/src/banner/directive.js"),t("../node_modules/xo-title/dist/directive.js"),t("../node_modules/xo-models/src/fi/lib/fiApis.js"),t("../node_modules/xo-ui-components/src/fi-panel/directive.js"),t("../node_modules/xo-ui-components/src/experience/directive.js"),t("../node_modules/xo-device-info/dist/index.js"),t("../node_modules/xo-credit-components/src/xo-credit-offer-banners/gb-banner/xo-credit-example-uk/directive.js"),t("../node_modules/xo-credit-components/src/xo-credit-offer-banners/directive.js"),t("../node_modules/xo-member-components/src/review-paywith/directive.js"),t("../node_modules/xo-page-components/src/marketingOffers/directive.js"),t("../node_modules/xo-page-components/src/notYou/directive.js");var y=t("./pages/xo-select-fi/factory.js"),v=t("./pages/services/cardart-instrument/index.js"),b=t("../node_modules/xo-models/src/experiments/index.js"),C=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(b),I=t("./pages/xo-select-fi/template.html"),x=i(I);t("./pages/xo-select-fi/styles.less");var F=t("./pages/services/shared-util/index.js"),k=t("./pages/services/balance/index.js"),_=n.$xoSelectFiComponent=s.$Component.extend("$xoSelectFiComponent",{tag:"xo-select-fi",template:x.default,props:{token:{type:"var",required:!1}},resolve:{models:function(){return{checkoutSession:d.$CheckoutSessionModel.instance(this.props.token).retrieve(),cart:d.$CheckoutCartModel.instance(this.props.token).retrieve(),auth:c.$AuthModel.instance().retrieve(),checkoutAppData:d.$CheckoutAppDataModel.instance(this.props.token).retrieve(),variant:u.$ChoiceEligibility.instance().getVariant(this.props.token),checkoutPayeeModel:d.$CheckoutPayeeModel.instance(this.props.token).retrieve(),fiMeta:g.default.instance(this.props.token).fetch().catch(o.noop),creditSharedInfo:p.$CreditSharedInfoModel.instance()}},fiSource:function(e){return e.models.then(function(e){return{isCardArtExp:v.$CardArtInstrument.isCardArtEnable(e.fiMeta),isBilling:e.cart&&e.cart.isBilling(),isBillingNoPurchase:e.cart&&e.cart.isBillingNoPurchase()}})},padToggleFeature:function(e){return e.models.then(function(e){var n=void 0;return n=!!e.checkoutSession.fundingOptions.isPadToggleApplicable()&&C.padToggleFeatureSupported(),{enabled:n}})},cpaEligibility:function(e){return e.models.then(function(e){return{isCPAEligible:F.$SharedUtil.isAuthRequiredInAnyFI(e.checkoutSession)||F.$SharedUtil.isAuthDeclinedInstrument(e.checkoutSession)}})},balanceComprehensionBannerExperiment:function(e){return e.models.then(function(e){return e?C.balanceComprehensionBannerExperiment.getTreatment({page:"choice",cart:e.cart,checkoutAppData:e.checkoutAppData,checkoutSession:e.checkoutSession,payee:e.checkoutPayeeModel}).catch(function(){return l.$logger.info("balanceComprehensionBannerExperiment_GET_TREATMENT_ERROR",{page:"choice"}),o.$q.when()}):o.$q.when()})},balanceEligibility:function(e){return e.models.then(function(e){return e?k.$BalanceEligibilityFactory.init({checkoutSession:e.checkoutSession}).then(function(e){return e}).catch(function(e){return l.$logger.warn("AU_BALANCE_ELIGIBILITY_INIT_ERROR",{error:e.toString()||e.stack}),o.$q.when()}):o.$q.when()})}},lifecycle:{enter:function(){this.propValueObj={propHeader:"memberReview.propHead",propVal:"memberReview.propVal",propImage:"https://www.paypalobjects.com/images/checkout/hermes/scr_vp_fprd_shield_bags.png"},this.isMessengerBAIntegration=s.$integration.getConfig("IS_MESSENGER_BA_INTEGRATION"),this.personalizedBanner={show:!1},this.locale=s.$locale,this.isCountryDE="DE"===s.$locale.country,this.addBankAllowed=(0,s.$feature)("addBank")},populate:function(){var e=this,n=this.models,t=n.cart,i=n.checkoutSession,c=this.fiSource,p=c.isCardArtExp,u=c.isBilling,f=c.isBillingNoPurchase,g=this.cpaEligibility.isCPAEligible;this.isCPAEligible=g;var b=function(){return!(!t||!t.grossTotalAmount||"USD"===t.get("grossTotalAmount.currency")||"US"!==s.$locale.country)},C=function(){var e=i.getPlanList();return b()?e.filter(function(e){return"BILL_ME_LATER"!==e.primaryFs.name}):e}();h.$fiMessages.isDeclinedCard(i);var I=i.isCreditDisallowedForMerchant;I&&(this.creditDisallowedMessage={type:"info",msgs:[s.$locale.content.get("memberReview.useDebitCard")]}),this.balanceComprehensionBannerExperiment&&this.balanceComprehensionBannerExperiment.treatment_name&&(this.showBalanceComprehensionBannerTop="Trmt_balance_banner_ramp_hermes_top"===this.balanceComprehensionBannerExperiment.treatment_name,this.showBalanceComprehensionBannerBottom="Trmt_balance_banner_ramp_hermes_bottom"===this.balanceComprehensionBannerExperiment.treatment_name,this.balanceComprehensionBannerMessage={type:"info",msgs:[s.$locale.content.get("billingAgreement.paypalBalanceInfoBanner")]}),this.isBilling=u,this.isBillingNoPurchase=f,this.isReferenceCheckout=!!t.referenceCheckout,this.personalizedBanner.show=this.models.auth.rememberedOT()&&(0,s.$feature)("oneTouchPersonalization")||this.models.auth.isFBSkipLogin(),this.personalizedBanner.isFBSkipLogin=this.models.auth.isFBSkipLogin(),this.showNotYou=this.models.auth&&this.models.auth.showNotYou(),this.formattedNameInformal=(0,s.formatNameInformal)({first_name:this.models.auth.first_name,last_name:this.models.auth.last_name})||this.models.auth.email,"DE"===s.$locale.country&&i.creditOffer&&(this.installment.showPPCAcquisitionRadioButton=!0),this.isIndiaDomesticBilling=u&&"IN"===s.$locale.country&&"IN"===this.models.checkoutAppData.get("merchant.merchant_country","US"),this.isIndiaDomesticBilling?(this.choicePageAddCardContentKey="fundingInstruments.addNewCardBilling",t.isConsumerCountry("IN")&&t.isBilling()&&(t.isChargePatternImmediateOrDeferred()?this.choicePageAddCardContentKey="fundingInstruments.immediate.addNewCardBilling":this.choicePageAddCardContentKey="fundingInstruments.non.immediate.addNewCardBilling")):this.choicePageAddCardContentKey=I?"addCard.addBankDebitCard":"fundingInstruments.addNewCard";var x=this.models.checkoutAppData.get("merchant"),k=x.brand_name||x.merchant_name||"Merchant";this.merchantName=k,this.isIndiaDomesticBilling&&(i.message={type:"info",msgs:[(0,s.$renderContent)("memberReview.billingMerchant",{merchantName:k})]});var _=this.balanceEligibility.eligibility;F.$SharedUtil.isBoolean(_)&&!_&&(i.message={type:"info",msgs:[s.$locale.content.get("compliance.cipIncomplete")]}),p&&l.$logger.info("checkout_fpti",a({from:"CHOICE",to:"prepare_choice"},v.$CardArtInstrument.createPayload({checkoutSession:i,isBillingNoPurchase:f})));var B=function(){if(e.isBillingNoPurchase)return i.get("futurePayment.isCreditInWallet")&&!i.get("futurePayment.isCreditDefault");var n=i.get("fundingOptions.instruments",null);return!(!n||!n.some(function(e){return"BILL_ME_LATER"===e.name&&!e.isPreferred}))};this.showSpecialFinancingBadge=function(){return o.$rootScope.specialFinancingBadge&&B()},this.creditOffer=i.creditOffer||function(){if(e.isBillingNoPurchase)return i.get("futurePayment.isCreditInWallet")&&!i.get("futurePayment.isCreditDefault");var n=i.get("fundingOptions.instruments",null);return!(!n||!n.some(function(e){return"BILL_ME_LATER"===e.name&&!e.selected}))}(),this.showInstallmentsFiTitle=function(){return e.isCountryDE&&e.ppcInstallmentContentReady()},this.getInstallmentsFiTitle=function(){return e.models.creditSharedInfo.getInstallmentOffer()&&e.models.creditSharedInfo.getInstallmentOffer().taglineText?e.models.creditSharedInfo.getInstallmentOffer().taglineText:s.$locale.content.get("memberReview.installmentsTitle")},this.ppcInstallmentContentReady=function(){return e.models.creditSharedInfo.hasInstallmentOffers()&&e.models.creditSharedInfo.hasInstallmentOfferFinancingDetails()},this.continueButtonText=function(){return e.selectedmethod&&"applyForPPCRadio"===e.selectedmethod.index?"DE"===s.$locale.country?s.$locale.content.get("memberReview.bmlContinueToApplication"):s.$locale.content.get("applyForBml.bmlApplyHeadline"):s.$locale.content.get("common.continuetext")};this.ppcCrossCurrencyInfo=function(){if(!e.isBillingNoPurchase&&"GB"===s.$locale.country){var n=i.get("fundingOptions.instruments",null),t=n&&n.filter(function(e){return"BILL_ME_LATER"===e.name&&e.currency_conversion});if(t&&1===t.length){var a=t[0].currency_conversion;return Object.assign({toTargetCurrency:a.to_amount_forex+" "+a.to_currency},{fromUnitCurrency:" 1 "+a.from_currency})}}return null}();var P=this.selectedmethod={index:0,planId:0},$={},A={},w=[],E=this.balanceList=[],M={BILL_ME_LATER:"BILL_ME_LATER",PAD:"PAD",PAYPAL_EXTRAS_MASTERCARD:"PAYPAL_EXTRAS_MASTERCARD"};this.isUSGambling=function(){var n="US"===s.$locale.country,t=e.models.checkoutAppData&&"US"===e.models.checkoutAppData.get("merchant.merchant_country");return e.models.checkoutPayeeModel&&e.models.checkoutPayeeModel.isGambling()&&n&&t};var R=function(e){var n=e.id+e.amount.currency_code.toLowerCase();return e.subtype&&(n+=e.subtype),n},S=function(e,n){var t=R(e.primaryFs);return n?(n.sort(),t+n.join()):t};if(C){var D=i.isMultipleBalancePlan();if(!D){var L=C[0].primaryFs.amount.currency_code;D=C.some(function(e){return e.primaryFs.amount.currency_code!==L||e.secondaryFIs&&(e.secondaryFIs.length>1||e.secondaryFIs[0].amount.currency_code!==L)})}var T={};C.forEach(function(e){var n=e.secondaryFIs||[],t=[];n.forEach(function(e){var n=e.amount.currency_code;if(t.push(n),!A.hasOwnProperty(n)){var i={code:n,checked:!1,enabled:!0,intent:!1,fake:!1};i.amount=D?e.amount.amount_formatted_currency:e.amount.amount_formatted,A[n]=i,E.push(i)}}),"BALANCE"===e.primaryFs.type&&(e.currencies=[e.primaryFs.amount.currency_code].concat(t).join(", ")),$[S(e,t)]=e;var i=R(e.primaryFs);T.hasOwnProperty(i)||(T[i]=1,w.push(e))}),E.sort(function(e,n){return e.code<n.code?-1:1}),this.isMultipleBalance=D,this.padToggleFeature.enabled&&(w=i.fundingOptions.getPadAndIachCombinedPlans(w)),this.primaryList=w}var O=function(e){var n={};for(var t in $)$.hasOwnProperty(t)&&!t.indexOf(e)&&(n[t]=$[t]);return n},N=function(){var n=y.$BalanceFactory.getPadAndCheckboxStatus(e.balanceList,C),t=n.isChecked,i=n.hasPad;e.displayPadMessage=t&&i,e.displayPadLabel=!1===t,y.$BalanceFactory.set({checkbox:t})};this.verifyBalanceWithInstallments=function(){A&&s.$util.forEach(A,function(n,t){n.enabled&&n.checked&&e.selectedmethod&&"applyForPPCRadio"===e.selectedmethod.index&&(n.enabled=!1,n.checked=!1,n.intent=!1,e.displayDeInstallmentWarningMessage=!0)})};var j=function(){if(e.showInstallmentsFiTitle()){var n=!1;A&&s.$util.forEach(A,function(t,i){t.enabled&&t.checked&&e.selectedmethod&&"applyForPPCRadio"===e.selectedmethod.index&&(n=!0,e.selectedmethod.index=0,e.displayDeInstallmentWarningMessage=!0)}),n||(e.displayDeInstallmentWarningMessage=!1)}};this.capUserIntent=function(e,n){var t=A[e];t.enabled&&(t.intent=n),j(),N()};var U=function(e){return!!i.fundingOptions.isMEFT(e)&&C.some(function(n){return e.primaryFs&&e.primaryFs.id===n.primaryFs.id&&i.fundingOptions.isIACH(n)})},H=function(n,t,i){return(n||i)&&e.padToggleFeature.enabled&&!t},W=function(e,n){return!e&&!n};if(this.showPreferredLabel=function(n){var t=i.fundingOptions.isPreferred(n),a=i.fundingOptions.isPAD(n),s=i.fundingOptions.isMEFT(n),o=i.fundingOptions.isIACHWithPad(n),r=U(n);return!e.isBilling&&!e.isReferenceCheckout&&t&&e.preferredFiVariant&&(W(a,r)||H(a,s,o))},this.updateBalances=function(n,t){var a=w[n].primaryFs,o="BANK"===a.type?"BANK":"OTHER",r="BALANCE"===a.type&&a.amount.currency_code,c=R(a),d=O(c);if(!E.length)return void(d.hasOwnProperty(c)&&(P.planId=d[c].planId));var p=Object.keys(d).join(),u=M[a.name]||o,m=[],f=[],g=w[n],h=g.secondaryFIs.length&&"IACH"===g.primaryFs.subtype&&g.primaryFs.padPlanId||!1===g.secondaryFIs&&"PAD"===g.primaryFs.subtype&&g.primaryFs.iachPlanId,y=C.some(function(e){return e.planId===h});if(e.displayDeInstallmentWarningMessage&&(e.displayDeInstallmentWarningMessage=!1),s.$util.forEach(A,function(n,t){var i=n.fake=r===t;if(i&&m.push(t),-1!==p.indexOf(t)||y)if(y&&e.padToggleFeature.enabled)n.enabled=!0,n.checked=n.intent;else if(!1===g.secondaryFIs&&"PAD"===g.primaryFs.subtype)n.enabled=!1,n.checked=!1;else{e.installment=e.installment||{},e.installment.isSplitBalance=!0;var a=!0;for(var s in d)if(d.hasOwnProperty(s)&&-1===s.indexOf(t)){a=!1;break}a?(n.checked=!0,n.enabled=!1,m.push(t)):(n.enabled=!0,n.checked=n.intent)}else n.checked=n.enabled=!1,i||f.push(t)}),"BALANCE"!==a.type&&(m.length||f.length)){var v=[],b=(0,s.$renderContent)("fsMappings."+a.name).string||a.name;l.$logger.info("checkout_fpti",{primary:a.id||a.type,denied:f.join(),forced:m.join()}),[["yes",m],["no",f]].forEach(function(e){var n=e[1],t=n.length;if(t){var i="memberReview."+e[0]+"Bal_"+u,a={fi:b};t>1?(i+="_plural",t>2?(a.code1=n.slice(0,-1).join(", "),a.code2=n[n.length-1]):(a.code1=n[0],a.code2=n[1])):a.code1=n[0],v.push((0,s.$renderContent)(i,a))}}),i.message={msgs:v,type:"info"}}else i.message="";N(),0===e.selectedmethod.planId&&t&&(e.selectedmethod.planId=t.planId)},this.isBillingNoPurchase){var q=i.getSelectedStickyInstrument();q&&(P.planId=q.instrument_id)}else if(E.length)C[0].secondaryFIs&&C[0].secondaryFIs.forEach(function(n){e.capUserIntent(n.amount.currency_code,!0)}),this.updateBalances(0);else{var V=i.plan.id,G=s.$util.findIndex(w,function(e){return e.planId===V})||0,K=w[G];K&&(P.index=G,P.planId=K.planId)}this.getBAPlans=function(){return i.futurePaymentInstruments};var Y=s.$config.choiceExperiment&&s.$config.choiceExperiment.preferredCheckbox||[];this.preferredFiVariant=Y.indexOf(this.models.variant)>-1;var z=function(){var n=void 0;if("applyForPPCRadio"===e.selectedmethod.index)return s.$promise.resolve();if(e.isBillingNoPurchase)n=P.planId;else{var t=P.index,a=w[t],o=E.some(function(e){return e.checked}),c=function(e){return C&&C.find(function(n){return n.primaryFs.id===e.primaryFs.id&&"IACH"===n.primaryFs.subtype&&n.secondaryFIs&&n.secondaryFIs.length})}(a);if(o)c&&(a=c);else if(function(e){return i.fundingOptions.isIACH(e)&&e.secondaryFIs&&e.secondaryFIs.length}(a)){var d=function(e){return C.find(function(n){return n.primaryFs.id===e.primaryFs.id&&(i.fundingOptions.isIACH(n)||i.fundingOptions.isPAD(n))&&!n.secondaryFIs})}(a);d&&(a=d)}var p=[];s.$util.forEach(A,function(e,n){e.checked&&p.push(n)});var u=$[S(a,p)];if(!u){var f=R(a.primaryFs),g=a.primaryFs.id||a.primaryFs.type;if(l.$logger.info("checkout_fpti",{primary:g,denied:p.join()}),p.some(function(e){return u=$[f+e]}),u&&l.$logger.info("checkout_fpti",{primary:g,denied:p.join()}),u||(u=$[f])&&l.$logger.info("checkout_fpti",{primary:g,denied:p.join()}),!u){var h=Object.keys($);u=$[h[s.$util.findIndex(h,function(e){return 0===e.indexOf(f)})]],l.$logger.info("checkout_fpti",{primary:g,forced:E.map(function(e){return e.code}).join()})}}n=u.planId}return e.isBillingNoPurchase&&i.getSelectedStickyInstrument()&&i.getSelectedStickyInstrument().instrument_id!==n?i.action("setStickyFI",{data:{instrument_id:n},success:function(e){return i.message={type:"success",msgKeys:["paymentMethod.paymentMethodUpdated"]},e},DEFAULT:function(){r.$state.go("checkout.review")}}):e.isBillingNoPurchase||i.get("plan.sources")[0].id===n?s.$promise.resolve():i.fundingOptions.action("select",{data:{planId:n},success:function(e){return i.populate(e),e},contingencies:{NEED_AUTHENTICATED_CARD:function(n,t){if(t&&t.resolution){var i=t.resolution.data;i.fundingId&&i.fi&&i.fi.type&&(e.cardModel=new m.$AddCardModel,e.cardModel.id=i.fundingId,e.cardModel.card=new m.$CardModel({number:"xxxx-xxxx-xxxx-"+i.fi.number,type:i.fi.type.toUpperCase(),productType:i.fi.productType}))}return r.$state.go(".confirmUpop"),s.$promise.shortCircuit()},DEFAULT:function(){r.$state.go("checkout.review")}}})};this.continue=function(n){return z().then(function(n){if(l.$logger.debug("xo_credit_banner_monitoring",{tag:"T4"}),i.message="",n&&(e.models.checkoutSession.installments=n.installments),(e.models.checkoutSession.get("plan.paypal_credit")||"applyForPPCRadio"===e.selectedmethod.index)&&l.$logger.info("checkout_fpti",{from:"clickPPCReuse",to:"radio_click"}),(e.models.checkoutSession.get("plan.paypal_credit")||"applyForPPCRadio"===e.selectedmethod.index)&&e.models.checkoutSession.creditInstallmentOffer){var t=e.props.token,a=d.$InstallmentOptionsModel.instance(t),o={isMemberCredit:!0};return(0,s.$populate)(o,{payee:e.models.checkoutPayeeModel,checkoutCart:d.$CheckoutCartModel.instance(t),checkoutAppData:e.models.checkoutAppData}).then(function(){return!!(0,s.$feature)("creditInstallmentOffers")&&a.save({cache:!0,data:o,success:function(e){var n=e.installments&&e.installments[0];return n&&n.installment_options&&n.installment_options.length},contingencies:{DEFAULT:function(){return!1}},error:function(){return!1}})}).then(function(n){return n?e.models.creditSharedInfo.getRedirectToCapeCyco()?r.$state.go("checkout.redirectToCape",{showCapeCyco:!0}):r.$state.go("checkout.chooseCreditOffer"):"applyForPPCRadio"===e.selectedmethod.index?e.isCountryDE&&e.models.creditSharedInfo.hasInstallmentOffers()&&e.models.creditSharedInfo.hasInstallmentOfferFinancingDetails()?r.$state.go("checkout.redirectToCape",{financing_option:e.models.creditSharedInfo.getInstallmentOfferFinancingDetails()}):r.$state.go("checkout.redirectToCape"):r.$state.go("checkout.review")})}return r.$state.go("checkout.review")})}}},controller:["$scope",function(e){o.$rootScope.showFiSelectPage=!0,e.installment=e.installment||{},e.installment.showBanner=!1,e.installment.showCYCO=!1,e.installment.showCreditExample=!1,e.showPPCAcquisitionRadioButton=function(){return e.installment&&e.installment.showPPCAcquisitionRadioButton},e.showCreditPlacement=function(e){return e&&!e.primaryFs.isPinlessDebit&&"BILL_ME_LATER"===e.primaryFs.name}}]});angular.value("$xoSelectFiComponent",_),s.$Component,s.$renderContent,s.$populate,s.$config,s.$feature,s.$integration,s.formatNameInformal,s.$util,s.$locale,s.$promise,o.noop,o.$rootScope,o.$q,r.$state,l.$logger,c.$AuthModel,d.$CheckoutSessionModel,d.$InstallmentOptionsModel,d.$CheckoutPayeeModel,d.$CheckoutCartModel,d.$CheckoutAppDataModel,p.$CreditSharedInfoModel,u.$ChoiceEligibility,m.$AddCardModel,m.$CardModel,h.$fiMessages,y.$BalanceFactory,v.$CardArtInstrument,F.$SharedUtil,k.$BalanceEligibilityFactory},"./pages/xo-select-fi/route.js":function(e,n,t){n.__esModule=!0,n.$SelectFiRoute=void 0;var i=t("../node_modules/squid/dist/index.js"),a=t("./pages/xo-select-fi/directive.js"),s=n.$SelectFiRoute=i.$ComponentRoute.extend("$SelectFiRoute",{path:"selectFi",directive:a.$xoSelectFiComponent,titleContent:"memberReview.selectFi",trackingData:{fptiState:"choose_FI_interstitial",buzname:{fullpage:{pagename:"%::select-fi",pagename2:"%::select-fi:member:hermes:",version:"member:%:"}}},children:[{name:"$xoConfirmUpopRoute",props:function(){return{token:this.props.token,cardmodel:this.cardModel}},lazyRoute:function(){return t.e(1).then(t.bind(null,"../node_modules/xo-wallet-components/src/confirm-upop/route.js"))},slug:"confirmUpop"}]});angular.value("$SelectFiRoute",s),i.$ComponentRoute,a.$xoSelectFiComponent},"./pages/xo-select-fi/styles.less":function(e,n){},"./pages/xo-select-fi/template.html":function(e,n){e.exports='<section id=\'xoSelectFi\' class="review" content tabindex=-1 role="presentation">\n    <xo-title title-txt="{{content(\'memberReview.memberReviewTitle\')}}" class="accessAid"></xo-title>\n\n    <div class="row-fluid justMember">\n        <div class="span14 trayInner reviewSections">\n            <xo-message ng-if="creditDisallowedMessage" data-test-id="creditDisallowedMessage" message="creditDisallowedMessage"></xo-message>\n            <xo-banner ng-if="personalizedBanner.show && !isMessengerBAIntegration">\n                <p class="userEmail" id="reviewUserInfo">\n                    {{ content(!personalizedBanner.isFBSkipLogin ? \'memberReview.loggedInWithOneTouch\' : \'memberReview.loggedInFaceBookBA\', {userName: formattedNameInformal, lastName: models.auth.last_name, firstName: models.auth.first_name}) }}\n                    <span ng-if="showNotYou">\n                        <xo-not-you></xo-not-you>\n                    </span>\n                </p>\n            </xo-banner>\n            <xo-message message="models.checkoutSession.message"></xo-message>\n            <xo-decline-notification ng-if="isCPAEligible" />\n            <div ng-if="!personalizedBanner.show && !isMessengerBAIntegration">\n                <p class="userEmail" id="reviewUserInfo">\n                    {{ content(\'creditcard.hi\', {userName: formattedNameInformal}) }}\n                    <span ng-if="showNotYou">\n                        <xo-not-you></xo-not-you>\n                    </span>\n                </p>\n            </div>\n\n            <div class="reviews reviews_first">\n                <div class="paywith asideView" content>\n                    <div class="trayInner trayInnerDefault multipleFi">\n                        <div class="">\n                            <h4 class="noBottom paymentsHeader alpha">\n                                {{ content(\'memberReview.selectFi\') }}\n                            </h4>\n\n                            <div ng-if="showBalanceComprehensionBannerTop" data-test-id="ppBalanceBanner" class="ppBalanceBanner top">\n                                <xo-message message="balanceComprehensionBannerMessage"></xo-message>\n                            </div>\n\n                            <div\n                                class="split_bal_option"\n                                ng-if="balanceList.length">\n                                <div\n                                    class="sCheckbox checkbox"\n                                    ng-repeat="balance in balanceList track by $index"\n                                    ng-class="{disabled: !balance.enabled}">\n                                    <input\n                                        ng-if="balance.fake"\n                                        type="checkbox"\n                                        disabled="disabled"\n                                        checked="checked">\n                                    <input\n                                        ng-if="!balance.fake"\n                                        id="bal_{{balance.code}}"\n                                        data-test-id="balanceCheckBox"\n                                        type="checkbox"\n                                        ng-model="balance.checked"\n                                        ng-disabled="!balance.enabled"\n                                        value="{{balance.code}}"\n                                        ng-change="capUserIntent(balance.code, balance.checked)">\n                                    <label\n                                        for="bal_{{balance.code}}"\n                                        class="choice-split-balance"\n                                        ng-class="{disabled: !balance.enabled}"\n                                        bind-html-compile="htmlContent(\'memberReview.useBalanceLabel\', { amt: balance.amount })">\n                                    </label>\n                                </div>\n                            </div>\n\n                            <div ng-if="displayPadMessage">\n                                <span class="padWarningMessage">{{ content(\'memberReview.padWarningMsg\') }}</span>\n                            </div>\n\n                            <div ng-if="displayDeInstallmentWarningMessage">\n                                <span data-test-id="balanceDEwarningMessage" class="balanceInstallmentsConflictMessage">{{ content(\'memberReview.balanceInstallmentsConflictMsg\') }}</span>\n                            </div>\n\n                            <ul class="charges">\n                                \x3c!--List of Plans--\x3e\n                                <li role="presentation" class="fundingsource" ng-if="!isBillingNoPurchase" ng-repeat="plan in primaryList track by $index">\n                                    <experience flag=\'cardart\'>\n                                        <div class="row-fluid radioButton fsPanelRadioWrapper">\n                                            <input\n                                                type="radio"\n                                                id="{{plan.planId}}"\n                                                data-test-id="selectFIRadioButton"\n                                                name="selectedFI"\n                                                ng-value="$index"\n                                                ng-model="selectedmethod.index"\n                                                ng-change="updateBalances($index, plan)"\n                                            />\n\n                                            <label class="noBottom" for="{{plan.planId}}">\n                                                <div class="positionDecoupler">\n                                                    <xo-fi-panel fi="plan.primaryFs" plan="plan"\n                                                        show-all-currency-codes="\n                                                            plan.primaryFs.name === \'BALANCE\' &&\n                                                            plan.secondaryFIs[0].name === \'BALANCE\' &&\n                                                            isMultipleBalance"\n                                                        show-currency-code="plan.primaryFs.name === \'BALANCE\' && isMultipleBalance"\n                                                    >\n                                                        <span ng-if="plan.gotDeclined" class="gotDeclinedMessage">\n                                                            {{ content(\'wallet.processorDeclinedCard\') }}\n                                                        </span>\n                                                        <div class="fsSubdetails">\n                                                            <div ng-if="plan.primaryFs.subtype === \'ECHECK\'" class="disclaimer">\n                                                                {{ content(\'paymentMethod.eCheckDescription\') }}\n                                                            </div>\n                                                            <div ng-if="showCreditPlacement(plan)">\n                                                                <xo-credit-offer-banners token="token" reusetext="true"/>\n\n                                                            </div>\n                                                            <div class="conversion leftAlign" data-test-id="selectFiPPCCrossCurrencyRate" ng-if="plan.primaryFs.name === \'BILL_ME_LATER\' && ppcCrossCurrencyInfo">\n                                                                <span class="conversionRateLabel">{{content(\'currencyOptions.paypalRate\')}}</span>\n                                                                <span class="conversionRate">{{content(\'paymentMethod.conversionRate\', {currencyFrom: ppcCrossCurrencyInfo.fromUnitCurrency, currencyTo: ppcCrossCurrencyInfo.toTargetCurrency})}}</span>\n                                                            </div>\n                                                            <span class="preferredLabel" ng-if="!isBilling && plan.primaryFs.isPreferred && preferredFiVariant && plan.primaryFs.subtype !== \'PAD\'">{{ content(\'memberReview.preferred\') }}</span>\n                                                        </div>\n                                                    </xo-fi-panel>\n                                                </div>\n                                            </label>\n                                        </div>\n                                    </experience>\n\n                                    <experience flag=\'!cardart\'>\n                                        <div class="row-fluid radioButton">\n                                            <input\n                                                type="radio"\n                                                id="{{plan.planId}}"\n                                                data-test-id="selectFIRadioButton"\n                                                name="selectedFI"\n                                                ng-value="$index"\n                                                ng-model="selectedmethod.index"\n                                                ng-change="updateBalances($index)"\n                                            />\n\n                                            <label class="noBottom multiFiLabelContainer" for="{{plan.planId}}">\n                                                <div ng-class="{singleInstrumentContainer: !plan.secondaryFIs}" class=\'fiContainer\'>\n                                                    <span class="fsIcon pinlessIcon icon icon-card-half-solid" aria-hidden="true" ng-if="plan.primaryFs.isPinlessDebit"></span>\n                                                    <span class="fsIcon" ng-class="[plan.primaryFs.type, plan.primaryFs.name]" ng-if="!plan.primaryFs.isPinlessDebit"></span>\n                                                    <div class="fsdetails" ng-class="[plan.primaryFs.type]">\n                                                        <div ng-switch="plan.primaryFs.subtype">\n                                                            <div class="fundingContainerPAD" ng-switch-when="PAD">\n                                                                <div ng-if="!padToggleFeature.enabled"><span class="subtype">{{content(\'fundingInstruments.pad\')}}</span></div>\n                                                                <span class="name">{{content(\'fsMappings.\'+plan.primaryFs.name) || plan.primaryFs.name}} </span>\n                                                                <span class="lastdigits" ng-if="plan.primaryFs.lastDigits">x-{{plan.primaryFs.lastDigits}}</span>\n                                                                <div class="iachMeftLabel" ng-if="isCountryDE">{{content(\'fundingInstruments.iach\')}}</div>\n                                                            </div>\n\n                                                            <div ng-switch-default>\n                                                                <span class="fsName" ng-if="plan.primaryFs.isPinlessDebit">{{content(\'fsMappings.PINLESSDEBIT\')}}</span>\n                                                                <span class="fsName" ng-if="!plan.primaryFs.isPinlessDebit">{{content(\'fsMappings.\'+plan.primaryFs.name) || (plan.primaryFs.name)}} &rlm;</span>\n                                                                <span ng-if="plan.primaryFs.name === \'BALANCE\' && isMultipleBalance">({{plan.currencies}})</span>\n                                                                <span class="lastdigits" ng-if="plan.primaryFs.lastDigits">x-{{plan.primaryFs.lastDigits}}</span>\n                                                                <div class="iachMeftLabel" ng-if="isCountryDE  && plan.primaryFs.subtype === \'MEFT\'">{{content(\'fundingInstruments.meft\')}}</div>\n                                                                <div class="iachMeftLabel" ng-if="isCountryDE && plan.primaryFs.subtype === \'IACH\'">{{content(\'fundingInstruments.iach\')}}</div>\n                                                            </div>\n\n                                                        </div>\n                                                        <div ng-if="showPreferredLabel(plan)">\n                                                            <span class="preferredLabel">{{ content(\'memberReview.preferred\') }}</span>\n                                                        </div>\n                                                        <div ng-if="plan.primaryFs.isBillingPreferred">\n                                                            <span class="billingPreferredLabel">{{ content(\'fundingInstruments.billingPreferredFi\', {merchantName: merchantName}) }}</span>\n                                                        </div>\n                                                        <span ng-if="plan.gotDeclined" class="gotDeclinedMessage">\n                                                            {{ content(\'wallet.processorDeclinedCard\') }}\n                                                        </span>\n                                                        <div class="padLabel" ng-if="(plan.primaryFs.subtype === \'PAD\' || plan.primaryFs.padPlanId) && padToggleFeature.enabled && displayPadLabel">\n                                                            <span>{{ content(\'memberReview.padLabel_2\') }}</span>\n                                                        </div>\n                                                    </div>\n\n                                                    <div ng-if="showCreditPlacement(plan)">\n                                                        <xo-credit-offer-banners token="token" reusetext="true"/>\n\n                                                    </div>\n                                                    <div class="conversion leftAlign" data-test-id="selectFiPPCCrossCurrencyRate" ng-if="plan.primaryFs.name === \'BILL_ME_LATER\' && ppcCrossCurrencyInfo">\n                                                        <span class="conversionRateLabel">{{content(\'currencyOptions.paypalRate\')}}</span>\n                                                        <span class="conversionRate">{{content(\'paymentMethod.conversionRate\', {currencyFrom: ppcCrossCurrencyInfo.fromUnitCurrency, currencyTo: ppcCrossCurrencyInfo.toTargetCurrency})}}</span>\n                                                    </div>\n                                                </div>\n                                            </label>\n                                        </div>\n                                        <div class="fsSubdetails">\n                                            <div ng-if="plan.primaryFs.subtype === \'ECHECK\'" class="disclaimer">\n                                                {{ content(\'paymentMethod.eCheckDescription\') }}\n                                            </div>\n                                        </div>\n                                    </experience>\n                                </li>\n                                <li role="presentation" class="fundingsource" ng-if="isBillingNoPurchase" ng-repeat="stickyFI in getBAPlans() track by $index">\n                                    <experience flag="!cardart">\n                                        <div class="row-fluid radioButton">\n                                            <input\n                                                type="radio"\n                                                id="{{stickyFI.instrument_id}}"\n                                                data-test-id="selectFIRadioButton"\n                                                name="selectedFI"\n                                                ng-value="stickyFI.instrument_id"\n                                                ng-model="selectedmethod.planId"\n                                            />\n                                            <label class="noBottom multiFiLabelContainer" for="{{stickyFI.instrument_id}}">\n                                                <div class="fiContainer">\n                                                    <span class="fsIcon" ng-class="[stickyFI.type, stickyFI.name, stickyFI.card_type]"></span>\n                                                    <div class="fsdetails">\n                                                        <span ng-switch="fundingsource.subtype">\n                                                            <span ng-switch-default>\n                                                                <span class="name">{{content(\'fsMappings.\'+ stickyFI.name) || stickyFI.name}}</span>\n                                                                <span class="lastdigits" ng-if="stickyFI.last4">x-{{stickyFI.last4}}</span>\n                                                            </span>\n                                                        </span>\n                                                    </div>\n                                                    <div ng-if="stickyFI.type === \'BILL_ME_LATER\'">\n                                                        <xo-credit-offer-banners token="token" reusetext="true"/>\n\n                                                    </div>\n                                                </div>\n                                            </label>\n                                        </div>\n                                    </experience>\n                                    <experience flag="cardart">\n                                        <div class="row-fluid radioButton">\n                                            <input\n                                                type="radio"\n                                                id="{{stickyFI.instrument_id}}"\n                                                data-test-id="selectFIRadioButton"\n                                                name="selectedFI"\n                                                ng-value="stickyFI.instrument_id"\n                                                ng-model="selectedmethod.planId"\n                                            />\n\n                                            <label class="noBottom" for="{{stickyFI.instrument_id}}">\n                                                <div class="positionDecoupler">\n                                                    <xo-fi-panel fi="stickyFI" plan="plan">\n                                                        <div class="fsSubdetails">\n                                                            <div ng-if="stickyFI.type === \'BILL_ME_LATER\'">\n                                                                <xo-credit-offer-banners token="token" reusetext="true"/>\n\n                                                            </div>\n                                                        </div>\n                                                    </xo-fi-panel>\n                                                </div>\n                                    </experience>\n                                </li>\n\n                                <li role="presentation" class="fundingsource" ng-if="showPPCAcquisitionRadioButton()">\n                                    <div ng-show="ppcInstallmentContentReady()">\n                                        <h2 class="paymentsHeader alpha" ng-bind-html="getInstallmentsFiTitle()"></h2>\n                                        <div class="row-fluid radioButton">\n                                            <input type="radio" id="applyForPPCRadio" name="selectedFI" value="applyForPPCRadio"\n                                                ng-model="selectedmethod.index" ng-change="verifyBalanceWithInstallments()"\n                                                data-test-id="deInstallmentsFI"/>\n                                            <label class="noBottom" for="applyForPPCRadio">\n                                                <xo-credit-offer-banners token="token" promotion="promotion" bmlaction="bmlaction" installment="installment"\n                                                    selectedmethod="selectedmethod" radio="true">\n                                                </xo-credit-offer-banners>\n                                            </label>\n                                        </div>\n                                    </div>\n                                </li>\n\n                            </ul>\n\n                            <div ng-if="showBalanceComprehensionBannerBottom" data-test-id="ppBalanceBanner" class="ppBalanceBanner bottom">\n                                <xo-message message="balanceComprehensionBannerMessage"></xo-message>\n                            </div>\n\n                            <div class="multipleFi addCard" ng-if="!isUSGambling() && !addBankAllowed">\n                                <a track-link="choose_FI_interstitial" ui-sref="checkout.pageAddCard.addCardFlow.addCard" class="addCardLink" role="button" data-test-id="addCardLink">\n                                    <span class="plusicon"></span>\n                                    <p class="addOption">\n                                        <span class="name">{{content(choicePageAddCardContentKey)}}</span>\n                                    </p>\n                                </a>\n                            </div>\n\n                            <div class="multipleFi addCard" ng-if="!isUSGambling() && addBankAllowed">\n                                <a track-link="choose_FI_interstitial" ui-sref="checkout.pageAddFi.bank.add" class="addCardLink" role="button" data-test-id="addCardLink">\n                                    <span class="plusicon"></span>\n                                    <p class="addOption">\n                                        <span class="name">{{ content(\'common.addNew\') }}</span>\n                                    </p>\n                                </a>\n                            </div>\n\n                            <div ng-if="creditOffer && !isCountryDE" class="PPCOffers">\n                                <xo-credit-offer-banners token="token" promotion="promotion" bmlaction="bmlaction" installment="installment"\n                                    selectedmethod="selectedmethod">\n                                </xo-credit-offer-banners>\n                            </div>\n                        </div>\n                    </div>\n                    <div id="button" class="buttons reviewButton">\n                        <button track-submit=\'choose_FI_interstitial\' class="btn full confirmButton continueButton" ng-click="continue()">{{continueButtonText()}}</button>\n                    </div>\n\n                    <xo-credit-example-uk ng-if="models.creditSharedInfo.shouldShowCreditExample()" />\n\n                </div>\n            </div>\n        </div>\n        <div class="span10">\n            <xo-marketing-offers placement-code="\'202003\'"\n                                 token="token"\n                                 page-name="\'HERMES_RYI_PAGE\'"\n                                 title-txt-property="propValueObj.propHeader"\n                                 subtitle-property="propValueObj.propVal"\n                                 background-image= "propValueObj.propImage"\n            >\n            </xo-marketing-offers>\n        </div>\n    </div>\n    <div ui-view></div>\n</section>\n'}});
//# sourceMappingURL=3.4725191a03a33ff03b14.js.map