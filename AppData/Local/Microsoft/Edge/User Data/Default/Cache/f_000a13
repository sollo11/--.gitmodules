define("postcookietoss.inline",["wliveloaded"],function(){!function(){function e(){var e=s("cookieStyle"),t=new RegExp("^http(?:s)?://(?:[A-Za-z0-9]*[.])*livefilestore(?:-int)?[.]com/","i");if(e){e.parentNode.removeChild(e);for(var n=document.getElementsByTagName("img"),i=0,r=n.length;r>i;i++){var a=n[i];a.src&&t.test(a.src)&&(a.style.visiblity="hidden",u.push(a))}}else o()}function t(){n(u,0,u.length),o()}function n(e,t,o){for(var r=Math.min(o,t+l);r>t;){var s=e[t];i(s),t++}setTimeout(function(){n(e,t,o)},0)}function i(e){function t(){e.style.visiblity="visible",i.onload=i.onerror=i.onabort=null,e.onload=e.onerror=e.onabort=null,i=e=null}function n(e){var n=e.src;e.onload=e.onerror=e.onabort=t,e.src=n+(n.indexOf("?")<0?"?":"&")+"r"+Math.random()}var i=new Image;i.onload=function(){e.src=e.src,t()},i.onerror=function(){n(e)},i.onabort=function(){t()},i.src=e.src}function o(){var e=s("temp_slideshow"),t=s("sl_slideshow"),n=s("slideshowTemplate");e&&t&&n&&(t.innerHTML=n.innerHTML,e.parentNode.removeChild(e))}var r=window,s=function(e){return r.document.getElementById(e)},a=r.cookieToss,l=10,u=[];!function c(){var n=document.getElementById("c_content");n&&n.parentNode&&n.parentNode.nextSibling?(e(),a&&(r.cookieToss.e?(r.cookieToss.e=0,r.cookieToss.c=1,t()):r.cookieToss.c||(r.cookieToss.c=t))):setTimeout(c,100)}()}()}),define("livefolders",["postcookietoss.inline"],function(){var e=window;e.registerNamespace||(e.registerNamespace=Function.registerNamespace=function(e){for(var t=window,n=e.split("."),i=n.length,o=0;i>o;o++){var r=n[o];t[r]||(t[r]={}),t=t[r]}}),e.stopDefaultAction=function(e){return e&&"function"==typeof e.preventDefault?e.preventDefault():window.event.returnValue=!1,!1},e._ge=function(e){return"object"==typeof e?e:document.getElementById(e)},e.loadScript=function(e){var t=document,n=t.getElementsByTagName("head")[0],i=t.createElement("script");return i.src=e,n.appendChild(i),i},e.getText=function(e){return document.all?e.innerText:e.textContent},e.setText=function(e,t){document.all?e.innerText=t:e.textContent=t},e.isDescendantOf=function(e,t){for(e=e.parentNode;null!=e;){if(e.tagName==t)return!0;e=e.parentNode}return!1},e.setDisplay=function(e,t){e.style.display=t?"block":"none"},e.resetDisplay=function(e){e.style.display=""},e.setVisibility=function(e,t){e.style.visibility=t?"visible":"hidden"},e.resetVisibility=function(e){e.style.visibility=""},e.getTickCount=function(){var e=new Date;return e.getTime()},e.isNullOrEmpty=function(e){return void 0===e||null===e||0===e.length},e.first=function(e){return e&&e[0]?e[0]:null},Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n=this.length;if(0!=n){t=t||0,0>t&&(t=Math.max(0,n+t));for(var i=t;n>i;i++)if(this[i]==e)return i}return-1}),e.HideElement=function(e){e&&(addCssClass(e,"displayInvisible"),removeCssClass(e,"displayVisible"))},e.ShowElement=function(e){e&&(removeCssClass(e,"displayInvisible"),addCssClass(e,"displayVisible"))},e.selectNodes=function(e,t,n,i){t||(t=function(){return!0}),n||(n="*");var o=[];if(document.evaluate&&i)for(var r=document.evaluate(i,e,null,0,null),s=r.iterateNext();s;)o.push(s),s=r.iterateNext();else for(var a=e.getElementsByTagName(n),l=a.length,u=0;l>u;u++)t(a[u])&&o.push(a[u]);return o},e.elementHasClassName=function(e,t){return(e.className?e.className.split(" "):[]).indexOf(t)>-1},e.getChildByClassName=function t(e,n){if(e&&e.childNodes)for(var i=e.childNodes.length,o=0;i>o;o++){if(elementHasClassName(e.childNodes[o],n))return e.childNodes[o];var r=t(e.childNodes[o],n);if(null!=r)return r}return null},e.getChildrenByClassName=function n(e,t,i){if(i||(i=[]),e&&e.childNodes)for(var o=e.childNodes.length,r=0;o>r;r++)elementHasClassName(e.childNodes[r],t)&&(i[i.length]=e.childNodes[r]),n(e.childNodes[r],t,i);return i},e.addCssClass=function(e,t){if(null!=e.className){var n=e.className?e.className.split(" "):[],i=n.indexOf(t);-1===i&&(n.push(t),e.className=n.join(" "))}else e.className=t},e.removeCssClass=function(e,t){if(null!=e.className){var n=e.className.split(" "),i=n.indexOf(t);-1!==i&&(n.splice(i,1),e.className=n.join(" "))}},e.prepareSubmitOnce=function(e){var t=!e.submitted;return t&&(e.submitted=!0,disableButton("actionPageSubmit"),disableButton("secondaryActionPageSubmit"),disableButton("cancelSubmit")),t},e.trySubmit=function(e,t){var n=document.getElementById("aspnetForm");if(n.onsubmit()){if(e){var i=_ge("postVerb");i&&(i.value=e)}n.target=t||"_top",n.submit()}},e.trySubmitData=function(e,t){if(document.getElementById("aspnetForm").onsubmit()){if(t){var n=_ge("postVerbData");n&&(n.value=t)}if(e){var i=_ge("postVerb");i&&(i.value=e)}document.getElementById("aspnetForm").submit()}},e.focusAndSelectTextField=function(e){e&&(e.focus(),e.select())},e.runBatchOperation=function(e,t,n,i){var o=20,r=e.length,s=0,a=10;null!==n&&void 0!==n||(n=function(){});var l=function(){for(var u=0;o>u&&r>s;u++,s++)t(e[s],i,s);r>s?window.setTimeout(l,a):s==r&&n(i)};window.setTimeout(l,a)},e.hideButton=function(e){e=_ge(e),null!=e&&(e.style.display="none")},e.showButton=function(e){e=_ge(e),null!=e&&(e.style.display="")},e.disableButton=function(e){e=_ge(e),null!=e&&(e.disabled=!0)},e.enableButton=function(e){e=_ge(e),null!=e&&(e.disabled=!1)},e.callHandlerOnEnterKey=function(e,t){e=e?e:window.event?window.event:"";var n=e.target||e.srcElement,i=3==e.keyCode||13==e.keyCode||13==e.which;return i&&(e.preventDefault&&e.preventDefault(),window.event&&!e.which&&(window.event.keyCode=0),t&&t(n)),!i},e.callHandlerOnEscKey=function(e,t){e=e?e:window.event?window.event:"";var n=e.target||e.srcElement,i=27==e.keyCode;return i&&(e.preventDefault&&e.preventDefault(),window.event&&!e.which&&(window.event.keyCode=0),t&&t(n)),!i},e.purgeHandlers=function i(e){var t,n,o=e.attributes;if(o)for(t=0;t<o.length;t++)n=o[t].name,"function"==typeof e[n]&&(e[n]=null);if(o=e.childNodes)for(t=0;t<o.length;t++)i(e.childNodes[t])},e.loadAdImage=function(e,t,n){var i=_ge(e),o=document.createElement("img");o.alt=t,o.src=n,i.appendChild(o),i.style.visibility="visible"},e.isChildOf=function(e,t){for(;t&&t!==e&&t!=document;)t=t.parentNode;return t===e},e.isMenuOpen=function(e){return elementHasClassName(e,"on")},e.closeMenu=function(e){e.style.display="none",removeCssClass(e,"on")},e.toggleMenu=function(e,t){var n=_ge(t);if(isMenuOpen(n))closeMenu(n);else{var i=n.style,o=_ge(e);i.top=o.offsetHeight+o.offsetTop+"px",i.left=o.offsetLeft+"px",i.display="block",addCssClass(n,"on")}},e.hideOnEsc=function(e,t){var n=_ge(t);e=e?e:window.event?window.event:"",27==e.keyCode&&isMenuOpen(n)&&closeMenu(n)},e.hideOnMouseUp=function(e,t,n){var i=_ge(n),o=_ge(t);e=e?e:window.event?window.event:"";var r=e.target||e.srcElement;isChildOf(i,r)||isChildOf(o,r)||!isMenuOpen(i)||closeMenu(i)},e.Range=function(e,t){this.start=e,this.end=t,this.contains=function(e){return this.isValid()&&e>=this.start&&e<=this.end},this.isValid=function(){return-1!=this.start}},e.downloadToPhotoGallery=function(e,t,n,i,o,r,s){isDownloadToWlpgActive&&(wlpgWave3Installed?_ge(i).src="wlpg: /c "+e+" /r "+t+" /t "+n:wlpgWave2Installed?1==confirm(o+"\n\n"+r)&&window.open(s):window.open(s)),isDownloadToWlpgActive=!1,setTimeout(function(){isDownloadToWlpgActive=!0},3e3)},e.doOrderPrints=function(e){function t(){r&&(clearInterval(s),s=null,r.focus())}var n=e,i="windows_live_order_prints",o="width=510,height=230,top=120,channelmode=0,dependent=0,directories=0,fullscreen=0,location=0,menubar=0,resizable=1,scrollbars=1,status=0,toolbar=0",r=window.open(n,i,o),s=setInterval(t,50);$menu.closeAll()},e.getPosition=function(e){var t=0,n=0;if(e){for(var i=e;i;i=i.offsetParent)t+=i.offsetTop,n+=i.offsetLeft;for(i=e.parentNode;i&&i!=document.body;i=i.parentNode)i.scrollTop&&(t-=i.scrollTop),i.scrollLeft&&(n-=i.scrollLeft)}return{left:n,top:t}},e.getViewportDimensions=function(){var e,t,n=document.documentElement,i=document.body;return self.innerHeight&&self.innerWidth?(e=self.innerWidth,t=self.innerHeight):n&&n.clientHeight?(e=n.clientWidth,t=n.clientHeight):i&&(e=i.clientWidth,t=i.clientHeight),{width:e,height:t}},e.setCookie=function(e,t,n,i,o,r){var s;if(n){var a=new Date;a.setTime(a.getTime()),n=1e3*n*60*60*24,s=new Date(a.getTime()+n)}document.cookie=e+"="+escape(t)+(n?";expires="+s.toGMTString():"")+(i?";path="+i:"")+(o?";domain="+o:"")+(r?";secure":"")},e.getCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null},registerNamespace("Microsoft.Live.Folders.Web.Scripts"),window.registerCommand&&(window.registerCommand("trySubmit",trySubmit),window.registerCommand("trySubmitData",trySubmitData))}),define("popover",["jquery-1.7.2","registernamespace"],function(){!function(e){registerNamespace("$UI"),window.$UI.Dialog=function(t,n,i,o,r,s){function a(){if(p){var e=p.style,t=$B.IE&&7==$B.V?m.offsetLeft/100:1;0==t&&(t=1),$Debug.trace("zoomAmount: ",t),$Debug.trace("scrollLeft: ",T.scrollLeft),$B.IE&&6==$B.V&&(e.width=T.scrollWidth-3+"px",e.pixelTop=Math.max(0,T.scrollTop/t)),e.pixelHeight=C.clientHeight/t,e.pixelWidth=C.clientWidth/t}}function l(e){var t;t=e.target==h?$UI.Dialog.findFocusableElement(B,g,!1):$UI.Dialog.findFocusableElement(B,h,!0),t&&setTimeout(function(){try{t.focus()}catch(e){}},0)}function u(){e(window).bind({"resize.ext":c,"scroll.ext":c})}function c(t){e(window).unbind(".ext",c),E.recalc(!1),u()}function d(){if($B.IE&&$B.V<7){v=b.getElementsByTagName("select");for(var e=B.getElementsByTagName("select"),t=0;t<v.length;t++){for(var n=!1,i=0;i<e.length;i++)if(v[t]==e[i]){n=!0;break}n||(v[t].wlppHide=v[t].style.visibility,v[t].style.visibility="hidden")}}}var f=window;r&&(f=r);var p,m,h,g,v,w,b=f.document||f.ownerDocument,y=b.body,C=b.documentElement,T=$B.RE_WebKit?y:b.documentElement,O=y.className.indexOf("rtl")>-1,E=this,x=e(),N=e(),B=null,k=null,A=null,I=null;this.dock=new $UI.Dialog.Rect(0,0,0,0),n&&5>n&&(n=5),o=o?" "+o:"",this.dispose=function(){w=!0,A&&(e(window).unbind("resize",A),A=null),I&&(e(window).unbind("focus",I),I=null),x.remove(),x=e(),N.remove(),N=e(),v=null,p=null,m=null,h=null,g=null,e(window).unbind(".ext",c)},this.setContents=function(n){x.remove(),x=e(),B=n;var i=B.parentNode;null!=i&&null!=i.tagName||(y.appendChild(B),x=x.add(e(B)));var r={"aria-hidden":"true"},a=null;$B.RE_WebKit?a="input":(a="a",r.href="#"),h=b.createElement(a),g=b.createElement(a);var c=e(h).attr(r).css("position","absolute"),d=e(g).attr(r).css("position","absolute");if((void 0===s||s)&&(c.bind("focus",l),d.bind("focus",l)),x=x.add(c),x=x.add(d),e(B).prepend(c).append(d),$B.RE_WebKit){var f="-10000px";O?g.style.right=h.style.right=f:g.style.left=h.style.left=f}return B.style.position="absolute",B.className+=o,!t&&$B.IE&&$B.V<7&&(k=new $UI.FramePopup),u(),B},this.recalc=function(t){if(B){a();var o=e(B);if(!i){var r=$UI.Dialog.getLocation(B);if(!r||r.isEmpty()){var s={visibility:o.css("visibility")||"visible",display:o.css("display")||"auto"};o.css({visibility:"hidden",display:"block"}),r=$UI.Dialog.getLocation(B),o.css(s)}$Debug.trace("recalc",Object.toJSON(r)),E.dock||(E.dock=new $UI.Dialog.Rect(0,0,0,0));var l=C.clientWidth/2-r.width/2;if(O?(E.dock.x=Math.min(l,0-(r.width-C.clientWidth)-25),$B.RE_WebKit&&(E.dock.x+=T.scrollWidth-C.clientWidth)):E.dock.x=Math.max(l,25),t){var u=C.clientHeight-r.height-3;E.dock.y=T.scrollTop+Math.min(Math.max(u>200?u:(C.clientHeight-r.height)/2,0),100)}$Debug.trace("dockbefore",Object.toJSON(E.dock)),E.dock.height=r.height,E.dock.width=r.width}var c=null;null!==E.dock.y&&(c={top:E.dock.y}),null!==E.dock.x&&(c=c||{},c.left=E.dock.x),c&&o.css(c),k&&k.positionAt(E.dock,n?1e3:n-2)}},this.show=function(i,r,u){function c(){try{(i?i:$UI.Dialog.findFocusableElement(B)).focus()}catch(e){}}E.recalc(!0);var f=e(B);if(f.show(),n&&f.css("z-index",n),t){$Debug.trace("Creating Modal Dialog"),p=b.createElement("div"),d(),m=b.createElement("div");var h=e(m).addClass("UI_Dialog_ZoomTest"+o);I=function(e){return e.stopImmediatePropagation(),!1};var g=e(p).attr("id","UI_Dialog_BG").addClass("UI_Dialog_BG"+o).bind({click:I,mousedown:I,keydown:I,keypress:I,dblclick:I});(void 0===s||s)&&g.bind("focus",l),n&&g.css("z-index",n-1),y.appendChild(p),y.appendChild(m),A=function(){setTimeout(a,0)},e(window).bind({resize:A,focus:I}),N=N.add(g),N=N.add(h),a()}r||(u=u||e.when(),u.then(function(){setTimeout(c,10)}))},this.hide=function(){if(N.remove(),N=e(),$B.IE&&$B.V<7&&v){for(var t=0;t<v.length;t++)"undefined"!=typeof v[t].wlppHide&&(v[t].style.visibility=v[t].wlppHide);v=null}},this.minimize=function(){if(k&&k.minimize(),B.style.visibility="hidden",t){if(p.style.display="none",v)for(var e=0;e<v.length;e++)v[e].style.visibility=v[e].wlppHide;a()}a()},this.restore=function(){B.style.visibility="visible",k&&k.restore(),E.recalc(!0),t&&(p.style.display="block",d(),a())}},window.$UI.Dialog.Rect=function(e,t,n,i){return new function(){var o=this;this.x=e,this.y=t,this.width=n,this.height=i,this.isEmpty=function(){return o.width<=0||o.height<=0}}},window.$UI.Dialog.findFocusableElement=function(t,n,i){function o(t){var n=e(t),i=n.attr("tabindex");if("-1"===i)return!1;if(n.is(".CloseX")&&n.is(":visible")&&0===n.parents(":hidden").length)return!0;var o="|BUTTON|TEXTAREA|FIELDSET|IFRAME|SELECT|";return t.tagName&&!t.disabled&&(o.indexOf("|"+t.tagName+"|")>-1||"A"==t.tagName&&t.href&&-1==t.className.indexOf("CloseX")||"INPUT"==t.tagName&&"hidden"!=t.type.toLowerCase()&&(!$B.Firefox||"file"!=t.type.toLowerCase()))&&e(t).is(":visible")}function r(e){if(!e)return null;for(var t=i?e.nextSibling:e.previousSibling;t&&1!=t.nodeType;)t=i?t.nextSibling:t.previousSibling;return t?t:r(e.parentNode)}function s(t,n){var s=n;if(s&&(s==t||e.contains(t,s)))for(;null!=s;){if(o(s))return s;s=i&&s.firstChild?s.firstChild:!i&&s.lastChild?s.lastChild:r(s)}return null}n=n?r(n):t;var a=s(t,n);return!a&&n&&n!=t?s(t,t):a},window.$UI.Dialog.getLocation=function(e){if(!e)return new $UI.Dialog.Rect(0,0,0,0);for(var t=0,n=0,i=e;i;)t+=i.offsetLeft,n+=i.offsetTop,i=i.offsetParent;return new $UI.Dialog.Rect(t,n,e.offsetWidth,e.offsetHeight)},window.$UI.Popover=function(){function t(){try{E.focus()}catch(e){}}function n(){var t=e(b.modal?$B.IE?"body":window:v);$B.IE?t.bind("keypress.showhide",r):t.bind("keydown.showhide",r),C=C.add(t)}function i(){var t=e(b.modal?$B.IE?"body":window:v);t.unbind(".showhide",r)}function o(t,n,i,o){e("<span />").text(" ").appendTo(e(m));var r=_ce("div");e(r).html('<button id="popover_btn_{0}" type="{1}" />'.format(t,i?"submit":"button"));var a=e(r.firstChild).toggleClass("Default",i).html("<nobr>"+n+"</nobr>").bind("click",function(e){s(t),e.stopPropagation()});y=y.add(e(a)),!i&&o&&(h=t),g[t]=a,e(a).appendTo(e(m))}function r(e){switch(e.which){case 27:s(h?h:"$cancel"),e.stopPropagation()}}function s(e){var t=!0;O&&(t=O(b,e)),t&&b.hide()}function a(){function t(t,n){if(t){var i=e(n);"string"==typeof t?i.html(t):i.html("").append(t)}}if(e(u).toggle(b.showHeader),e(d).toggle(b.showFooter),e(f).toggle(b.showCloseX).bind("click",function(){return s(h?h:"$cancel"),!1}),b.showCloseX){var n=GetString("live.shared.skydrive.pc.Sharing.Close");e(f).append(wLive.Core.ImageStrip.getImage("close",n,n))}b.bodyPadding||e(c).css("padding","0px"),t(b.header,p),t(b.body,c)}this.header=null,this.body=null,this.footerText=null,this.width=300,this.bodyPadding=!0,this.showHeader=!0,this.showFooter=!0,this.modal=!1,this.showCloseX=!1,this.zIndex=null,this.dispose=function(){l&&(l.dispose(),l=null)},this.addButton=function(e,t,n,i){T.push({name:e,value:t,isDefault:n,isCancel:i})},this.show=function(t,i,r,s){if(!w){if(O=t,E=i,!l){l=new $UI.Dialog(b.modal,b.zIndex),v=_ce("div");var y=e(v).hide().html('<a href="#"></a><div><h3></h3></div><div></div><div><nobr></nobr></div>');l.setContents(v),n(),y.addClass("UI_Popover");var C=v.childNodes;if(f=C[1],u=C[2],c=C[3],d=C[4],p=u.firstChild,m=d.firstChild,e(f).addClass("CloseX"),e(u).addClass("Header"),e(c).addClass("Body"),e(d).addClass("Footer"),null!=b.width){var x=b.width;y.css("width",parseInt(x,10)==x?x+"px":x)}h=null,g=new Array;for(var N=0;N<T.length;N++)o(T[N].name,T[N].value,T[N].isDefault,T[N].isCancel);0==T.length&&(b.showFooter=!1),a()}l.show(r?g[r]:null,s),w=!0}},this.hide=function(){if(w){E&&setTimeout(t,10);try{e(f).unbind("click"),C.unbind(".showhide",r),C=e(),y.remove(),y=e(),l.hide(),this.dispose()}catch(n){}w=!1,v=f=u=d=c=p=m=g=null}},this.enableButton=function(t){e(g[t]).attr("disabled",!1)},this.disableButton=function(t){e(g[t]).attr("disabled",!0)},this.recalc=function(){w&&l&&l.recalc(!1)},this.minimize=function(){l&&w&&(l.minimize(),i())},this.restore=function(){l&&w&&(l.restore(),n())};var l,u,c,d,f,p,m,h,g,v,w=!1,b=this,y=e(),C=e(),T=new Array,O=null,E=null}}(window.originaljQuery||jQuery)}),define("popover.msgbox",["popover"],function(){$UI.MsgBoxEx=function(e,t,n,i,o,r,s,a,l){var u="ok",c="cancel",d=new $UI.Popover,f=_ce("div"),p=function(e,t){var n=!0;return t==u?0==o({Popover:e})&&(n=!1):t==c&&r&&r(),n&&(d=null),n};if(s)for(var m=temp=s,h=0;10>h&&temp;h++){var g=temp.tagName&&temp.tagName.toLowerCase();if("a"==g||"button"==g||"input"==g){m=temp;break}if(temp=temp.parentElement,!temp){m=null;break}}return t&&(f.innerHTML='<div style="margin-bottom:10px">'+t+"</div>"),d.width=a?a:"416px",d.header=e,d.body=f,d.modal=!0,0!=n&&d.addButton(u,n,!0,!1),0!=i&&d.addButton(c,i,!1,!0),d.show(p,m,l?c:u),d},$UI.MsgBox=function(e,t,n,i,o,r){$UI.MsgBoxEx(e,t,n,i,r,null,o,null,!1)}}),define("queuing",["wliveloaded","popover.msgbox","jquery.views"],function(){!function(e){"use strict";var t=wLive.Controls.Notifications=wLive.Controls.Notifications||{},n=new function(){var t=this,n={},i=[];t.showDelay=600,t.start=function(){if(i){var e=i,t=e.length;i=null;for(var n=0;t>n;n++)e[n]()}},t.addNotification=function(e,o,r){if(i)i.push(function(){t.addNotification(e,o,r),t.showNextNotification(r.queueGroup)});else{var s=r.queueGroup||"default",a=r.queueMode||"fifo",l=r.queueTrumpLowPriOnScreen||{},u=!!r.queueIsPriorityHigh,c=n[s]=n[s]||{current:null,items:[]},d=c.items.length;if(0!==d&&u)for(d=0;d<c.items.length&&c.items[d].queueIsPriorityHigh;d++);c.items.splice(d,0,{mode:a,notification:e,queueTrumpLowPriOnScreen:l,queueIsPriorityHigh:u,callback:o})}},t.showNextNotification=function(e){var t,i,o=n[e],r=function(e){var t,n,i,o=e.length,r={mode:null,item:null};for(t=0;o>t&&(n=e[t],i=r.mode=n.mode,r.item=n,"fifo"!==i);t++);return r.item};o&&o.items.length>0&&(t=o.current,i=o.items,t&&"filo"===t.mode&&i.length>1&&t.queueTrumpLowPriOnScreen&&(t.notification.hide(),t=null),t||(t=o.current=r(i),t.callback()))},t.removeNotification=function(i){e.each(n,function(e,n){for(var o=n.items,r=!1,s=o.length-1;s>=0;s--)if(o[s].notification===i){o[s]===n.current&&(n.current=null),o.splice(s,1),r=!0;break}r&&setTimeout(function(){t.showNextNotification(e)},t.showDelay)})},t.reset=function(){e.each(n,function(e,t){for(var n,i=t.items,o=i.length-1;o>=0;o--)n=i[o],n===t.current?n.notification.dismiss():i.splice(o,1)})},t.registerSearchApi=function(i,o){t[i]=function(t){var i,r,s,a,l,u,c,d=[];for(t=t||function(e){return!0},i=o&&0!==o.length?e.map(o,function(e,t){return n[e]}):n,r=i.length,u=0;r>u;u++)for(a=i[u].items,l=a.length,c=0;l>c;c++)s=a[c].notification,t(s)&&d.push(s);return d}}};t.getQueue=function(){return n},t.dispose=function(){n&&(n.reset(),n=null)}}(window.originaljQuery||jQuery)}),define("automation",["queuing"],function(){!function(e){"use strict";var t=wLive.Controls.Notifications;t.AutomationOptions=new function(){var e,t,n=this;n.setModeAndLabels=function(n,i){e=n,t=i},n.getLabelAttribute=function(){return e},n.getLabelValue=function(n){var i;return e&&""!==e&&t&&(i=t[n]),i},n.getLabel=function(n,i){var o,r="",s=function(e){return(i?i[e]:null)||t[e]};return e&&""!==e&&t&&(o=s(n))&&""!==o&&(r=" "+e+'="'+o+'" '),r}}}(window.originaljQuery||jQuery)}),define("notificationbase",["automation"],function(){!function(e){"use strict";var t=27,n=13,i=9,o=wLive.Animations,r=wLive.Controls.Notifications,s=e(r),a=r.InternalTools=r.InternalTools||{},l=r.AutomationOptions,u=e(window),c=e("BODY"),d=c[0],f={fadein:"fadeIn",fadeout:"fadeOut",slidein:"showEdgeUI",slideout:"hideEdgeUI",slidefadein:"enterContent",slidefadeout:"exitContent",slidefadein2:"enterContent2",slidefadeout2:"exitContent2"},p=a.Toolkit={isEmptyString:function(e){return"undefined"==typeof e||null==e||""==e},checkEmptyArgument:function(e,t){if(p.isEmptyString(e))throw new Error(t)},getExtraDimensions:function(e){var t={},n=function(e){return parseInt(e)||0};return t.left=n(e.css("marginLeft"))+n(e.css("borderLeftWidth"))+n(e.css("paddingLeft")),t.right=n(e.css("marginRight"))+n(e.css("borderRightWidth"))+n(e.css("paddingRight")),t.width=t.left+t.right,t.top=n(e.css("marginTop"))+n(e.css("borderTopWidth"))+n(e.css("paddingTop")),t.bottom=n(e.css("marginBottom"))+n(e.css("borderBottomWidth"))+n(e.css("paddingBottom")),t.height=t.top+t.bottom,t},sanitizeOptions:function(t,n){var i=null;if(t){var o={};e.each(t,function(t,i){e.inArray(t,n)>=0&&(o[t]=i)}),i=o}return i},registerChangeUserOptionsApi:function(t,n,i){var o=function(t){e.extend(n,p.sanitizeOptions(t,i))};r["set"+t+"DefaultOptions"]=o},isLtr:function(){return"ltr"===e("BODY").css("direction")}},m=a.ButtonHelper=function(t,n){var i=this,o=[],r=e.extend({action:!1,close:!1,alternate:!1},n&&n.excludes?n.excludes:{}),s=n&&n.renderOrder?n.renderOrder.split(","):m.buttonNames;!function(){var e,n,i,a;if(t)for(a=s.length,i=0;a>i;i++)e=s[i],n=t[e],!r[e]&&n&&"string"==typeof n&&""!==n&&o.push({name:e,title:n})}(),i.getNamesAndTitles=function(){return o}};m.buttonNames=["action","close","alternate"],m.automationKeys={},e.each(m.buttonNames,function(e,t){m.automationKeys[t]=t.charAt(0).toUpperCase()+t.substr(1)+"Button"}),a.DeferredManager=function(t,n){function i(){r=n?n():{}}var o=this,r=null,s=null;i(),o.getDeferred=function(){return s=s||e.Deferred()},o.updateState=function(t){t&&"object"==typeof t&&(r=e.extend({},r,t))},o.resolve=function(){s&&(s.resolveWith(t,[r]),s=null),i()}};var h=a.TemplateHelper={basicContainer:'<div><div tabindex="-1" class="OuterContainer" {{if backgroundColor}}style="background-color: {{attr:backgroundColor}};"{{/if}}><div class="InnerContainer"><div class="Content {{attr:contentCssClassnames}}">{0}</div></div></div></div>',defaultPartialTemplate:'{{for #data tmpl="Notifications.UserAreaSubTemplate"/}}{{for #data tmpl="Notifications.ButtonSubTemplate"/}}',registerTemplate:function(t){var n=t.html||h.defaultPartialTemplate;n=h.basicContainer.format(n),e.templates(t.id,{markup:n})},render:function(t,n,i,o,r){var s=t.options.automationOptions,u=e.extend({contentCssClassnames:"",renderTitle:!0,showNotificationArea:!1,shouldRenderButtonArea:function(){return this.showNotificationArea&&o||this.buttons.length>0},prepareForAutomation:function(e){return l.getLabel(e,s)},buttons:e.map(r.getNamesAndTitles(),function(t){return e.extend({getButtonLabel:function(){return l.getLabel(a.ButtonHelper.automationKeys[this.name],s)}},t)})},t.options);p.isEmptyString(n)&&u.renderTitle&&(u.renderTitle=!1);var c=e.views,d=c.activeViews;c.activeViews=!1;var f=e.templates[t.id].render(u);c.activeViews=d;var m=e(f);return m.find(".UserTitle").append(n),m.find(".UserContent").append(i),u.showNotificationArea&&!p.isEmptyString(o)&&m.find(".NotificationArea").append(o),m}};e.templates("Notifications.ButtonSubTemplate",{markup:'{{if shouldRenderButtonArea()}}<div class="ButtonArea">{{if showNotificationArea}}<div class="NotificationArea" {{:prepareForAutomation("NotificationArea")}}></div>{{/if}}{{for buttons}}<button name="{{attr:name}}" type="button" {{if name=="action"}}class="default c_nobdr"{{/if}} {{:getButtonLabel()}}>{{>title}}</button>{{/for}}</div>{{/if}}'}),e.templates("Notifications.UserAreaSubTemplate",{markup:'<div class="UserArea"><div class="Clipper">{{if renderTitle}}<div class="UserTitle{{if titleCssClassnames}} {{attr:titleCssClassnames}}{{/if}}" {{:prepareForAutomation("Title")}}></div>{{/if}}<div class="UserContent" {{:prepareForAutomation("Contents")}}></div></div></div>'});var g=a.TimerHelper=function(e,t,n){var i,o,r,s=this,a=function(){i=null,t()},l=function(){r||(r=new Date,clearTimeout(i),i=null)},u=function(){if(r&&o){var t=e-(r-o);r=null,o=new Date,i=setTimeout(a,t)}},c={mouseenter:l,mouseleave:u};s.start=function(){e&&(e=parseInt(e))>0&&n&&n.length>0&&(n.bind(c),o=new Date,i=setTimeout(a,e))},s.stop=function(){i&&(n.unbind(c),clearTimeout(i),i=null)}},v=a.NotificationBase=function(m){function w(){var t=e.extend({},pe.ariaOptions);null===pe.tabIndex||isNaN(pe.tabIndex)||(t.tabindex=pe.tabIndex),ae.attr(t)}function b(e){var t=e?"show":"hide";ae&&(ae[t](),ae.attr("aria-hidden",!e),null!=le&&le[t]())}function y(e,t,n){return n=n||[ce],s.triggerHandler(e+m.name+t,n)}function C(e,t){return t=t||[ce],de.triggerHandler(e,t)}function T(e,t,n){var i=e?e[t]:null;i&&"function"==typeof i&&i.apply({},n||[])}function O(){var t=l.getLabelValue(pe.automationKey);t&&e(se).attr(l.getLabelAttribute(),t)}function E(){if(ae){var e=l.getLabelAttribute();if(e){var t="automationtemp",n=ae.attr(t);if(n&&""!==n)ae.attr(e,n),ae.attr(t,"");else{var i=ae.attr(e);i&&""!==i&&(ae.attr(t,i),ae.attr(e,""))}}}}function x(){he.timeoutInMsecs&&(ge=new g(he.timeoutInMsecs,he.callback,he.getElements()),ge.start())}function N(){ge&&(ge.stop(),ge=null)}function B(){if(re&&se&&!oe&&m.positioner){m.positioner(re.dock,se,pe.anchorElement,pe,fe);var e=re.dock,t=null;null!==e.y&&(t={top:e.y}),null!==e.x&&(t=t||{},t.left=e.x),t&&ae.css(t)}}function k(t){var n,i,r,s,a=pe.animation||{},l=a.type||"none",u=a.entranceType||l+"in",c=a.exitType||l+"out",d=[se];if(le&&le.length>0&&d.push(le[0]),t?(n=u,a.entranceArguments&&(i=e.isArray(a.entranceArguments)?e.extend(!0,[],a.entranceArguments):e.extend(!0,{},a.entranceArguments))):(n=c,a.exitArguments&&(i=e.isArray(a.exitArguments)?e.extend(!0,[],a.exitArguments):e.extend(!0,{},a.exitArguments))),r=f[n]){var p=[d];"undefined"!=typeof i&&p.push(i),p.push(!1),s=o[r].apply({},p)}else s=e.Deferred().resolve();return s}function A(){var e=$UI.Dialog.findFocusableElement(se,se,!0);e&&setTimeout(function(){try{e.focus()}catch(t){}},0)}function I(e){Ce||!e||Q(e,se)||A(),Ce=!1}function D(e){var o=e.which;if(null!=ae&&!oe)if(pe.dismissOnEsc&&o===t||!Te&&pe.dismissOnEnter&&o===n){var r=o===t?"close":"action";ne.changeAnimation(!1,"none"),e.stopImmediatePropagation(),ae.find(".ButtonArea button[name="+r+"]").length>0&&(ve.updateState({buttonClicked:r}),C("buttonclick",[ce,r])),setTimeout(function(){ce.dismiss()},0)}else o===i?(I(e.srcElement),ye||(ae.find("BUTTON.default.c_nobdr").removeClass("c_nobdr"),ye=!0)):Ce=!0;Te=!0}function S(e){I(e.srcElement)}function M(){ae&&((pe.dismissOnEsc||pe.dismissOnEnter)&&ae.keydown(D),pe.isModal&&(c.keydown(D),c.focusin(S)))}function U(){ae&&((pe.dismissOnEsc||pe.dismissOnEnter)&&ae.unbind("keydown",D),pe.isModal&&(c.unbind("keydown",D),c.unbind("focusin",S)))}function L(t){var n,i=t&&t.srcElement&&t.srcElement.name||e(this).attr("name");ne.changeAnimation(!1,"none"),t.stopPropagation(),ve.updateState({buttonClicked:i}),n=e(ce).triggerHandler("buttonclick",[ce,i]),n!==!1&&fe.dismissOnButtonClick&&ce.dismiss()}function H(){ae&&ae.find(".ButtonArea button").bind("click.notification",L)}function F(){ae&&ae.find(".ButtonArea button").unbind("click.notification",L)}function _(){u.bind({"resize.nbwindowchanged":$,"scroll.nbwindowchanged":$})}function W(){u.unbind(".nbwindowchanged",$)}function $(){oe||(W(),B(),_())}function q(){return _ge("UI_Dialog_BG")||d}function P(){if(pe.dismissOnOutsideClick){var t=q(),n=(e(t),function(){t.addEventListener?t.addEventListener("click",G,!0):(t.attachEvent("onclick",G),!_ge("UI_Dialog_BG")&&d.setCapture&&(d._capturingClicks=!0,d.attachEvent("onlosecapture",z),V())),be=null});pe.delayOutsideClickDetectionByMsecs<=0?n():be=setTimeout(n,pe.delayOutsideClickDetectionByMsecs)}}function j(){var t=q();e(t);pe.dismissOnOutsideClick&&(null!=be&&(clearTimeout(be),be=null),t.removeEventListener?t.removeEventListener("click",G,!0):(t.detachEvent("onclick",G),!_ge("UI_Dialog_BG")&&t.releaseCapture&&(t._capturingClicks=!1,t.detachEvent("onlosecapture",z),t.releaseCapture())))}function Q(e,t){for(var n=!1;e;)e===t?(e=null,n=!0):e=e.parentElement;return n}function G(e){oe||e._alreadyCaptured||(FilesConfig&&FilesConfig.NextLegacyBundleEnabled&&Shared.ElementEventing.raise(window,"modalDialogClosed"),Q(e.srcElement||e.target,se)||ce.dismiss(),!d.addEventListener&&d.setCapture&&(e._alreadyCaptured=!0,e.srcElement.click(),d._capturingClicks&&V()),e._alreadyCaptured&&(e._alreadyCaptured=!1))}function z(){if(c){var e=c[0];e.attachEvent("onmousemove",R),ue=!1}}function V(){c&&(c[0].setCapture(!0),ue=!0)}function R(){c&&(V(),c[0].detachEvent("onmousemove",R))}function K(e){A()}function J(){pe.insideClickFocus&&ae&&ae.click(K)}function X(){pe.insideClickFocus&&ae&&ae.unbind("click",K)}function Y(e){e.stopImmediatePropagation(),e.preventDefault(),pe.dismissOnOutsideClick&&Z(e)}function Z(e){e&&e.srcElement&&!Q(e.srcElement,se)&&ce.dismiss()}function ee(){le&&pe.isModal&&le.bind("contextmenu",Y),c&&pe.dismissOnOutsideClick&&c.bind("contextmenu",Z)}function te(){le&&pe.isModal&&le.unbind("contextmenu",Y),c&&pe.dismissOnOutsideClick&&c.unbind("contextmenu",Z)}var ne=this,ie=(e(ne),!1),oe=!1,re=null,se=null,ae=null,le=null,ue=!1,ce=m.instance,de=e(ce),fe=e.extend({},v.defaultUserOptions,m.userOptions),pe=e.extend({},v.defaultControlOptions,m.controlOptions),me=m.render=m.render||{},he=m.timer=m.timer||{},ge=null,ve=new a.DeferredManager(ce),we=new a.ButtonHelper(me.buttons,me.buttonOptions),be=null,ye=!1,Ce=!1;me.template=me.template||{},me.template.options=me.template.options||{},me.template.options.automationOptions=p.sanitizeOptions(fe.automation,["ActionButton","CloseButton","AlternateButton","Title","Contents"]),ne.changeAnimation=function(e,t,n){if(pe.changeAnimationOnUserInteraction){var i=e?"entrance":"exit";pe.animation[i+"Type"]=t,"undefined"!=typeof n&&(pe.animation[i+"Arguments"]=n)}},ne.popoverElement=function(){return se},ne.isCurrentlyShown=function(){return ie&&!oe},ne.isHidden=function(){return oe},ne.getButton=function(e){var t,n=null;if(!e||""==(t=e.buttonName+""))throw new Error("buttonName was not supplied.");return ae&&(n=ae.find(".ButtonArea BUTTON[name="+t+"]")),n},ne.getDeferredManager=function(){return ve},ne.reposition=function(){re&&(B(),re.recalc())},ne.hide=function(){re&&!oe&&(y("before","hide"),C("beforehide"),oe=!0,re.minimize(),E(),y("after","hide"),C("afterhide"))},ne.dismiss=function(e){var t,n=function(){r.getQueue().removeNotification(ce),pe.anchorElement=pe.focusElement=null};if(re){if(t=y("before","dismiss"),t===!1)return;if(t=C("beforedismiss"),t===!1)return;T(e,"beforeDismiss"),U(),F(),X(),j(),W(),te(),N(),k(!1).then(function(){if(re){if(re.hide(),t=y("after","dismissanimation"),t===!1)return;if(t=C("afterdismissanimation"),t===!1)return;if(ae.remove(),se=null,ae=null,re.dispose(),re=null,le=null,t=y("after","dismiss"),t===!1)return;if(t=C("afterdismiss"),t===!1)return;ve.resolve(),n(),ie=!1;var e;fe.returnFocusTo&&(e=fe.returnFocusTo.focus)&&"function"==typeof e&&fe.returnFocusTo.focus()}})}else n()},ne.show=function(t){var n,i=r.getQueue(),o=ve.getDeferred(),s=!1;return re?oe&&re.restore():(i.addNotification(ce,function(){if(re&&oe)E(),re.restore(),oe=!1;else if(!re&&(n=y("before","render"),n!==!1&&(n=C("beforerender"),n!==!1))){var i=h.render(me.template,me.title,me.content,me.notificationArea,we);if(fe.focusFirstButton&&we.getNamesAndTitles().length>0?pe.focusElement=i.find(".ButtonArea BUTTON").first()[0]:fe.focusElement?pe.focusElement=fe.focusElement:pe.focusElement=i.find(".OuterContainer").get(0),T(t,"afterRendering",[i]),pe.anchorElement=pe.anchorElement||window,fe.moreCss=fe.moreCss||"",re=new $UI.Dialog(!!pe.isModal,pe.dialogZindex,!!m.positioner,"NotificationBase "+pe.controlCss+" "+fe.moreCss,pe.anchorElement,pe.trapTab),
i.appendTo(fe.notificationContainer||"#notificationContainer"),se=re.setContents(i[0]),ae=e(se),isNaN(pe.tabIndex)||ae.attr("tabindex",pe.tabIndex),w(),B(),T(t,"beforeShow"),n=y("before","show"),n!==!1&&(n=C("beforeshow"),n!==!1)){M(),H(),x(),O();var o=e.Deferred();re.show(pe.focusElement,!pe.setFocus,o),pe.isModal&&(le=e("#UI_Dialog_BG")),b(!1),k(!0).then(function(){s||(s=!0,o.resolve(),b(!0),T(t,"afterShow"),setTimeout(function(){re&&(P(),_(),J(),ee())},0),C("aftershow"),n=y("after","show"),ie=!0)})}}},pe),i.showNextNotification(pe.queueGroup)),o.promise()},ce.content=ne.popoverElement,ce.isCurrentlyShown=ne.isCurrentlyShown,ce.isHidden=ne.isHidden,ce.getButton=ne.getButton,ce.show=function(){return ne.show()},ce.dismiss=function(){ne.dismiss()},ce.hide=ne.hide,ce.reposition=ne.reposition;var Te=!1};v.defaultControlOptions={anchorElement:null,ariaOptions:{role:"alert","aria-hidden":"false"},automationKey:null,changeAnimationOnUserInteraction:!0,controlCss:null,dismissOnEnter:!1,dismissOnEsc:!0,dismissOnOutsideClick:!1,delayOutsideClickDetectionByMsecs:0,focusElement:null,insideClickFocus:!1,isModal:!1,returnFocusTo:null,setFocus:!1,trapTab:!0,tabIndex:null,queueGroup:null,queueMode:"fifo",queueTrumpLowPriOnScreen:!1},v.defaultUserOptions={dismissOnButtonClick:!0,focusFirstButton:!1,moreCss:null}}(window.originaljQuery||jQuery)}),define("notificationbar",["notificationbase"],function(){!function(e){"use strict";var t=window.wLive,n=t.Controls.Notifications,i=(e(n),n.AutomationOptions,n.InternalTools),o=i.Toolkit,r="Notifications.Bar";i.TemplateHelper.registerTemplate({id:r,html:'{{for #data tmpl="Notifications.UserAreaSubTemplate"/}}{{for #data tmpl="Notifications.ButtonSubTemplate"/}}<div class="Expand" {{:prepareForAutomation("ToggleExpansion")}}></div>'});var s="#c_header",a=860,l=120,u=function(t,n,i,r,s,u){var c=e("HTML"),d=e("BODY"),f=e(n),p=f.find(".InnerContainer"),m=p.find(".Content"),h=o.isLtr(),g=Math.max(p.outerWidth(),a),v=m.find(".UserArea"),w=o.getExtraDimensions(v),b=w.width,y=v.find(".Clipper"),C=v.find(".UserContent"),T=m.find(".ButtonArea"),O=T.outerWidth()||0,E=m.find(".Expand");m.width("").addClass("ForMeasure").removeClass("MinWidth NormalWidth WideWidth"),v.width("").addClass("ForMeasure"),E.removeClass("ShowImage").hide(),y.removeClass("ShowEllipsis"),C.addClass("ForMeasure").width("");var x=(m.outerWidth()||0,C.outerWidth()||0),N=g-b-O,B=x+b+O;if(a>B)N=a-b-O,v.width(N),m.addClass("MinWidth");else{var k=g-B>l,A=!k&&x>=N;if(k?(m.width(B),m.addClass("WideWidth")):(N-=l,A=x>=N,m.addClass("NormalWidth")),A){var I="margin"+(h?"Right":"Left");E.css(I,O).addClass("ShowImage").show(),y.addClass("ShowEllipsis"),N-=E.outerWidth(),C.width(N)}v.width(N)}if(0===O&&m.addClass("NoButton"),p.css("left",-(c.scrollLeft()+d.scrollLeft())),u){var D=e(s.topBarOffsetJquerySelector);if(D.length>0){var S=$UI.Dialog.getLocation(D[0]);t.y=S.height}}else f.css("bottom","0"),t.y="";C.removeClass("ForMeasure"),v.removeClass("ForMeasure"),m.removeClass("ForMeasure")},c={Top:{controlOptions:{animation:{entranceType:"slidein",entranceArguments:[{left:0,top:-50}],exitType:"slideout",exitArguments:[{left:0,top:-50}]},automationKey:"TopBar",controlCss:"NotificationBar TopBar",insideClickFocus:!0,queueGroup:"TopBar"},positioner:function(e,t,n,i,o){u(e,t,n,i,o,!0)}},Bottom:{controlOptions:{animation:{entranceType:"slidein",entranceArguments:[{left:0,top:50}],exitType:"slideout",exitArguments:[{left:0,top:50}]},automationKey:"BottomBar",controlCss:"NotificationBar BottomBar",insideClickFocus:!0,queueGroup:"BottomBar"},positioner:u}},d=n.BarDismissalMode={Explicit:"Explicit",Implicit:"Implicit",Timeout:"Timeout"},f={};f[d.Explicit]={controlOptions:{queueMode:"filo"}},f[d.Implicit]={controlOptions:{dismissOnOutsideClick:!0,delayOutsideClickDetectionByMsecs:1e3}},f[d.Timeout]={controlOptions:{dismissOnOutsideClick:!0,delayOutsideClickDetectionByMsecs:1e3}};var p=function(t,n,a,l,u){function m(){e(x.popoverElement()).find(".Expand").click(g)}function h(){e(x.popoverElement()).find(".Expand").unbind("click",g)}function g(){var t=e(x.popoverElement()).find(".Content"),n=t.hasClass("Collapsed"),i=t.find(".Clipper"),o=t.find(".UserContent");return i.toggleClass("ShowEllipsis"),n?(i.css("height",o.css("height")),t.removeClass("Collapsed")):(i.css("height",""),t.addClass("Collapsed")),x.reposition(),!1}function v(){var t=e(x.popoverElement()),n=t.find(".UserArea"),i=n.find(".Clipper"),o=n.find(".UserContent"),r=t.find(".Expand"),s=i.innerHeight(),a=o.innerHeight();a>s?(r.addClass("ShowImage"),i.addClass("ShowEllipsis")):r.attr("sutra","")}o.checkEmptyArgument(n,"Dismissal mode was not supplied.");var w=this,b=e(w),y=f[n];o.checkEmptyArgument(y,"Dismissal mode was supplied but is invalid."),o.checkEmptyArgument(t,"Mode was not supplied.");var C=c[t];if(o.checkEmptyArgument(C,"Mode was supplied but is invalid."),C===c.Top&&n===d.Implicit)throw new Error("Top bars cannot be dismissed implictly.");if(n===d.Explicit&&o.isEmptyString(l.action)&&o.isEmptyString(l.close)&&o.isEmptyString(l.alternate))throw new Error("An explict dismissable bar should contain at least one button.");var T=e.extend({trapTab:!1},y.controlOptions,C.controlOptions,p.defaultControlOptions),O=e.extend({},p.defaultUserOptions,u);o.isEmptyString(O.topBarOffsetJquerySelector)&&(O.topBarOffsetJquerySelector=s);var E={name:"bar",instance:w,controlOptions:T,userOptions:O,positioner:C.positioner,render:{content:a,buttons:l,buttonOptions:{renderOrder:"action,alternate,close"},template:{id:r,options:{contentCssClassnames:O.autoHeight?"":"Collapsed",backgroundColor:O.backgroundColor,renderTitle:!1}}}};n===d.Timeout&&(E.timer={timeoutInMsecs:7e3,callback:function(){x.getDeferredManager().updateState({timedOut:!0}),b.triggerHandler("timedout",[w]),x.changeAnimation(!1,"fadeout"),w.dismiss()},getElements:function(){var t=e(x.popoverElement());return e().add(t).add(t.children()).add(t.find(".UserContent").children()).add(t.find(".ButtonArea BUTTON")).add(t.find(".Expand"))}});var x=new i.NotificationBase(E);w.barType=function(){return t},w.dismissalMode=function(){return n},w.show=function(){return x.show({beforeShow:function(){var i=e(x.popoverElement());"Bottom"===t&&n!==d.Timeout&&i.find(".InnerContainer").addClass("WithMinWidth"),i.find(".Clipper").addClass("transitionOnHeightChange"),v(),m()}})},w.dismiss=function(){x.dismiss({beforeDismiss:function(){h()}})}};p.defaultUserOptions={autoHeight:!1,focusFirstButton:!1,topBarOffsetJquerySelector:null},p.defaultControlOptions={queueTrumpLowPriOnScreen:!0,tabIndex:0};var m=function(e,t){if(!t)throw new Error("No parameters were supplied.");return new p(e,t.dismissalMode,t.content,t.buttons,t.options)};n.createTopBar=function(e){return m("Top",e)},n.createBottomBar=function(e){return m("Bottom",e)},o.registerChangeUserOptionsApi("Bar",p.defaultUserOptions,["autoHeight","topBarOffsetJquerySelector","moreCss","notificationContainer"]),n.getQueue().registerSearchApi("getNotificationBars",[c.Top.controlOptions.queueGroup,c.Bottom.controlOptions.queueGroup])}(window.originaljQuery||jQuery)}),define("flyout",["notificationbar"],function(){!function(e){"use strict";var t=window.wLive,n=t.Controls.Notifications,i=(n.AutomationOptions,n.InternalTools),o=i.Toolkit,r="Notifications.Flyout";i.TemplateHelper.registerTemplate({id:r});var s=50,a=1,l=2,u=4,c=25,d=function(t,n,f,p,m){function h(t,n,i,o,r){for(var s,a=O(i),l=e(n),u=l.find(".OuterContainer"),c=E(l),d=e(i),f=3;f-- >0&&(x(t,c,o),s=r.offset||E(d),v(t,c,s,a),N(t,l,c,s,!!r.offset,d,u)););var p=g(t,o,r,s,d);B(t,p,a)}function g(e,t,n,i,r){var a=n.offset?i.width:r.outerWidth(!0),l=n.offset?i.height:r.outerHeight(!0),u=parseInt(a/2+i.left),c=parseInt(l/2+i.top),d=parseInt(e.width/2+e.x),f=parseInt(e.height/2+e.y),p=0,m=0;m=A(f,c,s),p=A(d,u,o.isLtr()?s:-s);var h=t.animation.entranceArguments[0];return h.override||(h.left=p,h.top=m),h}function v(e,t,n,i){var o=e.width,r=e.height,s=r/2,a=n.top,l=n.left,u=n.height,c=n.width,d=u/2;e.x=l+c/2-o/2,e.y=a-r,e.y<0&&(e.y=a+u),e.x<0?(e.x=l+c,e.y=a+d-s):e.x+o>i.width&&(e.x=l-o,e.y=a+d-s)}function w(t,n,i,r,s){var l,u=o.isLtr()?r.position:r.position^a,c=O(i),d=e(n),f=d.find(".OuterContainer");null!==s.bubble&&(f.addClass("Bubble{0}".format(u)),l=e("<div/>",{"class":"BubbleBeak"}).appendTo(d));for(var p,m=E(d),h=e(i),g=3;g-- >0&&(x(t,m,r),p=s.offset||E(h),u=b(t,m,c,p,u,f,d,r,null!==s.bubble),N(t,d,m,p,!!s.offset,h,f)););null!==s.bubble&&l.addClass("Beak{0}".format(u));var v=T(u,r);B(t,v,c)}function b(t,n,i,o,r,s,a,l,u){var c=r,d=2;do r!==c&&(u&&s.removeClass("Bubble{0}".format(r)).addClass("Bubble{0}".format(c)),e.extend(n,E(a)),x(t,n,l)),r=c,y(t,r,o),c=C(t,r,i);while(c!=r&&d-- >0);return r}function y(e,t,n){var i=e.width,o=e.height,r=n.top,s=n.left,d=n.width,f=n.height,p=f/2,m=d/2,h=t&a,g=t&l;t&u?(e.x=h?s-i+m+c:s+m-c,e.y=g?r-o:r+f):(e.x=h?s-i:s+d,e.y=g?r-o+p+c:r+p-c)}function C(e,t,n){var i=t&a,o=t&l,r=t&u;return e.y<0?t=o?t^l:r?t:t^u:e.y+e.height>n.height&&(t=o?r?t:t^u:t^l),e.x<0?t=i?t^a:r?t^u:t:e.x+e.width>n.width&&(t=i?r?t^u:t:t^a),t}function T(e,t){var n=e&u?e&l?-1:1:0,i=e&u?0:e&a?-1:1,o=t.animation.entranceArguments[0];return o.override||(o.left=s*i,o.top=s*n),o}function O(e){var t=null,n=null,i=0,o=0;return e&&(t=e.document||e.ownerDocument)&&(n=t.documentElement,i=n.clientWidth,o=n.clientHeight),{width:i,height:o}}function E(e){var t=e.offset();return t.width=e.outerWidth(),t.height=e.outerHeight(),t}function x(e,t,n){e.width=Math.max(Math.min(t.width,n.maxWidth),n.minWidth),e.height=Math.max(Math.min(t.height,n.maxHeight),n.minHeight)}function N(t,n,i,o,r,s,a){var l=!0,u=t.width,c=t.height,d=o.top,f=o.left,p=a.outerWidth(),m=a.outerHeight(),h={top:t.y,left:t.x};u!=i.width&&(h.width=u),c!=i.height&&(h.height=c),n.css(h);var g=a.outerWidth(),v=a.outerHeight();if(r||e.extend(o,s.offset()),p!==g||m!==v){var w=v-m,b=g-p;i.width+=b,i.height+=w}else d===o.top&&f===o.left&&(l=!1);return l}function B(e,t,n){var i=e.y+e.height-n.height;i>0&&(0!==t.top&&(i+=s,t.top-=i),e.y-=i),e.y=Math.max(0,e.y)}function k(e,t,n){var i=0,o=e-t,r=Math.abs(o)>n;return r&&(i=o>0?1:-1),i}function A(e,t,n){var i=0,o=k(e,t,5);return o>0?i=-n:0>o&&(i=n),i}if(o.checkEmptyArgument(n,"No content was supplied"),null==f)throw new Error("No anchor was supplied.");var I=this,D=e.extend({},d.defaultUserOptions,m),S=e.extend({anchorElement:f},d.defaultControlOptions,m),M=D.positionMode,U=null!==D.bubble;U&&(S.controlCss+=" Bubble",M=D.bubble),S.position=M;var L=new i.NotificationBase({name:"flyout",instance:I,controlOptions:S,userOptions:D,positioner:-1!==M?w:h,render:{title:t,content:n,buttons:p,buttonOptions:{excludes:{dismiss:!0}},template:{id:r}}});I.show=function(){return L.show({beforeShow:function(){S.width&&e(L.popoverElement()).find(".UserContent").css({width:S.width})}})}};d.defaultUserOptions={bubble:null,positionMode:-1},d.defaultControlOptions={animation:{entranceType:"slidefadein",entranceArguments:[{left:0,top:0}],exitType:"fadeout"},ariaOptions:{role:"alertdialog"},automationKey:"Flyout",changeAnimationOnUserInteraction:!1,controlCss:"Flyout",dismissOnEnter:!0,dismissOnOutsideClick:!0,isModal:!0,maxHeight:758,maxWidth:510,minHeight:54,minWidth:70,position:-1,queueGroup:"Flyout",setFocus:!0,trapTab:!1,width:null},n.createFlyout=function(e){if(!e)throw new Error("No parameters were supplied.");return new d(e.title,e.content,e.anchor,e.buttons,e.options)},o.registerChangeUserOptionsApi("Flyout",d.defaultUserOptions,["moreCss","notificationContainer"]),n.getQueue().registerSearchApi("getFlyouts",[d.defaultControlOptions.queueGroup])}(window.originaljQuery||jQuery)}),define("modaldialog",["flyout"],function(){!function(e){"use strict";var t=window.wLive,n=t.Controls.Notifications,i=(n.AutomationOptions,n.InternalTools),o=i.Toolkit,r="Notifications.ModalDialog";i.TemplateHelper.registerTemplate({id:r});var s=function(t,n,a,l,u){o.checkEmptyArgument(n,"No content was supplied");var c=this,d=null,f=e.extend({},s.defaultUserOptions,u),p=s.defaultControlOptions;p.dismissOnEsc=f.dismissOnEsc,p.dismissOnOutsideClick=f.dismissOnOutsideClick,FilesConfig&&FilesConfig.NextLegacyBundleEnabled&&(p.dismissOnOutsideClick=!0);var m=new i.NotificationBase({name:"dialog",instance:c,controlOptions:p,userOptions:f,positioner:function(t,n,i,r,s){var a=e("HTML"),l=e("BODY"),u=e(n),c=u.find(".InnerContainer"),d=e(window).innerHeight();if(!s.constrainSize){var f=Math.max(d-200,500)+"px";c.find(".UserArea").css("max-height",f),c.find(".dlg-height").css("height",f),c.css("width","auto")}var p=u.height(),m=(d-p)/2;t.y=m;var h=u.find(".NotificationArea");if(0!==h.contents().length){var g=u.find(".ButtonArea"),v=0;g.find("BUTTON").each(function(t){var n=e(this);v+=o.getExtraDimensions(n).width+n.outerWidth(!0)});var w=o.getExtraDimensions(h);u.find(".NotificationArea").width(g.width()-w.width-v),h.show()}else h.hide();c.css("left",-(a.scrollLeft()+l.scrollLeft()))},render:{title:t,content:n,notificationArea:a,buttons:l,template:{id:r,options:{showNotificationArea:!0}}}});c.show=function(){return m.show({beforeShow:function(){d=e(m.popoverElement()).find(".NotificationArea")}})},c.dismiss=function(){m.dismiss({beforeDismiss:function(){d=null}})},c.notificationArea=function(){return d}};s.defaultUserOptions={dismissOnEsc:!0,focusFirstButton:!0,constrainSize:!0},s.defaultControlOptions={animation:{type:"fade"},ariaOptions:{role:"alertdialog"},automationKey:"ModalDialog",changeAnimationOnUserInteraction:!1,controlCss:"ModalDialog",isModal:!0,setFocus:!0,queueGroup:"ModalDialog"},n.createModalDialog=function(e){return new s(e.title,e.content,e.notificationArea,e.buttons,e.options)},o.registerChangeUserOptionsApi("ModalDialog",s.defaultUserOptions,["dismissOnEsc","moreCss","notificationContainer"]),n.getQueue().registerSearchApi("getModalDialogs",[s.defaultControlOptions.queueGroup])}(window.originaljQuery||jQuery)}),define("toast",["modaldialog"],function(){!function(e){"use strict";var t=window.wLive,n=t.Controls.Notifications,i=(n.AutomationOptions,n.InternalTools),o=i.Toolkit,r="Notifications.Toast";i.TemplateHelper.registerTemplate({id:r,html:'{{if contentImage}}<div class="ContentImage" {{:prepareForAutomation("ContentImage")}}><img src="{{attr:contentImage}}"></div>{{/if}}{{for #data tmpl="Notifications.UserAreaSubTemplate"/}}{{if sourceIcon}}<div class="SourceIcon" {{:prepareForAutomation("SourceIcon")}}><img src="{{attr:sourceIcon}}"></div>{{/if}}<div class="CloseIcon" {{:prepareForAutomation("CloseIcon")}}><div class="HoverArea"><span class="CloseText">&times;</span></div></div>{{if soundSourceFiles}}<audio autoplay loop>{{for soundSourceFiles}}<source src="{{attr:uri}}" type="{{attr:type}}"/>{{/for}}</audio>{{/if}}'});var s=n.ToastPriority={Normal:"Normal",High:"High"},a=n.ToastTimeout={Normal:"Normal",Long:"Long"},l=function(t,u,c,d,f){function p(){var t=e(N.popoverElement());b&&t.click(h),t.find(".CloseIcon").click(g)}function m(){var t=e(N.popoverElement());b&&t.unbind("click",h),t.find(".CloseIcon").unbind("click",g)}function h(){N.getDeferredManager().updateState({clicked:!0}),C.triggerHandler("click",[y]),N.changeAnimation(!1,"none"),y.dismiss()}function g(){N.changeAnimation(!1,"none"),y.dismiss()}o.checkEmptyArgument(u,"No content was supplied"),o.checkEmptyArgument(d,"No source icon was supplied");var v=e.extend({timeoutInMsecs:f.timeout===a.Long?6e4:7e3,queueIsPriorityHigh:f.priority===s.High},l.defaultControlOptions),w=e.extend({},l.defaultUserOptions,f),b=w.dismissOnInsideClick,y=this,C=e(y),T=null,O=w.soundSourceFiles;e.isArray(O)?T=O:(T=[],O.aac&&T.push({uri:O.aac,type:"audio/mp4"}),O.ogg&&T.push({uri:O.ogg,type:"audio/ogg"}));var E={id:r,options:{backgroundColor:w.backgroundColor,soundSourceFiles:T,contentImage:c,sourceIcon:d,renderTitle:!!t,titleCssClassnames:"TextSemiBold LineHeightStandard"}},x=function(e,t){e&&(E.options.contentCssClassnames=(E.options.contentCssClassnames||"")+" "+t)};x(!o.isEmptyString(c),"WithContentImage"),x(!o.isEmptyString(t),"WithTitle");var N=new i.NotificationBase({name:"toast",instance:y,controlOptions:v,userOptions:w,positioner:function(e,t,n,i,o){e.x=null,e.y=null},render:{title:t,content:u,template:E},timer:{timeoutInMsecs:v.timeoutInMsecs,callback:function(){N.getDeferredManager().updateState({timedOut:!0}),C.triggerHandler("timedout",[y]),y.dismiss()},getElements:function(){var t=e(N.popoverElement);return e().add(t.find(".OuterContainer").find("*"))}}});y.show=function(){return N.show({beforeShow:function(){n.enableAriaSupport(),p()}})},y.dismiss=function(){N.dismiss({beforeDismiss:function(){m()}})}};l.defaultUserOptions={timeout:a.Normal,priority:s.Normal,dismissOnInsideClick:!0,soundSourceFiles:{}},l.defaultControlOptions={animation:{entranceType:"slidein",exitType:"fadeout"},automationKey:"Toast",controlCss:"Toast",queueGroup:"Toast",queueMode:"fifo"},$B.SF_Mac||(l.defaultControlOptions.animation.entranceArguments=[{top:0,left:400}]),n.createToast=function(e){var t=window.top,n=null,i=null;try{t!==window&&t.wLive&&t.wLive.Controls&&t.wLive.Controls.Notifications&&(n=t.wLive.Controls.Notifications,n.getQueue().start(),i=n.createToast(e))}catch(o){}return i||(i=new l(e.title,e.content,e.contentImage,e.sourceIcon,e.options)),i},o.registerChangeUserOptionsApi("Toast",l.defaultUserOptions,["backgroundColor","moreCss","notificationContainer"]),n.getQueue().registerSearchApi("getToasts",[l.defaultControlOptions.queueGroup])}(window.originaljQuery||jQuery)}),define("ariasupport",["toast"],function(){!function(e){var t=wLive.Controls.Notifications;t.enableAriaSupport=function(){if(0===e("#notificationContainer").length){var t={position:"absolute",padding:"0",margin:"0",height:"100%",width:"100%",top:"0"};t[wLive.Controls.Notifications.InternalTools.Toolkit.isLtr()?"left":"right"]="0",e('<div id="notificationContainer" class="NotificationContainer" persist="1" role="alert" aria-live="assertive" aria-atomic="false" aria-haspopup="true"></div>').css(t).prependTo("BODY")}}}(window.originaljQuery||jQuery)}),define("doregister",["ariasupport"],function(){!function(){$Do.register("NotificationControls")}()}),define("Legacy_s_Legacy",function(){});